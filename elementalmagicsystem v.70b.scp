//Elemental Magic System v. 0.70b
//Scripted by Sean Eshbaugh (BungoMan)

//For public release and distribution for Sphere server shards versions
//0.55i or higher. The following scripts may be freely distributed,
//used, copied, or posted so long as credit is given to me for my hard
//work. You may remove this disclaimer and the following comments on how
//the magic system works if the copy you remove it from is your own, but
//I ask that if you distribute it that you leave this intact for others
//to read. I only wish to better the Sphere community and I hope that
//you will too. To the best of my knowledge this script is free of major
//bugs, however due to the fact that this script is only partially
//complete there are bound to be unforseen errors, typos, mistakes, and
//other things that could go wrong in this script. I am not responsible
//for any damage that this may cause to your shard. I strongly suggesy
//backing up your scripts before installing this.

//This is a magic system based on five schools of magic: Thaumatergy,
//Theugery, Necromancy, Apocrathy, and Summoning. Each school is totaly
//independent of each other. Mages may at anytime pursue a path in any
//school and switch between different schools without any consequences.
//In all schools of magic mana is required as well as a spellbook for
//the school of magic. Each school has its own way of advancement and
//its own set of rules.

//Thaumatergy is based on a system of thirteen elements, with four basic
//elements; Earth, Water, Fire, and Wind. These elements may be combined
//to create more complex elements such as Ice, Snow, Lightning, Poison,
//Swamp, Blood, Holy, Darkness, and Ether. The way you gains access to
//more advanced spells in this school is through continual practice in a
//particular element. Each time a mage successfuly casts a spell they
//earn a certain amount of "skill points" in that element. In order to
//cast a more advanced spell of that element you must have a certain
//level of skill in it. In order to cast a spell of a more advanced
//element you must have reached a certain level of skill in the elements
//that comprise the advanced element. All characters have tags on them
//that keep track of their resistance to a particular element, the lower
//the tag the weaker they are to the element, the higher the stronger
//they are, at a certain point a character can have the ability to
//absorb all damage from an element. In addition to spells that have
//elemental qualities, there are weapons, armor, and other items that
//give one who uses them the power of the element they are imbued with.
//However it should be noted that most elements have a natural weakness
//to one or more oppossing elements. Because of this wearing elemental
//armor while making you resistant to one element may very well make you
//very weak to its oppossing element(s). It should also be noted that
//there is a point at which you cannot become any weaker or any stronger
//in your resistance to an element. Earth, Water, Fire, and Wind are the
//four most basic elements, even a person with no magical skill can cast
//the first spells of these elements. Here is a basic diagram of how
//each of the elements is linked to other elements.


//         /---------------Ice---------\
//       /                /              \
//     /      /-----Snow/                  \
//     |    /                               |
//     |   |   Lightning--Earth--Darkness  /
//     \    \      |        |       |    /
//       \    \    |        |       |  /
//         \------Wind----Ether----Water-----Swamp
//                 |        |       |       /  \
//                 |        |       |     /      \
//                Holy----Fire----Poison/          \
//                                      \---------Blood


//Theugery is a system of magic based entirely on magical items called
//"foci" which draw magical energy from the etherial plane and bring it
//into the corporeal world and allow it to be used. Without these foci
//which take many forms, most of the etherial energy in the universe
//would be unaccessable by mortal beings. To cast spells of this school
//you only need to have the foci in your possesion and know the words of
//power for the spell. Theugery tends to be non-elemental in nature as a
//majority of the spells are related to status effects or supporting a
//character. However there are a few very powerful spells that only can
//be cast through the use of Theugerical foci. Unfourtunatly these foci
//are very rare and in some cases may not even exist any more.
//Fortunatly foci will never disappear or become useless after a spell
//is cast using them. As long as it is on your person you may use it to
//cast a spell.

//Necromancy is the practice of summoning the dead and using the powers
//of death to ones advantage. Necromancy spells are mostly spells that
//summon undead to your control. There are some spells that invoke the
//power of death for other purposes though. Necromancy is both dependent
//on your skill in Magery and your skill in Necromancy.

//Apocrathy is the art of using both magic and healing items to relieve
//pain and heal those who have been wounded in battle. Apocrathy is much
//the opposite of Necromancy in that instead of invoking dead it is used
//to stave death off and even reverse it. To cast an Apocrathetic spell
//you need only to have the required skill and to know the words of
//power. The effectiveness of all Apocrathy spells is based not only on
//magery but on your Healing skill as well.

//Summoning involves using magic and reagents that are consumed upon
//casting to summon creatures ranging from innocent animals to fearsom
//daemons. To cast a Summoning spell you must have the required reagents
//on you, when you successfuly cast a Summoning spell the reagents will
//be consumed. In order to summon stronger creatures you must practice
//summoning lesser creatures continuously. Much like Thaumatergy,
//Summoning uses a "skill point" system to keep track of your ability to
//summon creatures. Only when you have reached your peak skill in
//Summoning can you summon the dreaded Balron.

[FUNCTION f_mageryskillcheck]
IF <SRC.MAGERY><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_necromancyskillcheck]
IF <SRC.NECROMANCY><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_healingskillcheck]
IF <SRC.HEALING><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_earthskillcheck]
IF <SRC.TAG.EARTHSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_waterskillcheck]
IF <SRC.TAG.WATERSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_fireskillcheck]
IF <SRC.TAG.FIRESKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_windskillcheck]
IF <SRC.TAG.WINDSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_lightningskillcheck]
IF <SRC.TAG.LIGHTNINGSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_iceskillcheck]
IF <SRC.TAG.ICESKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_snowskillcheck]
IF <SRC.TAG.SNOWSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_poisonskillcheck]
IF <SRC.TAG.POISONSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_swampskillcheck]
IF <SRC.TAG.SWAMPSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_bloodskillcheck]
IF <SRC.TAG.BLOODSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_holyskillcheck]
IF <SRC.TAG.HOLYSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_darkskillcheck]
IF <SRC.TAG.DARKSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_etherialskillcheck]
IF <SRC.TAG.ETHERIALSKILL><<ARGS>
SRC.SYSMESSAGE You are not skilled enough to cast this.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_manacheck]
IF <SRC.MANA><<ARGS>
SRC.SYSMESSAGE Insufficient mana for this spell.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_reagent_check]
IF !<SRC.RESTEST <ARGS>>
SRC.SYSMESSAGE You lack the proper reagents for this spell.
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_fizzlecheck]
IF (<SRC.MAGERY>+{0 400})<<ARGS>
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
VAR.FIZZLECHECK <VAR.FIZZLECHECK>+1
ENDIF

[FUNCTION f_necromancyfizzlecheck1]
IF (<SRC.MAGERY>+{0 400})<<ARGS>
VAR.FIZZLECHECK <VAR.FIZZLECHECK>+1
ENDIF

[FUNCTION f_necromancyfizzlecheck2]
IF (<SRC.NECROMANCY>+{0 400})<<ARGS>
VAR.FIZZLECHECK <VAR.FIZZLECHECK>+1
ENDIF

[FUNCTION f_apocrathyfizzelcheck1]
IF (<SRC.MAGERY>+{0 400})<<ARGS>
VAR.FIZZLECHECK <VAR>FIZZLECHECK>+1
ENDF

[FUNCTION f_apocrathyfizzelcheck2]
IF (<SRC.HEALING>+{0 400})<<ARGS>
VAR.FIZZLECHECK <VAR>FIZZLECHECK>+1
ENDF

[FUNCTION f_summoningskillcheck1]
IF (<SRC.MAGERY>+{0 400})<<ARGS>
VAR.SPELLCHECK <VAR.SPELLCHECK>+1
ENDIF

[FUNCTION f_summonfizzlecheck2]
IF (<SRC.TAG.SUMMONINGSKILL>+{0 500})<<ARGS>
VAR.FIZZLECHECK <VAR.FIZZLECHECK>+1
ENDIF

[FUNCTION f_foci_check]
IF !<SRC.FINDLAYER(layer_pack).FINDID(<ARGS>)>
VAR.NOFOCI 1
ELSE
VAR.NOFOCI 0
ENDIF
IF <VAR.NOFOCI>
SRC.SYSMESSAGE You lack the proper foci to cast this spell.
REMOVE
RETURN
ENDIF

[FUNCTION f_skillgain]
IF <SRC.<ARGS>><3000
//VAR.X RAND(400)
//VAR.Y <SRC.<ARGS>>
//VAR.OPPY <VAR.Y>*-1
//VAR.Z <VAR.X>+<VAR.OPPY>
//IF <VAR.Z>>=1000
VAR.X <SRC.<ARGS>>/10.0
IF !RAND(<VAR.X>)
IF !(STRCMPI("<ARGS>","ALCHEMY"))
SRC.ALCHEMY <SRC.ALCHEMY>+1
ELSEIF !(STRCMPI("<ARGS>","ANATOMY"))
SRC.ANATOMY <SRC.ANATOMY>+1
ELSEIF !(STRCMPI("<ARGS>","ARCHERY"))
SRC.ARCHERY <SRC.ARCHERY>+1
ELSEIF !(STRCMPI("<ARGS>","ARMSLORE"))
SRC.ARMSLORE <SRC.ARMSLORE>+1
ELSEIF !(STRCMPI("<ARGS>","BEGGING"))
SRC.BEGGING <SRC.BEGGING>+1
ELSEIF !(STRCMPI("<ARGS>","BLACKSMITHING"))
SRC.BLACKSMITHING <SRC.BLACKSMITHING>+1
ELSEIF !(STRCMPI("<ARGS>","BOWCRAFT"))
SRC.BOWCRAFT <SRC.BOWCRAFT>+1
ELSEIF !(STRCMPI("<ARGS>","CAMPING"))
SRC.CAMPING <SRC.CAMPING>+1
ELSEIF !(STRCMPI("<ARGS>","CARPENTRY"))
SRC.CARPENTRY <SRC.CARPENTRY>+1
ELSEIF !(STRCMPI("<ARGS>","CARTOGRAPHY"))
SRC.CARTOGRAPHY <SRC.CARTOGRAPHY>+1
ELSEIF !(STRCMPI("<ARGS>","COOKING"))
SRC.COOKING <SRC.COOKING>+1
ELSEIF !(STRCMPI("<ARGS>","DETECTINGHIDDEN"))
SRC.DETECTINGHIDDEN <SRC.DETECTINGHIDDEN>+1
ELSEIF !(STRCMPI("<ARGS>","ENTICEMENT"))
SRC.ENTICEMENT <SRC.ENTICEMENT>+1
ELSEIF !(STRCMPI("<ARGS>","EVALUATINGINTEL"))
SRC.EVALUATINGINTEL <SRC.EVALUATINGINTEL>+1
ELSEIF !(STRCMPI("<ARGS>","FENCING"))
SRC.FENCING <SRC.FENCING>+1
ELSEIF !(STRCMPI("<ARGS>","FISHING"))
SRC.FISHING <SRC.FISHING>+1
ELSEIF !(STRCMPI("<ARGS>","FORENSICS"))
SRC.FORENSICS <SRC.FORENSICS>+1
ELSEIF !(STRCMPI("<ARGS>","HEALING"))
SRC.HEALING <SRC.HEALING>+1
ELSEIF !(STRCMPI("<ARGS>","HERDING"))
SRC.HERDING <HERDING>+1
ELSEIF !(STRCMP("<ARGS>","HIDING"))
SRC.HIDING <SRC.HIDING>+1
ELSEIF !(STRCMPI("<ARGS>","INSCRIPTION"))
SRC.INSCRIPTION <SRC.INSCRIPTION>+1
ELSEIF !(STRCMPI("<ARGS>","ITEMID"))
SRC.ITEMID <SRC.ITEMID>+1
ELSEIF !(STRCMPI("<ARGS>","LOCKPICKING"))
SRC.LOCKPICKING <SRC.LOCKPICKING>+1
ELSEIF !(STRCMPI("<ARGS>","LUMBERJACKING"))
SRC.LUMBERJACKING <SRC.LUMBERJACKING>+1
ELSEIF !(STRCMPI("<ARGS>","MACEFIGHTING"))
SRC.MACEFIGHTING <SRC.MACEFIGHTING>+1
ELSEIF !(STRCMPI("<ARGS>","MAGERY"))
SRC.MAGERY <SRC.MAGERY>+1
ELSEIF !(STRCMPI("<ARGS>","MAGICRESISTANCE"))
SRC.MAGICRESISTANCE <SRC.MAGICRESISTANCE>+1
ELSEIF !(STRCMPI("<ARGS>","MEDITATION"))
SRC.MEDITATION <SRC.MEDITATION>+1
ELSEIF !(STRCMPI("<ARGS>","MINING"))
SRC.MINING <SRC.MINING>+1
ELSEIF !(STRCMPI("<ARGS>","MUSICIANSHIP"))
SRC.MUSICIANSHIP <SRC.MUSICIANSHIP>+1
ELSEIF !(STRCMPI("<ARGS>","NECROMANCY"))
SRC.NECROMANCY <SRC.NECROMANCY>+1
ELSEIF !(STRCMPI("<ARGS>","PARRYING"))
SRC.PARRYING <SRC.PARRYING>+1
ELSEIF !(STRCMPI("<ARGS>","PEACEMAKING"))
SRC.PEACEMAKING <SRC.PEACEMAKING>+1
ELSEIF !(STRCMPI("<ARGS>","POISONING"))
SRC.POISONING <SRC.POISONING>+1
ELSEIF !(STRCMPI("<ARGS>","PROVOCATION"))
SRC.PROVOCATION <SRC.PROVOCATION>+1
ELSEIF !(STRCMPI("<ARGS>","REMOVETRAP"))
SRC.REMOVETRAP <SRC.REMOVETRAP>+1
ELSEIF !(STRCMPI("<ARGS>","SNOOPING"))
SRC.SNOOPING <SRC.SNOOPING>+1
ELSEIF !(STRCMPI("<ARGS>","SPIRITSPEAK"))
SRC.SPIRITSPEAK <SRC.SPIRITSPEAK>+1
ELSEIF !(STRCMPI("<ARGS>","STEALING"))
SRC.STEALING <SRC.STEALING>+1
ELSEIF !(STRCMPI("<ARGS>","STEALTH"))
SRC.STEALTH <SRC.STEALTH>+1
ELSEIF !(STRCMPI("<ARGS>","SWORDSMANSHIP"))
SRC.SWORDSMANSHIP <SRC.SWORDSMANSHIP>+1
ELSEIF !(STRCMPI("<ARGS>","TACTICS"))
SRC.TACTICS <SRC.TACTICS>+1
ELSEIF !(STRCMPI("<ARGS>","TAILORING"))
SRC.TAILORING <SRC.TAILORING>+1
ELSEIF !(STRCMPI("<ARGS>","TASTEID"))
SRC.TASTEID <SRC.TASTEID>+1
ELSEIF !(STRCMPI("<ARGS>","TINKERING"))
SRC.TINKERING <SRC.TINKERING>+1
ELSEIF !(STRCMPI("<ARGS>","TRACKING"))
SRC.TRACKING <SRC.TRACKING>+1
ELSEIF !(STRCMPI("<ARGS>","VETERINARY"))
SRC.VETERINARY <SRC.VETERINARY>+1
ELSEIF !(STRCMPI("<ARGS>","WRESTLING"))
SRC.WRESTLING <SRC.WRESTLING>+1
ENDIF
ENDIF
ENDIF

[FUNCTION f_default_elemental]
TAG.EARTH 1
TAG.WATER 1
TAG.FIRE 1
TAG.WIND 1
TAG.LIGHTNING 1
TAG.ICE 1
TAG.SNOW 1
TAG.POISON 1
TAG.SWAMP 1
TAG.BLOOD 1
TAG.HOLY 1
TAG.DARK 1
TAG.ETHER 1
TAG.IMMUNEPARALYZE 0
TAG.IMMUNEPROVOKATION 0
TAG.MAGICREFLECTION 0
TAG.REFLECTIONSTRENGTH 0

[FUNCTION f_undead_elemental]
TAG.EARTH 1
TAG.WATER 1
TAG.FIRE 0
TAG.WIND 1
TAG.LIGHTNING 1
TAG.ICE 1
TAG.SNOW 1
TAG.POISON 2
TAG.SWAMP 1
TAG.BLOOD 4
TAG.HOLY 0
TAG.DARK 3
TAG.ETHER 1
TAG.IMMUNEPARALYZE 0
TAG.IMMUNEPROVOKATION 0
TAG.MAGICREFLECTION 0
TAG.REFLECTIONSTRENGTH 0

//0 is weak
//1 is default or normal
//2 is strong
//3 is immune
//4 is absorb

[FUNCTION f_element_check]
IF 0<SRC.TARG.TAG.<ARGS>><=0
VAR.DAMTYPE 0
ELSEIF 0<SRC.TARG.TAG.<ARGS>>==1
VAR.DAMTYPE 1
ELSEIF <SRC.TARG.TAG.<ARGS>>==2
VAR.DAMTYPE 2
ELSEIF 0<SRC.TARG.TAG.<ARGS>>==3
VAR.DAMTYPE 3
ELSEIF 0<SRC.TARG.TAG.<ARGS>>>=4
VAR.DAMTYPE 4
ENDIF

[FUNCTION f_spell_damage]
IF <VAR.DAMTYPE>==0
SRC.TARG.DAMAGE (<SRC.MAGERY>/(<ARGS>/20))//*(<SRC.EVALUATINGINTEL>/2.0 //+-(<SRC.TARG.MAGICRESISTANCE>/1500)
SRC.TARG.DAMAGE {0 10}
ELSEIF <VAR.DAMTYPE>==1
IF <SRC.TARG.MAGICRESISTANCE>>RAND(3000)
SRC.TARG.SYSMESSAGE You feel yourself resisting magical energy.
SRC.SYSMESSAGE They seem to resist the spells effects.
SRC.TARG.DAMAGE (<SRC.TARG.MAGICRESISTANCE>/300)
SRC.TARG.DAMAGE {0 4}
SRC.TARG.f_skillgain MAGICRESISTANCE
ELSE
SRC.TARG.DAMAGE <SRC.MAGERY>/<ARGS> //+-(<SRC.TARG.MAGICRESISTANCE>/60)
SRC.TARG.DAMAGE {0 10}
ENDIF
ELSEIF <VAR.DAMTYPE>==2
IF <SRC.TARG.MAGICRESISTANCE>>RAND(1500)
SRC.TARG.SYSMESSAGE You feel yourself resisting magical energy.
SRC.SYSMESSAGE They seem to resist the spells effects.
SRC.TARG.DAMAGE (<SRC.TARG.MAGICRESISTANCE>/600)
SRC.TARG.DAMAGE {0 4}
SRC.TARG.f_skillgain MAGICRESISTANCE
ELSE
SRC.TARG.DAMAGE <SRC.MAGERY>/(<ARGS>*20) //+-(<SRC.TARG.MAGICRESISTANCE>/300)
SRC.TARG.DAMAGE {0 10}
ENDIF
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.TARG.HITS <SRC.TARG.HITS>+(<SRC.MAGERY>/<ARGS>)
ENDIF
VAR.DAMTYPE
IF <SRC.TARG.FLAGS>&statf_freeze
SRC.TARG.FLAGS <SRC.TARG.FLAGS>&~statf_freeze
ENDIF

[FUNCTION f_foci_check]
IF !<SRC.RESTEST <ARGS>>
VAR.FOCICHECK 1
ENDIF

[FUNCTION f_magic_reflection]
IF <SRC.TARG.FINDID(i_rune_magic_reflection)>
VAR.REFLECT 1
ELSE
VAR.REFLECT 0
ENDIF

[FUNCTION f_reflect_spell_effect1]
IF <VAR.REFLECT>
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_reflect_spell_effect1
SRC.ACT.MORE <ARGS>
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
ENDIF

[FUNCTION f_reflect_spell_effect2]
IF <VAR.REFLECT>
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_reflect_spell_effect2
SRC.ACT.MOREP <ARGS>
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
ENDIF

[FUNCTION f_reflect_spell_effect3]
IF <VAR.REFLECT>
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_reflect_spell_effect3
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
ENDIF

[FUNCTION f_reflect_spell_effect4]
IF <VAR.REFLECT>
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_reflect_spell_effect4
SRC.ACT.MOREP <ARGS>
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
ENDIF

[FUNCTION f_reflect_spell_effect5]
IF <VAR.REFLECT>
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_reflect_spell_effect5
SRC.ACT.MOREP <ARGS>
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
ENDIF

[FUNCTION f_spell_damage_part1]
IF <VAR.REFLECT>
IF <SRC.TAG.<ARGS>><=0
VAR.DAMTYPE 0
ELSEIF <SRC.TAG.<ARGS>>==1
VAR.DAMTYPE 1
ELSEIF <SRC.TAG.<ARGS>>==2
VAR.DAMTYPE 2
ELSEIF <SRC.TAG.<ARGS>>==3
VAR.DAMTYPE 3
ELSEIF <SRC.TAG.<ARGS>>>=4
VAR.DAMTYPE 4
ENDIF
ENDIF

[FUNCTION f_reflect_damage_part2]
IF <VAR.REFLECT>
IF <VAR.DAMTYPE>==0
SRC.DAMAGE (<SRC.MAGERY>/(<ARGS>/20))//*(<SRC.EVALUATINGINTEL>/2.0 //+-(<SRC.TARG.MAGICRESISTANCE>/1500)
SRC.DAMAGE {0 10}
ELSEIF <VAR.DAMTYPE>==1
SRC.DAMAGE <SRC.MAGERY>/<ARGS> //+-(<SRC.TARG.MAGICRESISTANCE>/60)
SRC.DAMAGE {0 10}
ELSEIF <VAR.DAMTYPE>==2
IF <SRC.TARG.MAGICRESISTANCE>>RAND(1500)
SRC.DAMAGE <SRC.MAGERY>/(<ARGS>*20) //+-(<SRC.TARG.MAGICRESISTANCE>/300)
SRC.DAMAGE {0 10}
ELSEIF <VAR.DAMTYPE>==3
SRC.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.HITS <SRC.HITS>+(<SRC.MAGERY>/<ARGS>)
ENDIF
VAR.DAMTYPE
IF <SRC.FLAGS>&statf_freeze
SRC.FLAGS <SRC.FLAGS>&~statf_freeze
ENDIF
IF <SRC.TARG.FLAGS>&statf_freeze
SRC.TARG.FLAGS <SRC.TARG.FLAGS>&~statf_freeze
ENDIF
SRC.TARG.FINDID(i_rune_magic_reflection).REMOVE
VAR.REFELCT
ENDIF

[FUNCTION shownecromancy]
SRC.DIALOG d_show_necromancy
RETURN 1

[FUNCTION showelementalresistance]
SRC.DIALOG d_show_elemental_resistance
RETURN 1

[FUNCTION showelement]
SRC.NEWITEM i_showelement
SRC.ACT.EQUIP
RETURN 1

[FUNCTION f_thaumatergy_spellbook_pagearrange]
NEWITEM i_memory
ACT.MOREP <ARGS>
VAR.PAGENUM <ACT.MOREY>
VAR.FIRSTPAGE <ACT.MOREX>
ACT.REMOVE
f_thaumatergy_spellbook_clearpages <VAR.PAGENUM>
TRYP 0 TAG.THAUMATERGYPAGE<EVAL <VAR.FIRSTPAGE>>=1
f_thaumatergy_spellbook_pagearrange_part_2 <VAR.PAGENUM> <VAR.PAGENUM>

[FUNCTION f_thaumatergy_spellbook_clearpages]
TRYP 0 TAG.THAUMATERGYPAGE<ARGN>
IF <ARGN>>1
f_thaumatergy_spellbook_clearpages <EVAL (<ARGN>+-1)>
ENDIF

[FUNCTION f_thaumatergy_spellbook_pagearrange_part_2]
NEWITEM i_memory
ACT.MOREP <ARGS>
VAR.ACTPAGE <ACT.MOREX>
VAR.ACTPAGENUM <ACT.MOREY>
ACT.REMOVE
IF STRMATCH(<TAG.THAUMATERGYPAGE<EVAL <VAR.ACTPAGE>>>,)
TRYP 0 TAG.THAUMATERGYPAGE<EVAL <VAR.ACTPAGE>>=<EVAL <VAR.ACTPAGENUM>>
VAR.ACTPAGENUM <EVAL (<VAR.ACTPAGENUM>+-1)>
ENDIF
VAR.ACTPAGE <EVAL (<VAR.ACTPAGE>+-1)>
IF <VAR.ACTPAGE>>0
f_thaumatergy_spellbook_pagearrange_part_2 <VAR.ACTPAGE> <VAR.ACTPAGENUM>
ENDIF

[FUNCTION f_necromancy_spellbook_pagearrange]
NEWITEM i_memory
ACT.MOREP <ARGS>
VAR.PAGENUM <ACT.MOREY>
VAR.FIRSTPAGE <ACT.MOREX>
ACT.REMOVE
f_necromancy_spellbook_clearpages <VAR.PAGENUM>
TRYP 0 TAG.NECROMANCYPAGE<EVAL <VAR.FIRSTPAGE>>=1
f_necromancy_spellbook_pagearrange_part_2 <VAR.PAGENUM> <VAR.PAGENUM>

[FUNCTION f_necromancy_spellbook_clearpages]
TRYP 0 TAG.necromancyPAGE<ARGN>
IF <ARGN>>1
f_necromancy_spellbook_clearpages <EVAL (<ARGN>+-1)>
ENDIF

[FUNCTION f_necromancy_spellbook_pagearrange_part_2]
NEWITEM i_memory
ACT.MOREP <ARGS>
VAR.ACTPAGE <ACT.MOREX>
VAR.ACTPAGENUM <ACT.MOREY>
ACT.REMOVE
IF STRMATCH(<TAG.NECROMANCYPAGE<EVAL <VAR.ACTPAGE>>>,)
TRYP 0 TAG.NECROMANCYPAGE<EVAL <VAR.ACTPAGE>>=<EVAL <VAR.ACTPAGENUM>>
VAR.ACTPAGENUM <EVAL (<VAR.ACTPAGENUM>+-1)>
ENDIF
VAR.ACTPAGE <EVAL (<VAR.ACTPAGE>+-1)>
IF <VAR.ACTPAGE>>0
f_necromancy_spellbook_pagearrange_part_2 <VAR.ACTPAGE> <VAR.ACTPAGENUM>
ENDIF

[FUNCTION f_theugery_spellbook_pagearrange]
NEWITEM i_memory
ACT.MOREP <ARGS>
VAR.PAGENUM <ACT.MOREY>
VAR.FIRSTPAGE <ACT.MOREX>
ACT.REMOVE
f_theugery_spellbook_clearpages <VAR.PAGENUM>
TRYP 0 TAG.THEUGERYPAGE<EVAL <VAR.FIRSTPAGE>>=1
f_theugery_spellbook_pagearrange_part_2 <VAR.PAGENUM> <VAR.PAGENUM>

[FUNCTION f_theugery_spellbook_clearpages]
TRYP 0 TAG.THEUGERYPAGE<ARGN>
IF <ARGN>>1
f_theugery_spellbook_clearpages <EVAL (<ARGN>+-1)>
ENDIF

[FUNCTION f_theugery_spellbook_pagearrange_part_2]
NEWITEM i_memory
ACT.MOREP <ARGS>
VAR.ACTPAGE <ACT.MOREX>
VAR.ACTPAGENUM <ACT.MOREY>
ACT.REMOVE
IF STRMATCH(<TAG.THEUGERYPAGE<EVAL <VAR.ACTPAGE>>>,)
TRYP 0 TAG.THEUGERYPAGE<EVAL <VAR.ACTPAGE>>=<EVAL <VAR.ACTPAGENUM>>
VAR.ACTPAGENUM <EVAL (<VAR.ACTPAGENUM>+-1)>
ENDIF
VAR.ACTPAGE <EVAL (<VAR.ACTPAGE>+-1)>
IF <VAR.ACTPAGE>>0
f_theugery_spellbook_pagearrange_part_2 <VAR.ACTPAGE> <VAR.ACTPAGENUM>
ENDIF

[FUNCTION f_check_spellbook]
IF !<SRC.FINDLAYER(layer_pack).FINDID(<ARGS>)>
VAR.NOBOOK 1
ELSE
VAR.NOBOOK 0
ENDIF

[FUNCTION castspellstone]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM stone_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwallofstone]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM wall_of_stone_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellstoneskin]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM stoneskin_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmudslide]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mudslide_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellboulder]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM boulder_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgolem]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM golem_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellpetrify]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM petrify_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellearthquake]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM earthquake_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonearthelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_earth_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsprinkle]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM sprinkle_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbubble]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM bubble_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwatercannon]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM water_cannon_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellflood]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM flood_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellerosion]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM erosion_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellundertow]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM undertow_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwaterfall]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM water_fall_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelltidalwave]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM tidal_wave_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonwaterelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_water_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellflamingarrow]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM flaming_arrow_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfireball]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM fireball_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellflameshield]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM flame_shield_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfirefield]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM fire_field_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfirebolt]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM fire_bolt_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellexplosion]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM explosion_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellflamewave]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM flame_wave_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellflamestrike]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM flamestrike_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonfireelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_fire_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgust]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM gust_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfog]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM fog_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsonicboom]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM sonic_boom_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgale]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM gale_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelltornado]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM tornado_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellvaccum]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM vaccum_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellhurricane]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM hurricane_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwhirlwind]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM whirl_wind_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonairelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_air_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellspark]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM spark_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelllightning]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM lightning_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellenergyfield]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM energy_field_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellballlightning]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ball_lightning_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellshock]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM shock_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellchainlightning]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM chain_lightning_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellnova]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM nova_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellluminare]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM luminare_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonlightningelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_lightning_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellicecube]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ice_cube_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwallofice]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM wall_of_ice_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsleet]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM sleet_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellicetrap]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ice_trap_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellicesickle]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ice_strike_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldeepfreeze]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM deep_freeze_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellabsolutezero]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM absolute_zero_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellicestrike]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ice_strike_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummoniceelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_ice_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsnowball]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM snowball_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsnowdrift]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM snow_drift_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcoldchill]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM cold_chill_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfrostbite]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM frost_bite_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsnowman]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM snow_man_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellblizzard]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM blizzard_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellavalanche]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM avalanche_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwhiteout]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM whiteout_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonsnowelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_snow_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelllesserpoison]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM lesser_poison_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelltoxicgas]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM toxic_gas_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellpoison]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM posion_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellpoisonfield]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM poison_field_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellvenom]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM venom_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgreaterpoison]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM greater_poison_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbio]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM bio_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonpoisonelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_poison_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldeadlypoison]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM deadly_poison_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsludge]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM sludge_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellslime]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM slime_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonswamptentacles]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_swamp_tentacles_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsewage]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM sewage_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellensnare]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ensnare_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellswampgas]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM swamp_gas_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellacidrain]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM acid_rain_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbadbreath]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM bad_breath_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonswampelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_swamp_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellharm]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM harm_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellvampire]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM vampire_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmanadrain]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mana_drain_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmanavampire]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mana_vampire_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellexhaustion]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM exhaustion_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellstanimavampire]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM stamina_vampire_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbloodlust]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM blood_lust_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcorpseexplode]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM corpse_explode_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonbloodelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_blood_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellholylight]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM holy_light_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellholyvision]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM holy_vision_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellholywind]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM holy_wind_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellholybeam]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM holy_beam_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldestroysin]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM destroy_sin_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellholyblast]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM holy_blast_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcleanse]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM cleanse_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelllightpillar]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM light_pillar_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonholyelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_holy_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellunholylight]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM unholy_light_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldarkness]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM darkness_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellunholystrength]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM unholy_strength_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldemi]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM demi_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellevilpresence]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM evil_presence_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellquarter]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM quarter_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldarkmatter]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM dark_matter_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldarkholy]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM dark_holy_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonshadowelemental]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_shadow_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellenergybolt]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM energy_bolt_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbladespirit]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM _spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmeteorswarm]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM meteor_swarm_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcomet]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM comet_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellenergyvortex]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM energy_vortex_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellultima]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM ultima_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmegid]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM megid_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmegedo]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM megedo_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellarmagedon]
f_check_spellbook i_thaumatergy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM armagedon_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellteleport]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM teleport_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelltelekinesis]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM telekinesis_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellrecall]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM recall_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmark]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mark_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgatetravel]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM gate_travel_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellreactivearmor]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM reactive_armor_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellprotection]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM protection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellshield]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM shield_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-earth]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-earth_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-water]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-water_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-fire]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-fire_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-wind]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-wind_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-lightning]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-lightning_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-ice]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-ice_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-poison]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-poison_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-snow]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-snow_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-swamp]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-swamp_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-blood]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-blood_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-holy]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-holy_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellanti-darkness]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM anti-darkness_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspell]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM vaccine
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellarchprotection]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM arch_protection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmagicreflection]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM magic_reflection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellwall]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM wall_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellnightsight]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM nightsight_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellagility]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM agility_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcunning]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM cunning_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellstrength]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM strength_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbless]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM bless_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellinvisibility]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM invisibility_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellautoresurrection]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM auto_resurrection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellclumsy]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM clumsy_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfeeblemindedness]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM feeblemindedness_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellweaken]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM weaken_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcurse]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM curse_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellblindness]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM blindness_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellhallucination]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM hallucination_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellhealthleak]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM health_leak_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmasscurse]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mass_curse_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellpalehorse]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM pale_horse_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbeam]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM beam_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellparalyze]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM paralyze_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldispel]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM dispel_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmagicmissile]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM magic_missile_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellparalyzefield]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM paralyze_field_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmassdispel]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mass_dispel_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldisruptor]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM disruptor_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellx-zone]
f_check_spellbook i_theugery_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM x-zone_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcreatefood]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM create_food_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellheal]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM heal_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcure]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM cure_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellarchcure]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM arch_cure_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgreaterheal]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM greater_heal_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellregen]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM regen_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellmassheal]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM mass_heal_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellresurrection]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM resurrection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellres]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM resurrection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellfullheal]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM full_heal_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellgreaterresurrection]
f_check_spellbook i_apocrathy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM greater_resurrection_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonzombie]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_zombie_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonskeleton]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_skeleton_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonghost]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_ghost_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonghoul]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_ghoul_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonskeletonarcher]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_skeleton_archer_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonspectre]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_spectre_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonmummy]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_mummy_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonskeletonmage]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_skeleton_mage_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonapparition]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_apparition_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonskeletonknight]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_skeleton_knight_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonliche]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_liche_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonlichelord]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_liche_lord_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellraisedead]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM raise_dead_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellbonearmor]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM bone_armor_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellcontrolundead]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM control_undead_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspelldeath]
f_check_spellbook i_necromancy_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM death_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonsmallanimal]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_small_animal_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonsmallmonster]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_small_monster_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonanimal]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_animal_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonmonster]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_monster_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonelemental]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_elemental_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonbeast]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_beast_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonlesserdaemon]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_lesser_daemon_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonfallenangel]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_fallen_angel_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummondaemon]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_daemon_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummongreaterdaemon]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_greater_daemon_spell
SRC.ACT.EQUIP
ENDIF

[FUNCTION castspellsummonbalron]
f_check_spellbook i_summoning_spellbook
IF <VAR.NOBOOK>
SRC.SYSMESSAGE You cannot cast this.
RETURN 1
ELSE
SRC.NEWITEM summon_balron_spell
SRC.ACT.EQUIP
ENDIF

[DIALOG d_show_necromancy]
0,0
PAGE 0
Resizepic 350 200 3500 300 100
Text 375 230 1101 0
Button 470 260 249 248 1 0 0

[DIALOG d_show_necromancy TEXT]
Your current Necromancy is <EVAL <SRC.NECROMANCY>>.

[DIALOG d_show_necromancy BUTTON]

[DIALOG d_show_elemental_resistance]
0, 0
PAGE 0
//resizepic 350 200 3500 300 100
Text 300 60 1104 0
Text 300 100 1101 1
Text 300 120 1101 2
Text 300 140 1101 3
Text 300 160 1101 4
Text 300 180 1101 5
Text 300 200 1101 6
Text 300 220 1101 7
Text 300 240 1101 8
Text 300 260 1101 10
Text 300 280 1101 11
Text 300 300 1101 12
Text 300 320 1101 13
Text 300 350 1101 14
Text 300 370 1101 15
Text 300 390 1101 16
Text 300 410 1101 17
Text 300 430 1101 18
Button 395 450 249 248 1 0 0

[DIALOG d_show_elemental_resistance TEXT]
Current Elemental Status
Earth: <EVAL <SRC.TAG.EARTH>>
Water: <EVAL <SRC.TAG.WATER>>
Fire: <EVAL <SRC.TAG.FIRE>>
Wind: <EVAL <SRC.TAG.WIND>>
Lightning: <EVAL <SRC.TAG.LIGHTNING>>
Ice: <EVAL <SRC.TAG.ICE>>
Snow: <EVAL <SRC.TAG.SNOW>>
Poison: <EVAL <SRC.TAG.POISON>>
Swamp: <EVAL <SRC.TAG.SWAMP>>
Blood: <EVAL <SRC.TAG.BLOOD>>
Holy:  <EVAL <SRC.TAG.HOLY>>
Dark: <EVAL <SRC.TAG.DARK>>
Ether: <EVAL <SRC.TAG.ETHER>>
0 or less is weak.
1 is normal.
2 is strong.
3 is immune.
4 or more is absorb.

[DIALOG d_show_elemental_resistance BUTTON]

[DIALOG d_show_element]
0, 0
PAGE 0
//resizepic 350 200 3500 300 100
Text 300 60 1104 0
Text 300 100 1101 1
Text 300 120 1101 2
Text 300 140 1101 3
Text 300 160 1101 4
Text 300 180 1101 5
Text 300 200 1101 6
Text 300 220 1101 7
Text 300 240 1101 8
Text 300 260 1101 10
Text 300 280 1101 11
Text 300 300 1101 12
Text 300 320 1101 13
Text 300 350 1101 14
Text 300 370 1101 15
Text 300 390 1101 16
Text 300 410 1101 17
Text 300 430 1101 18
Button 395 450 249 248 1 0 0

[DIALOG d_show_element TEXT]
<SRC.TARG.NAME>'s Current Elemental Status
Earth: <EVAL <SRC.TARG.TAG.EARTH>>
Water: <EVAL <SRC.TARG.TAG.WATER>>
Fire: <EVAL <SRC.TARG.TAG.FIRE>>
Wind: <EVAL <SRC.TARG.TAG.WIND>>
Lightning: <EVAL <SRC.TARG.TAG.LIGHTNING>>
Ice: <EVAL <SRC.TARG.TAG.ICE>>
Snow: <EVAL <SRC.TARG.TAG.SNOW>>
Poison: <EVAL <SRC.TARG.TAG.POISON>>
Swamp: <EVAL <SRC.TARG.TAG.SWAMP>>
Blood: <EVAL <SRC.TARG.TAG.BLOOD>>
Holy:  <EVAL <SRC.TARG.TAG.HOLY>>
Dark: <EVAL <SRC.TARG.TAG.DARK>>
Ether: <EVAL <SRC.TARG.TAG.ETHER>>
0 or less is weak.
1 is normal.
2 is strong.
3 is immune.
4 or more is absorb.

[DIALOG d_show_element BUTTON]

[DIALOG d_thaumatergy_spellbook]
0, 0
PAGE 0
Gumppic 50 50 500
PAGE 1
Button 406 50 502 502 0 2 0 //next PAGE
Button 80 90 2117 2118 0 2 0 //go to earth spells
Button 80 115 2117 2118 0 2 0 //go to water spells
Button 80 140 2117 2118 0 3 0 //go to fire spells
Button 80 165 2117 2118 0 3 0 //go to wind spells
Button 80 190 2117 2118 0 4 0 //go to lightning spells
Button 80 215 2117 2118 0 4 0 //go to ice spells
Button 80 240 2117 2118 0 5 0 //go to snow spells
Button 275 90 2117 2118 0 5 0 //go to poison spells
Button 275 115 2117 2118 0 6 0 //go to swamp spells
Button 275 140 2117 2118 0 6 0 //go to blood spells
Button 275 165 2117 2118 0 7 0 //go to holy spells
Button 275 190 2117 2118 0 7 0 //go to dark spells
Button 275 215 2117 2118 0 8 0 //go to etherial spells
Button 275 240 2117 2118 1 0 0 //cancel and close book
Text 79 54 1101 0
Text 105 87 1101 1
Text 105 112 1101 2
Text 105 137 1101 3
Text 105 162 1101 4
Text 105 187 1101 5
Text 105 212 1101 6
Text 105 237 1101 7
Text 300 87 1101 8
Text 300 112 1101 9
Text 300 137 1101 10
Text 300 162 1101 11
Text 300 187 1101 12
Text 300 212 1101 13
Text 300 237 1101 14
PAGE 2
Button 50 51 501 501 0 1 0 //go to last PAGE
Button 406 50 502 502 0 3 0 //go to next PAGE
Text 114 54 1101 15
Text 105 82 1101 16
Text 105 100 1101 17
Text 105 118 1101 18
Text 105 136 1101 19
Text 105 154 1101 20
Text 105 172 1101 21
Text 105 190 1101 22
Text 105 208 1101 23
Text 105 226 1101 24
Text 110 244 1101 25
Button 80 85 2117 2118 1 0 1
Button 80 103 2117 2118 1 0 2
Button 80 121 2117 2118 1 0 3
Button 80 139 2117 2118 1 0 4
Button 80 157 2117 2118 1 0 5
Button 80 175 2117 2118 1 0 6
Button 80 193 2117 2118 1 0 7
Button 80 211 2117 2118 1 0 8
Button 80 229 2117 2118 1 0 9
Text 288 54 1101 26
Text 300 82 1101 27
Text 300 101 1101 28
Text 300 118 1101 29
Text 300 136 1101 30
Text 300 154 1101 31
Text 300 172 1101 32
Text 300 190 1101 33
Text 300 208 1101 34
Text 300 226 1101 35
Text 310 244 1101 36
Button 275 85 2117 2118 1 0 10
Button 275 103 2117 2118 1 0 11
Button 275 121 2117 2118 1 0 12
Button 275 139 2117 2118 1 0 13
Button 275 157 2117 2118 1 0 14
Button 275 175 2117 2118 1 0 15
Button 275 193 2117 2118 1 0 16
Button 275 211 2117 2118 1 0 17
Button 275 229 2117 2118 1 0 18
PAGE 3
Button 50 51 501 501 0 2 0
Button 405 50 502 502 0 4 0
Text 114 54 1101 37
Text 105 82 1101 38
Text 105 100 1101 39
Text 105 118 1101 40
Text 105 136 1101 41
Text 105 154 1101 42
Text 105 172 1101 43
Text 105 190 1101 44
Text 105 208 1101 45
Text 105 226 1101 46
Text 110 244 1101 47
Button 80 85 2117 2118 1 0 19
Button 80 103 2117 2118 1 0 20
Button 80 121 2117 2118 1 0 21
Button 80 139 2117 2118 1 0 22
Button 80 157 2117 2118 1 0 23
Button 80 175 2117 2118 1 0 24
Button 80 193 2117 2118 1 0 25
Button 80 211 2117 2118 1 0 26
Button 80 229 2117 2118 1 0 27
Text 288 54 1101 48
Text 300 82 1101 49
Text 300 101 1101 50
Text 300 118 1101 51
Text 300 136 1101 52
Text 300 154 1101 53
Text 300 172 1101 54
Text 300 190 1101 55
Text 300 208 1101 56
Text 300 226 1101 57
Text 310 244 1101 58
Button 275 85 2117 2118 1 0 28
Button 275 103 2117 2118 1 0 29
Button 275 121 2117 2118 1 0 30
Button 275 139 2117 2118 1 0 31
Button 275 157 2117 2118 1 0 32
Button 275 175 2117 2118 1 0 33
Button 275 193 2117 2118 1 0 34
Button 275 211 2117 2118 1 0 35
Button 275 229 2117 2118 1 0 36
PAGE 4
Button 50 51 501 501 0 3 0
Button 406 50 502 502 0 5 0
Text 114 54 1101 59
Text 105 82 1101 60
Text 105 100 1101 61
Text 105 118 1101 62
Text 105 136 1101 63
Text 105 154 1101 64
Text 105 172 1101 65
Text 105 190 1101 66
Text 105 208 1101 67
Text 105 226 1101 68
Text 110 244 1101 69
Button 80 85 2117 2118 1 0 37
Button 80 103 2117 2118 1 0 38
Button 80 121 2117 2118 1 0 39
Button 80 139 2117 2118 1 0 40
Button 80 157 2117 2118 1 0 41
Button 80 175 2117 2118 1 0 42
Button 80 193 2117 2118 1 0 43
Button 80 211 2117 2118 1 0 44
Button 80 229 2117 2118 1 0 45
Text 288 54 1101 70
Text 300 82 1101 71
Text 300 101 1101 72
Text 300 118 1101 73
Text 300 136 1101 74
Text 300 154 1101 75
Text 300 172 1101 76
Text 300 190 1101 77
Text 300 208 1101 78
Text 300 226 1101 79
Text 310 244 1101 80
Button 275 85 2117 2118 1 0 46
Button 275 103 2117 2118 1 0 47
Button 275 121 2117 2118 1 0 48
Button 275 139 2117 2118 1 0 49
Button 275 157 2117 2118 1 0 50
Button 275 175 2117 2118 1 0 51
Button 275 193 2117 2118 1 0 52
Button 275 211 2117 2118 1 0 53
Button 275 229 2117 2118 1 0 54
PAGE 5
Button 50 51 501 501 0 4 0
Button 406 50 502 502 0 6 0
Text 114 54 1101 81
Text 105 82 1101 82
Text 105 100 1101 83
Text 105 118 1101 84
Text 105 136 1101 85
Text 105 154 1101 86
Text 105 172 1101 87
Text 105 190 1101 88
Text 105 208 1101 89
Text 105 226 1101 90
Text 110 244 1101 91
Button 80 85 2117 2118 1 0 55
Button 80 103 2117 2118 1 0 56
Button 80 121 2117 2118 1 0 57
Button 80 139 2117 2118 1 0 58
Button 80 157 2117 2118 1 0 59
Button 80 175 2117 2118 1 0 60
Button 80 193 2117 2118 1 0 61
Button 80 211 2117 2118 1 0 62
Button 80 229 2117 2118 1 0 63
Text 288 54 1101 92
Text 300 82 1101 93
Text 300 101 1101 94
Text 300 118 1101 95
Text 300 136 1101 96
Text 300 154 1101 97
Text 300 172 1101 98
Text 300 190 1101 99
Text 300 208 1101 100
Text 310 226 1101 101
Text 300 244 1101 102
Button 275 85 2117 2118 1 0 64
Button 275 103 2117 2118 1 0 65
Button 275 121 2117 2118 1 0 66
Button 275 139 2117 2118 1 0 67
Button 275 157 2117 2118 1 0 68
Button 275 175 2117 2118 1 0 69
Button 275 193 2117 2118 1 0 70
Button 275 211 2117 2118 1 0 71
Button 275 247 2117 2118 1 0 72
PAGE 6
Button 50 51 501 501 0 5 0
Button 406 50 502 502 0 7 0
Text 114 54 1101 103
Text 105 82 1101 104
Text 105 100 1101 105
Text 105 118 1101 106
Text 105 136 1101 107
Text 105 154 1101 108
Text 105 172 1101 109
Text 105 190 1101 110
Text 105 208 1101 111
Text 105 226 1101 112
Text 110 244 1101 113
Button 80 85 2117 2118 1 0 73
Button 80 103 2117 2118 1 0 74
Button 80 121 2117 2118 1 0 75
Button 80 139 2117 2118 1 0 76
Button 80 157 2117 2118 1 0 77
Button 80 175 2117 2118 1 0 78
Button 80 193 2117 2118 1 0 79
Button 80 211 2117 2118 1 0 80
Button 80 229 2117 2118 1 0 81
Text 288 54 1101 114
Text 300 82 1101 115
Text 300 101 1101 116
Text 300 118 1101 117
Text 300 136 1101 118
Text 300 154 1101 119
Text 300 172 1101 120
Text 300 190 1101 121
Text 300 208 1101 122
Text 300 226 1101 123
Text 310 244 1101 124
Button 275 85 2117 2118 1 0 82
Button 275 103 2117 2118 1 0 83
Button 275 121 2117 2118 1 0 84
Button 275 139 2117 2118 1 0 85
Button 275 157 2117 2118 1 0 86
Button 275 175 2117 2118 1 0 87
Button 275 193 2117 2118 1 0 88
Button 275 211 2117 2118 1 0 89
Button 275 229 2117 2118 1 0 90
PAGE 7
Button 50 51 501 501 0 6 0
Button 406 50 502 502 0 8 0
Text 114 54 1101 125
Text 105 82 1101 126
Text 105 100 1101 127
Text 105 118 1101 128
Text 105 136 1101 129
Text 105 154 1101 130
Text 105 172 1101 131
Text 105 190 1101 132
Text 105 208 1101 133
Text 105 226 1101 134
Text 110 244 1101 135
Button 80 85 2117 2118 1 0 91
Button 80 103 2117 2118 1 0 92
Button 80 121 2117 2118 1 0 93
Button 80 139 2117 2118 1 0 94
Button 80 157 2117 2118 1 0 95
Button 80 175 2117 2118 1 0 96
Button 80 193 2117 2118 1 0 97
Button 80 211 2117 2118 1 0 98
Button 80 229 2117 2118 1 0 99
Text 288 54 1101 136
Text 300 82 1101 137
Text 300 101 1101 138
Text 300 118 1101 139
Text 300 136 1101 140
Text 300 154 1101 141
Text 300 172 1101 142
Text 300 190 1101 143
Text 300 208 1101 144
Text 300 226 1101 145
Text 310 244 1101 146
Button 275 85 2117 2118 1 0 100
Button 275 103 2117 2118 1 0 101
Button 275 121 2117 2118 1 0 102
Button 275 139 2117 2118 1 0 103
Button 275 157 2117 2118 1 0 104
Button 275 175 2117 2118 1 0 105
Button 275 193 2117 2118 1 0 106
Button 275 211 2117 2118 1 0 107
Button 275 229 2117 2118 1 0 108
PAGE 8
Button 50 51 501 501 0 7 0
Text 114 54 1101 147
Text 105 82 1101 148
Text 105 100 1101 149
Text 105 118 1101 150
Text 105 136 1101 151
Text 105 154 1101 152
Text 105 172 1101 153
Text 105 190 1101 154
Text 105 208 1101 155
Text 105 226 1101 156
Button 80 85 2117 2118 1 0 109
Button 80 103 2117 2118 1 0 110
Button 80 121 2117 2118 1 0 111
Button 80 139 2117 2118 1 0 112
Button 80 157 2117 2118 1 0 113
Button 80 175 2117 2118 1 0 114
Button 80 193 2117 2118 1 0 115
Button 80 211 2117 2118 1 0 116
Button 80 229 2117 2118 1 0 117

[DIALOG d_thaumatergy_spellbook TEXT]
Thaumatergy Spellbook
Earth Magic
Water Magic
Fire Magic
Wind Magic
Lightning Magic
Ice Magic
Snow Magic
Poison Magic
Swamp Magic
Blood Magic
Holy Magic
Dark Magic
Etherial Magic
Close Spellbook
Earth Magic
Stone
Wall of Stone
Stoneskin
Mudslide
Boulder
Golem
Petrify
Earthquake
Summon Earth
Elemental
Water Magic
Sprinkle
Bubble
Water Cannon
Flood
Erosion
Undertow
Waterfall
Tidal Wave
Summon Water
Elemental
Fire Magic
Flaming Arrow
Fireball
Flame Shield
Fire Field
Fire Bolt
Explosion
Flame Wave
Flamestrike
Summon Fire
Elemental
Wind Magic
Gust
Fog
Sonic Boom
Gale
Tornado
Vaccum
Hurricane
Whirl Wind
Summon Air
Elemental
Lightning Magic
Spark
Lightning
Energy Field
Ball Lightning
Shock
Chain Lightning
Nova
Luminare
Summon Lightning
Elemental
Ice Magic
Ice Cube
Wall of Ice
Sleet
Ice Trap
Icesicle
Deep Freeze
Absolute Zero
Ice Strike
Summon Ice
Elemental
Snow Magic
Snowball
Snow Drift
Cold Chill
Frost Bite
Snow Man
Blizzard
Avalanche
Whiteout
Summon Snow
Elemental
Poison Magic
Lesser Poison
Toxic Gas
Poison
Poison Field
Venom
Greater Poison
Bio
Summon Poison
Elemental
Deadly Poison
Swamp Magic
Sludge
Slime
Swamp Tentacles
Sewage
Ensnare
Swamp Gas
Acid Rain
Bad Breath
Summon Swamp
Elemental
Blood Magic
Harm
Vampire
Mana Drain
Mana Vampire
Exhaustion
Stamina Vampire
Blood Lust
Corpse Explode
Summon Blood
Elemental
Holy Magic
Holy Light
Holy Vision
Holy Wind
Holy Beam
Destroy Sin
Holy Blast
Cleanse
Light Pilar
Summon Holy
Elemental
Dark Magic
Unholy Light
Darkness
Unholy Strength
Demi
Evil Prescence
Quarter
Dark Matter
Dark Holy
Summon Shadow
Elemental
Etherial Magic
Energy Bolt
Blade Spirits
Meteor Swarm
Comet
Energy Vortex
Ultima
Megid
Megido
Armagedon

[DIALOG d_thaumatergy_spellbook BUTTON]
ON=1
SRC.NEWITEM stone_spell
SRC.ACT.EQUIP
RETURN 1
ON=2
SRC.NEWITEM wall_of_stone_spell
SRC.ACT.EQUIP
RETURN 1
ON=3
SRC.NEWITEM stoneskin_spell
SRC.ACT.EQUIP
RETURN 1
ON=4
SRC.NEWITEM mudslide_spell
SRC.ACT.EQUIP
RETURN 1
ON=5
SRC.NEWITEM boulder_spell
SRC.ACT.EQUIP
RETURN 1
ON=6
SRC.NEWITEM golem_spell
SRC.ACT.EQUIP
RETURN 1
ON=7
SRC.NEWITEM petrify_spell
SRC.ACT.EQUIP
RETURN 1
ON=8
SRC.NEWITEM earthquake_spell
SRC.ACT.EQUIP
RETURN 1
ON=9
SRC.NEWITEM summon_earth_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=10
SRC.NEWITEM sprinkle_spell
SRC.ACT.EQUIP
RETURN 1
ON=11
SRC.NEWITEM bubble_spell
SRC.ACT.EQUIP
RETURN 1
ON=12
SRC.NEWITEM water_cannon_spell
SRC.ACT.EQUIP
RETURN 1
ON=13
SRC.NEWITEM flood_spell
SRC.ACT.EQUIP
RETURN 1
ON=14
SRC.NEWITEM erosion_spell
SRC.ACT.EQUIP
RETURN 1
ON=15
SRC.NEWITEM undertow_spell
SRC.ACT.EQUIP
RETURN 1
ON=16
SRC.NEWITEM water_fall_spell
SRC.ACT.EQUIP
RETURN 1
ON=17
SRC.NEWITEM tidal_wave_spell
SRC.ACT.EQUIP
RETURN 1
ON=18
SRC.NEWITEM summon_water_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=19
SRC.NEWITEM flaming_arrow_spell
SRC.ACT.EQUIP
RETURN 1
ON=20
SRC.NEWITEM fireball_spell
SRC.ACT.EQUIP
RETURN 1
ON=21
SRC.NEWITEM flame_shield_spell
SRC.ACT.EQUIP
RETURN 1
ON=22
SRC.NEWITEM fire_field_spell
SRC.ACT.EQUIP
RETURN 1
ON=23
SRC.NEWITEM fire_bolt_spell
SRC.ACT.EQUIP
RETURN 1
ON=24
SRC.NEWITEM explosion_spell
SRC.ACT.EQUIP
RETURN 1
ON=25
SRC.NEWITEM flame_wave_spell
SRC.ACT.EQUIP
RETURN 1
ON=26
SRC.NEWITEM flamestrike_spell
SRC.ACT.EQUIP
RETURN 1
ON=27
SRC.NEWITEM summon_fire_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=28
SRC.NEWITEM gust_spell
SRC.ACT.EQUIP
RETURN 1
ON=29
SRC.NEWITEM fog_spell
SRC.ACT.EQUIP
RETURN 1
ON=30
SRC.NEWITEM sonic_boom_spell
SRC.ACT.EQUIP
RETURN 1
ON=31
SRC.NEWITEM gale_spell
SRC.ACT.EQUIP
RETURN 1
ON=32
SRC.NEWITEM tornado_spell
SRC.ACT.EQUIP
RETURN 1
ON=33
SRC.NEWITEM vaccum_spell
SRC.ACT.EQUIP
RETURN 1
ON=34
SRC.NEWITEM hurricane_spell
SRC.ACT.EQUIP
RETURN 1
ON=35
SRC.NEWITEM whirl_wind_spell
SRC.ACT.EQUIP
RETURN 1
ON=36
SRC.NEWITEM summon_air_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=37
SRC.NEWITEM spark_spell
SRC.ACT.EQUIP
RETURN 1
ON=38
SRC.NEWITEM lightning_spell
SRC.ACT.EQUIP
RETURN 1
ON=39
SRC.NEWITEM energy_field_spell
SRC.ACT.EQUIP
RETURN 1
ON=40
SRC.NEWITEM ball_lightning_spell
SRC.ACT.EQUIP
RETURN 1
ON=41
SRC.NEWITEM shock_spell
SRC.ACT.EQUIP
RETURN 1
ON=42
SRC.NEWITEM chain_lightning_spell
SRC.ACT.EQUIP
RETURN 1
ON=43
SRC.NEWITEM nova_spell
SRC.ACT.EQUIP
RETURN 1
ON=44
SRC.NEWITEM luminare_spell
SRC.ACT.EQUIP
RETURN 1
ON=45
SRC.NEWITEM summon_lightning_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=46
SRC.NEWITEM ice_cube_spell
SRC.ACT.EQUIP
RETURN 1
ON=47
SRC.NEWITEM wall_of_ice_spell
SRC.ACT.EQUIP
RETURN 1
ON=48
SRC.NEWITEM sleet_spell
SRC.ACT.EQUIP
RETURN 1
ON=49
SRC.NEWITEM ice_trap_spell
SRC.ACT.EQUIP
RETURN 1
ON=50
SRC.NEWITEM icesicle_spell
SRC.ACT.EQUIP
RETURN 1
ON=51
SRC.NEWITEM deep_freeze_spell
SRC.ACT.EQUIP
RETURN 1
ON=52
SRC.NEWITEM absolute_zero_spell
SRC.ACT.EQUIP
RETURN 1
ON=53
SRC.NEWITEM ice_strike_spell
SRC.ACT.EQUIP
RETURN 1
ON=54
SRC.NEWITEM summon_ice_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=55
SRC.NEWITEM snowball_spell
SRC.ACT.EQUIP
RETURN 1
ON=56
SRC.NEWITEM snow_drift_spell
SRC.ACT.EQUIP
RETURN 1
ON=57
SRC.NEWITEM cold_chill_spell
SRC.ACT.EQUIP
RETURN 1
ON=58
SRC.NEWITEM frostbite_spell
SRC.ACT.EQUIP
RETURN 1
ON=59
SRC.NEWITEM snow_man_spell
SRC.ACT.EQUIP
RETURN 1
ON=60
SRC.NEWITEM blizzard_spell
SRC.ACT.EQUIP
RETURN 1
ON=61
SRC.NEWITEM avalanche_spell
SRC.ACT.EQUIP
RETURN 1
ON=62
SRC.NEWITEM whiteout_spell
SRC.ACT.EQUIP
RETURN 1
ON=63
SRC.NEWITEM summon_snow_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=64
SRC.NEWITEM lesser_poison_spell
SRC.ACT.EQUIP
RETURN 1
ON=65
SRC.NEWITEM toxic_gas_spell
SRC.ACT.EQUIP
RETURN 1
ON=66
SRC.NEWITEM poison_spell
SRC.ACT.EQUIP
RETURN 1
ON=67
SRC.NEWITEM poison_field_spell
SRC.ACT.EQUIP
RETURN 1
ON=68
SRC.NEWITEM venom_spell
SRC.ACT.EQUIP
RETURN 1
ON=69
SRC.NEWITEM greater_poison_spell
SRC.ACT.EQUIP
RETURN 1
ON=70
SRC.NEWITEM bio_spell
SRC.ACT.EQUIP
RETURN 1
ON=71
SRC.NEWITEM summon_poison_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=72
SRC.NEWITEM deadly_poison_spell
SRC.ACT.EQUIP
RETURN 1
ON=73
SRC.NEWITEM sludge_spell
SRC.ACT.EQUIP
RETURN 1
ON=74
SRC.NEWITEM slime_spell
SRC.ACT.EQUIP
RETURN 1
ON=75
SRC.NEWITEM summon_swamp_tentacles_spell
SRC.ACT.EQUIP
RETURN 1
ON=76
SRC.NEWITEM sewage_spell
SRC.ACT.EQUIP
RETURN 1
ON=77
SRC.NEWITEM ensnare_spell
SRC.ACT.EQUIP
RETURN 1
ON=78
SRC.NEWITEM swamp_gas_spell
SRC.ACT.EQUIP
RETURN 1
ON=79
SRC.NEWITEM acid_rain_spell
SRC.ACT.EQUIP
RETURN 1
ON=80
SRC.NEWITEM bad_breath_spell
SRC.ACT.EQUIP
RETURN 1
ON=81
SRC.NEWITEM summon_swamp_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=82
SRC.NEWITEM harm_spell
SRC.ACT.EQUIP
RETURN 1
ON=83
SRC.NEWITEM vampire_spell
SRC.ACT.EQUIP
RETURN 1
ON=84
SRC.NEWITEM mana_drain_spell
SRC.ACT.EQUIP
RETURN 1
ON=85
SRC.NEWITEM mana_vampire_spell
SRC.ACT.EQUIP
RETURN 1
ON=86
SRC.NEWITEM exhaustion_spell
SRC.ACT.EQUIP
RETURN 1
ON=87
SRC.NEWITEM stamina_vampire_spell
SRC.ACT.EQUIP
RETURN 1
ON=88
SRC.NEWITEM blood_lust_spell
SRC.ACT.EQUIP
RETURN 1
ON=89
SRC.NEWITEM corpse_explode_spell
SRC.ACT.EQUIP
RETURN 1
ON=90
SRC.NEWITEM summon_blood_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=91
SRC.NEWITEM holy_light_spell
SRC.ACT.EQUIP
RETURN 1
ON=92
SRC.NEWITEM holy_vision_spell
SRC.ACT.EQUIP
RETURN 1
ON=93
SRC.NEWITEM holy_wind_spell
SRC.ACT.EQUIP
RETURN 1
ON=94
SRC.NEWITEM holy_beam_spell
SRC.ACT.EQUIP
RETURN 1
ON=95
SRC.NEWITEM destroy_sin_spell
SRC.ACT.EQUIP
RETURN 1
ON=96
SRC.NEWITEM holy_blast_spell
SRC.ACT.EQUIP
RETURN 1
ON=97
SRC.NEWITEM cleanse_spell
SRC.ACT.EQUIP
RETURN 1
ON=98
SRC.NEWITEM light_pilar_spell
SRC.ACT.EQUIP
RETURN 1
ON=99
SRC.NEWITEM summon_holy_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=100
SRC.NEWITEM unholy_light_spell
SRC.ACT.EQUIP
RETURN 1
ON=101
SRC.NEWITEM darkness_spell
SRC.ACT.EQUIP
RETURN 1
ON=102
SRC.NEWITEM unholy_strength_spell
SRC.ACT.EQUIP
RETURN 1
ON=103
SRC.NEWITEM demi_spell
SRC.ACT.EQUIP
RETURN 1
ON=104
SRC.NEWITEM evil_prescence_spell
SRC.ACT.EQUIP
RETURN 1
ON=105
SRC.NEWITEM quarter_spell
SRC.ACT.EQUIP
RETURN 1
ON=106
SRC.NEWITEM dark_matter_spell
SRC.ACT.EQUIP
RETURN 1
ON=107
SRC.NEWITEM dark_holy_spell
SRC.ACT.EQUIP
RETURN 1
ON=108
SRC.NEWITEM summon_shadow_elemental_spell
SRC.ACT.EQUIP
RETURN 1
ON=109
SRC.NEWITEM energy_bolt_spell
SRC.ACT.EQUIP
RETURN 1
ON=110
SRC.NEWITEM blade_spirits_spell
SRC.ACT.EQUIP
RETURN 1
ON=111
SRC.NEWITEM meteor_swarm_spell
SRC.ACT.EQUIP
RETURN 1
ON=112
SRC.NEWITEM comet_spell
SRC.ACT.EQUIP
RETURN 1
ON=113
SRC.NEWITEM energy_vortex_spell
SRC.ACT.EQUIP
RETURN 1
ON=114
SRC.NEWITEM ultima_spell
SRC.ACT.EQUIP
RETURN 1
ON=115
SRC.NEWITEM megid_spell
SRC.ACT.EQUIP
RETURN 1
ON=116
SRC.NEWITEM megido_spell
SRC.ACT.EQUIP
RETURN 1
ON=117
SRC.NEWITEM armagedon_spell
SRC.ACT.EQUIP
RETURN 1

[DIALOG d_necromancy_spellbook]
0,0
PAGE 0
Gumppic 50 50 500
PAGE 1
Button 80 90 2117 2118 1 0 1
Button 80 105 2117 2118 1 0 2
Button 80 120 2117 2118 1 0 3
Button 80 135 2117 2118 1 0 4
Button 80 150 2117 2118 1 0 5
Button 80 180 2117 2118 1 0 6
Button 80 195 2117 2118 1 0 7
Button 80 210 2117 2118 1 0 8
Button 80 240 2117 2118 1 0 9
Button 275 90 2117 2118 1 0 10
Button 275 105 2117 2118 1 0 11
Button 275 120 2117 2118 1 0 12
Button 275 150 2117 2118 1 0 13
Button 275 165 2117 2118 1 0 14
Button 275 180 2117 2118 1 0 15
Button 275 195 2117 2118 1 0 16
Button 275 240 2117 2118 1 0 0
Text 79 54 1101 0
Text 105 85 1101 1
Text 105 100 1101 2
Text 105 115 1101 3
Text 105 130 1101 4
Text 105 145 1101 5
Text 110 160 1101 6
Text 105 175 1101 7
Text 105 190 1101 8
Text 105 205 1101 9
Text 110 220 1101 10
Text 105 235 1101 11
Text 300 85 1101 12
Text 300 100 1101 13
Text 300 115 1101 14
Text 305 130 1101 15
Text 300 145 1101 16
Text 300 160 1101 17
Text 300 175 1101 18
Text 300 190 1101 19
Text 300 235 1101 20

[DIALOG d_necromancy_spellbook TEXT]
Necromancy Spellbook
Summon Zombie
Summon Skeleton
Summon Ghost
Summon Ghoul
Summon Skeleton
Archer
Summon Spectre
Summon Mummy
Summon Skeleton
Mage
Summon Apparition
Summon Skeleton
Summon Liche
Summon Liche
Lord
Raise Dead
Bone Armor
Control Undead
Death
Close Spellbook

[DIALOG d_necromancy_spellbook BUTTON]
ON=1
SRC.NEWITEM summon_zombie_spell
SRC.ACT.EQUIP
RETURN 1
ON=2
SRC.NEWITEM summon_skeleton_spell
SRC.ACT.EQUIP
RETURN 1
ON=3
SRC.NEWITEM summon_ghost_spell
SRC.ACT.EQUIP
RETURN 1
ON=4
SRC.NEWITEM summon_ghoul_spell
SRC.ACT.EQUIP
RETURN 1
ON=5
SRC.NEWITEM summon_skeleton_archer_spell
SRC.ACT.EQUIP
RETURN 1
ON=6
SRC.NEWITEM summon_spectre_spell
SRC.ACT.EQUIP
RETURN 1
ON=7
SRC.NEWITEM summon_mummy_spell
SRC.ACT.EQUIP
RETURN 1
ON=8
SRC.NEWITEM summon_skeleton_mage_spell
SRC.ACT.EQUIP
RETURN 1
ON=9
SRC.NEWITEM summon_apparition_spell
SRC.ACT.EQUIP
RETURN 1
ON=10
SRC.NEWITEM summon_skeleton_knight_spell
SRC.ACT.EQUIP
RETURN 1
ON=11
SRC.NEWITEM summon_liche_spell
SRC.ACT.EQUIP
RETURN 1
ON=12
SRC.NEWITEM summon_liche_lord_spell
SRC.ACT.EQUIP
RETURN 1
ON=13
SRC.NEWITEM raise_dead_spell
SRC.ACT.EQUIP
RETURN 1
ON=14
SRC.NEWITEM bone_armor_spell
SRC.ACT.EQUIP
RETURN 1
ON=15
SRC.NEWITEM control_undead_spell
SRC.ACT.EQUIP
RETURN 1
ON=16
SRC.NEWITEM death_spell
SRC.ACT.EQUIP
RETURN 1

[DIALOG d_theugery_spellbook]
0,0
PAGE 0
Gumppic 50 50 500

PAGE <EVAL <TAG.THEUGERYPAGE1>>
Button 406 50 502 502 1 0 49
Text 79 54 1101 0
Text 105 82 1101 1
Text 105 100 1101 2
Text 105 118 1101 3
Text 105 136 1101 4
Text 105 154 1101 5
Text 105 172 1101 6
Text 105 190 1101 7
Text 105 208 1101 8
Text 105 226 1101 9
Text 105 244 1101 10
Button 80 85 2117 2118 1 0 1
Button 80 103 2117 2118 1 0 2
Button 80 121 2117 2118 1 0 3
Button 80 139 2117 2118 1 0 4
Button 80 157 2117 2118 1 0 5
Button 80 175 2117 2118 1 0 6
Button 80 193 2117 2118 1 0 7
Button 80 211 2117 2118 1 0 8
Button 80 229 2117 2118 1 0 9
Button 80 247 2117 2118 1 0 10
Text 300 82 1101 11
Text 300 101 1101 12
Text 300 118 1101 13
Text 300 136 1101 14
Text 300 154 1101 15
Text 300 172 1101 16
Text 300 190 1101 17
Text 300 208 1101 18
Text 300 226 1101 19
Text 300 244 1101 20
Button 275 85 2117 2118 1 0 11
Button 275 103 2117 2118 1 0 12
Button 275 121 2117 2118 1 0 13
Button 275 139 2117 2118 1 0 14
Button 275 157 2117 2118 1 0 15
Button 275 175 2117 2118 1 0 16
Button 275 193 2117 2118 1 0 17
Button 275 211 2117 2118 1 0 18
Button 275 229 2117 2118 1 0 19
Button 275 247 2117 2118 1 0 20

PAGE <EVAL <TAG.THEUGERYPAGE2>>
Button 50 51 501 501 1 0 50
Button 405 50 502 502 1 0 51
Text 105 82 1101 21
Text 105 100 1101 22
Text 105 118 1101 23
Text 105 136 1101 24
Text 105 154 1101 25
Text 105 172 1101 26
Text 105 190 1101 27
Text 105 208 1101 28
Text 105 226 1101 29
Text 105 244 1101 30
Button 80 85 2117 2118 1 0 21
Button 80 103 2117 2118 1 0 22
Button 80 121 2117 2118 1 0 23
Button 80 139 2117 2118 1 0 24
Button 80 157 2117 2118 1 0 25
Button 80 175 2117 2118 1 0 26
Button 80 193 2117 2118 1 0 27
Button 80 211 2117 2118 1 0 28
Button 80 229 2117 2118 1 0 29
Button 80 247 2117 2118 1 0 30
Text 300 82 1101 31
Text 300 101 1101 32
Text 300 118 1101 33
Text 300 136 1101 34
Text 300 154 1101 35
Text 300 172 1101 36
Text 300 190 1101 37
Text 300 208 1101 38
Text 300 226 1101 39
Text 300 244 1101 40
Button 275 85 2117 2118 1 0 31
Button 275 103 2117 2118 1 0 32
Button 275 121 2117 2118 1 0 33
Button 275 139 2117 2118 1 0 34
Button 275 157 2117 2118 1 0 35
Button 275 175 2117 2118 1 0 36
Button 275 193 2117 2118 1 0 37
Button 275 211 2117 2118 1 0 38
Button 275 229 2117 2118 1 0 39
Button 275 247 2117 2118 1 0 40

PAGE <EVAL <TAG.THEUGERYPAGE3>>
Button 50 51 501 501 1 0 52
Text 105 82 1101 41
Text 105 100 1101 42
Text 105 118 1101 43
Text 105 136 1101 44
Text 105 154 1101 45
Text 105 172 1101 46
Text 105 190 1101 47
Text 105 208 1101 48
Text 105 226 1101 49
Button 80 85 2117 2118 1 0 41
Button 80 103 2117 2118 1 0 42
Button 80 121 2117 2118 1 0 43
Button 80 139 2117 2118 1 0 44
Button 80 157 2117 2118 1 0 45
Button 80 175 2117 2118 1 0 46
Button 80 193 2117 2118 1 0 47
Button 80 211 2117 2118 1 0 48
Button 80 229 2117 2118 1 0 0

[DIALOG d_theugery_spellbook TEXT]
Theugery Spellbook
Teleport
Telekinesis
Recall
Mark
Gate Travel
Reactive Armor
Protection
Shield
Anti-Earth
Anti-Water
Anti-Fire
Anti-Wind
Anti-Lightning
Anti-Ice
Anti-Snow
Anti-Poison
Anti-Swamp
Anti-Blood
Anti-Holy
Anti-Darkness
Vaccine
Arch Protection
Magic Reflection
Wall
Night Sight
Agility
Cunning
Strength
Bless
Invisibility
Auto Resurrection
Clumsy
Feeblemindedness
Weaken
Curse
Blindness
Hallucination
Health Leak
Mass Curse
Pale Horse
Beam
Paralyze
Dispel
Magic Missile
Paralyze Field
Mass Dispel
Disruptor
X-Zone
Close Spellbook

[DIALOG d_theugery_spellbook BUTTON]
ON=1
SRC.NEWITEM teleport_spell
SRC.ACT.EQUIP
RETURN 1
ON=2
SRC.NEWITEM telekinesis_spell
SRC.ACT.EQUIP
RETURN 1
ON=3
SRC.NEWITEM recall_spell
SRC.ACT.EQUIP
RETURN 1
ON=4
SRC.NEWITEM mark_spell
SRC.ACT.EQUIP
RETURN 1
ON=5
SRC.NEWITEM gate_travel_spell
SRC.ACT.EQUIP
RETURN 1
ON=6
SRC.NEWITEM reactive_armor_spell
SRC.ACT.EQUIP
RETURN 1
ON=7
SRC.NEWITEM protection_spell
SRC.ACT.EQUIP
RETURN 1
ON=8
SRC.NEWITEM shield_spell
SRC.ACT.EQUIP
RETURN 1
ON=9
SRC.NEWITEM anti-earth_spell
SRC.ACT.EQUIP
RETURN 1
ON=10
SRC.NEWITEM anti-water_spell
SRC.ACT.EQUIP
RETURN 1
ON=11
SRC.NEWITEM anti-fire_spell
SRC.ACT.EQUIP
RETURN 1
ON=12
SRC.NEWITEM anti-wind_spell
SRC.ACT.EQUIP
RETURN 1
ON=13
SRC.NEWITEM anti-lightning_spell
SRC.ACT.EQUIP
RETURN 1
ON=14
SRC.NEWITEM anti-ice_spell
SRC.ACT.EQUIP
RETURN 1
ON=15
SRC.NEWITEM anti-snow_spell
SRC.ACT.EQUIP
RETURN 1
ON=16
SRC.NEWITEM anti-poison_spell
SRC.ACT.EQUIP
RETURN 1
ON=17
SRC.NEWITEM anti-swamp_spell
SRC.ACT.EQUIP
RETURN 1
ON=18
SRC.NEWITEM anti-blood_spell
SRC.ACT.EQUIP
RETURN 1
ON=19
SRC.NEWITEM anti-holy_spell
SRC.ACT.EQUIP
RETURN 1
ON=20
SRC.NEWITEM anti-darkness_spell
SRC.ACT.EQUIP
RETURN 1
ON=21
SRC.NEWITEM vaccine_spell
SRC.ACT.EQUIP
RETURN 1
ON=22
SRC.NEWITEM arch_protection_spell
SRC.ACT.EQUIP
RETURN 1
ON=23
SRC.NEWITEM magic_reflection_spell
SRC.ACT.EQUIP
RETURN 1
ON=24
SRC.NEWITEM wall_spell
SRC.ACT.EQUIP
RETURN 1
ON=25
SRC.NEWITEM night_sight_spell
SRC.ACT.EQUIP
RETURN 1
ON=26
SRC.NEWITEM agility_spell
SRC.ACT.EQUIP
RETURN 1
ON=27
SRC.NEWITEM cunning_spell
SRC.ACT.EQUIP
RETURN 1
ON=28
SRC.NEWITEM strength_spell
SRC.ACT.EQUIP
RETURN 1
ON=29
SRC.NEWITEM bless_spell
SRC.ACT.EQUIP
RETURN 1
ON=30
SRC.NEWITEM invisibility_spell
SRC.ACT.EQUIP
RETURN 1
ON=31
SRC.NEWITEM auto_resurrection_spell
SRC.ACT.EQUIP
RETURN 1
ON=32
SRC.NEWITEM clumsy_spell
SRC.ACT.EQUIP
RETURN 1
ON=33
SRC.NEWITEM feeblemindedness_spell
SRC.ACT.EQUIP
RETURN 1
ON=34
SRC.NEWITEM weaken_spell
SRC.ACT.EQUIP
RETURN 1
ON=35
SRC.NEWITEM curse_spell
SRC.ACT.EQUIP
RETURN 1
ON=36
SRC.NEWITEM blindness_spell
SRC.ACT.EQUIP
RETURN 1
ON=37
SRC.NEWITEM hallucination_spell
SRC.ACT.EQUIP
RETURN 1
ON=38
SRC.NEWITEM health_leak_spell
SRC.ACT.EQUIP
RETURN 1
ON=39
SRC.NEWITEM mass_curse_spell
SRC.ACT.EQUIP
RETURN 1
ON=40
SRC.NEWITEM pale_horse_spell
SRC.ACT.EQUIP
RETURN 1
ON=41
SRC.NEWITEM beam_spell
SRC.ACT.EQUIP
RETURN 1
ON=42
SRC.NEWITEM paralyze_spell
SRC.ACT.EQUIP
RETURN 1
ON=43
SRC.NEWITEM dispel_spell
SRC.ACT.EQUIP
RETURN 1
ON=44
SRC.NEWITEM magic_missile_spell
SRC.ACT.EQUIP
RETURN 1
ON=45
SRC.NEWITEM paralyze_field_spell
SRC.ACT.EQUIP
RETURN 1
ON=46
SRC.NEWITEM mass_dispel_spell
SRC.ACT.EQUIP
RETURN 1
ON=47
SRC.NEWITEM disruptor_spell
SRC.ACT.EQUIP
RETURN 1
ON=48
SRC.NEWITEM x-zone_spell
SRC.ACT.EQUIP
RETURN 1
ON=49
f_theugery_spellbook_pagearrange 2 3
DIALOG d_theugery_spellbook
ON=50
f_theugery_spellbook_pagearrange 1 3
DIALOG d_theugery_spellbook
ON=51
f_theugery_spellbook_pagearrange 3 3
DIALOG d_theugery_spellbook
ON=52
f_theugery_spellbook_pagearrange 2 3
DIALOG d_theugery_spellbook

[EVENTS e_earth_weapon]
ON=@Hit
IF <ACT.TAG.EARTH><=0
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND 027
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.EARTH>==1
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND 027
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.EARTH>==2
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND 027
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.EARTH>==3
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND 027
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.EARTH>>=4
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND 027
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_water_weapon]
ON=@Hit
IF <ACT.TAG.WATER><=0
ACT.EFFECT 3,i_fx_vortex,6,15,1
SOUND 0117
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.WATER>==1
ACT.EFFECT 3,i_fx_vortex,6,15,1
SOUND 0117
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.WATER>==2
ACT.EFFECT 3,i_fx_vortex,6,15,1
SOUND 0117
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.WATER>==3
ACT.EFFECT 3,i_fx_vortex,6,15,1
SOUND 0117
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.WATER>>=4
ACT.EFFECT 3,i_fx_vortex,6,15,1
SOUND 0117
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_fire_weapon]
ON=@Hit
IF <ACT.TAG.FIRE><=0
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.FIRE>==1
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.FIRE>==2
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.FIRE>==3
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.FIRE>>=4
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_wind_weapon]
ON=@Hit
IF <ACT.TAG.WIND><=0
ACT.EFFECT 3,i_fx_glow_spike,6,15,1
SOUND snd_elementl_airelem1
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.WIND>==1
ACT.EFFECT 3,i_fx_glow_spike,6,15,1
SOUND snd_elementl_airelem1
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.WIND>==2
ACT.EFFECT 3,i_fx_glow_spike,6,15,1
SOUND snd_elementl_airelem1
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.WIND>==3
ACT.EFFECT 3,i_fx_glow_spike,6,15,1
SOUND snd_elementl_airelem1
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.WIND>>=4
ACT.EFFECT 3,i_fx_glow_spike,6,15,1
SOUND snd_elementl_airelem1
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_lightning_weapon]
ON=@Hit
IF <ACT.TAG.LIGHTNING><=0
ACT.EFFECT 1,1
SOUND snd_spell_lightning
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.LIGHTNING>==1
ACT.EFFECT 1,1
SOUND snd_spell_lightning
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.LIGHTNING>==2
ACT.EFFECT 1,1
SOUND snd_spell_lightning
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.LIGHTNING>==3
ACT.EFFECT 1,1
SOUND snd_spell_lightning
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.LIGHTNING>>=4
ACT.EFFECT 1,1
SOUND snd_spell_lightning
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_ice_weapon]
ON=@Hit
IF <ACT.TAG.ICE><=0
ACT.NEWITEM i_fire_column
ACT.ACT.COLOR 0480
ACT.ACT.P <ACT.P>
SOUND 0fc
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.ICE>==1
ACT.NEWITEM i_fire_column
ACT.ACT.COLOR 0480
ACT.ACT.P <ACT.P>
SOUND 0fc
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.ICE>==2
ACT.NEWITEM i_fire_column
ACT.ACT.COLOR 0480
ACT.ACT.P <ACT.P>
SOUND 0fc
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.ICE>==3
ACT.NEWITEM i_fire_column
ACT.ACT.COLOR 0480
ACT.ACT.P <ACT.P>
SOUND 0fc
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.ICE>>=4
ACT.NEWITEM i_fire_column
ACT.ACT.COLOR 0480
ACT.ACT.P <ACT.P>
SOUND 0fc
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_snow_weapon]
ON=@Hit
IF <ACT.TAG.SNOW><=0
ACT.EFFECT 3,0373a,6,15,1
SOUND snd_spell_bless
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.SNOW>==1
ACT.EFFECT 3,0373a,6,15,1
SOUND snd_spell_bless
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.SNOW>==2
ACT.EFFECT 3,0373a,6,15,1
SOUND snd_spell_bless
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.SNOW>==3
ACT.EFFECT 3,0373a,6,15,1
SOUND snd_spell_bless
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.SNOW>>=4
ACT.EFFECT 3,0373a,6,15,1
SOUND snd_spell_bless
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_poison_weapon]
ON=@Hit
IF <ACT.TAG.POISON><=0
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_posion
ACT.SPELLEFFECT s_poison 500.0
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.POISON>==1
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_posion
ACT.SPELLEFFECT s_poison 300.0
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.POISON>==2
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_posion
ACT.SPELLEFFECT s_poison 10.0
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.POISON>==3
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_posion
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.POISON>>=4
ACT.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_posion
ACT.HITS <ACT.HITS>+{9 40}
ACT.NEWITEM i_regen_timer
ACT.ACT.TIMER {3 6}
ACT.ACT.MORE 500
RETURN 1
ENDIF

[EVENTS e_swamp_weapon]
ON=@Hit
IF <ACT.TAG.SWAMP><=0
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.SWAMP>==1
ACT.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.SWAMP>==2
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.SWAMP>==3
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.SWAMP>>=4
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_blood_weapon]
ON=@Hit
IF <ACT.TAG.BLOOD><=0
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.BLOOD>==1
ACT.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.BLOOD>==2
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.BLOOD>==3
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.BLOOD>>=4
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_holy_weapon]
ON=@Hit
IF <ACT.TAG.HOLY><=0
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {20 60}
RETURN 1
ELSEIF <ACT.TAG.HOLY>==1
ACT.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {9 40}
RETURN 1
ELSEIF <ACT.TAG.HOLY>==2
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE {3 9}
RETURN 1
ELSEIF <ACT.TAG.HOLY>==3
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.HOLY>>=4
ACT.EFFECT 3,i_fire_column,6,15,1
SOUND snd_spell_fire_bolt
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_dark_weapon]
ON=@Hit
IF <ACT.TAG.DARK><=0
IF !(RAND(5)) && (!<SRC.RESTEST i_curse_timer>)
ACT.DAMAGE {20 60}
ACT.SYSMESSAGE You have been cursed
SOUND snd_spell_mana_drain
SRC.EFFECT 3,0375a,6,15,1
ACT.NEWITEM i_curse_timer
ACT.ACT.EQUIP
RETURN 1
ELSE
ACT.DAMAGE {20 60}
RETURN 1
ENDIF
ELSEIF <ACT.TAG.DARK>==1
IF !(RAND(5)) && (!<SRC.RESTEST i_curse_timer>)
ACT.DAMAGE {9 40}
ACT.SYSMESSAGE You have been cursed
SOUND snd_spell_mana_drain
SRC.EFFECT 3,0375a,6,15,1
ACT.NEWITEM i_curse_timer
ACT.ACT.EQUIP
RETURN 1
ELSE
ACT.DAMAGE {9 40}
RETURN 1
ENDIF
ELSEIF <ACT.TAG.DARK>==2
IF !(RAND(11)) && (!<SRC.RESTEST i_curse_timer>)
ACT.DAMAGE {3 9}
ACT.SYSMESSAGE You have been cursed
SOUND snd_spell_mana_drain
SRC.EFFECT 3,0375a,6,15,1
ACT.NEWITEM i_curse_timer
ACT.ACT.EQUIP
RETURN 1
ELSE
ACT.DAMAGE {3 9}
RETURN 1
ENDIF
ELSEIF <ACT.TAG.DARK>==3
ACT.EFFECT 3,0375a,6,15,1
SOUND snd_spell_mana_drain
ACT.DAMAGE 0
RETURN 1
ELSEIF <ACT.TAG.DARK>>=4
ACT.EFFECT 3,0375a,6,15,1
SOUND snd_spell_mana_drain
ACT.HITS <ACT.HITS>+{9 40}
RETURN 1
ENDIF

[EVENTS e_earth_armor]
ON=@GetHit
IF <SRC.TAG.EARTH>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_armor_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_water_armor]
ON=@GetHit
IF <SRC.TAG.WATER>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_water_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_fire_armor]
ON=@GetHit
IF <SRC.TAG.FIRE>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_fire_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_wind_armor]
ON=@GetHit
IF <SRC.TAG.WIND>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_wind_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_lightning_armor]
ON=@GetHit
IF <SRC.TAG.LIGHTNING>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_lightning_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_ice_armor]
ON=@GetHit
IF <SRC.TAG.ICE>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_ice_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_shadow_armor]
ON=@GetHit
IF <SRC.TAG.DARK>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_shadow_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_snow_armor]
ON=@GetHit
IF <SRC.TAG.SNOW>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_snow_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_poison_armor]
ON=@GetHit
IF <SRC.TAG.POISON>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_poison_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_swamp_armor]
ON=@GetHit
IF <SRC.TAG.SWAMP>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_swamp_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_blood_armor]
ON=@GetHit
IF <SRC.TAG.BLOOD>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_blood_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_holy_armor]
ON=@GetHit
IF <SRC.TAG.HOLY>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_holy_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_dark_armor]
ON=@GetHit
IF <SRC.TAG.DARK>>1
HITS <HITS>+((<SRC.TACTICS>/4.0)*(<SRC.STR>/3.0))
IF <HITS>><STR>
HITS <STR>
ENDIF
SOUND snd_spell_bless
VAR.OLD_ACT <SRC.ACT.UID>
SRC.NEWITEM i_shadow_armor_effect
SRC.ACT.P <P>
SRC.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 1

[EVENTS e_party]
ON=@Death
SRC.SERV.ALLCLIENTS.f_party_death_announcement
RETURN 0

ON=@LogOut
SRC.SERV.ALLCLIENTS.f_party_leave_announcement
SRC.TAG.PARTY
SRC.TAG.PARTYNAME
RETURN 0

[EVENTS e_explode]
ON=@GetHit
IF <HITS> > 0
IF !(RAND(<HITS>/20))
<HITS> 0
NEWITEM=i_fx_explode
ACT.TYPE=t_explosion
ACT.ATTR=attr_move_never|attr_can_decay
ACT.LINK=<UID>
ACT.MOREX=<STR> //amount of damage
ACT.MOREY=090 //set flags to general damage
ACT.MOREZ=12 //distance
ACT.P=<P>
ACT.TIMERD=1
ELSE
EMOTE starts to grow bigger and more angry
ENDIF
ENDIF

[EVENTS e_dragons_breath]
ON=@HitTry
//VAR.A <SRC.WRESTLING>/30
//VAR.B <ACT.WRESTLING>/30
//VAR.C <VAR.B>/<VAR.A>
//VAR.D <VAR.C>/100
//VAR.E <VAR.E>*50
//IF <VAR.E> > 10
//VAR.E 10
//ENDIF
//VAR.F <VAR.E>*100
//VAR.G {1 100}
//IF <VAR.G> < <VAR.F>
IF !RAND(3)
ACT.EFFECT 2,i_fx_fireball,3,1,1
SOUND snd_monster_dragon1
ACT.DAMAGE <HITS>/20
ELSE
ACT.EFFECT 2,i_fx_fireball,3,1,1
SOUND snd_monster_dragon1
ENDIF

[EVENTS e_summoned_daemon_dispel_resistance]
ON=@SpellEffect
IF <ARGS>=s_dispel
VAR.RESISTDISPEL 300.0+-<SRC.EVALUATINGINTEL>
IF <VAR.RESISTDISPEL>+{0 40}><MAGICRESIST>
SUICIDE
ELSE
SRC.SYSMESSAGE They seem to resist the effects of the spell.
ENDIF
VAR.RESISTDISPEL
RETURN 1
ENDIF

//EARTH SPELLS

//Stone
[ITEMDEF i_stone_scroll]
ID=i_map_rolled
NAME=Stone Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Stone Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM stone_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_stone_spell_stone]
ID=i_rock_plain
NAME=A Magical Stone

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Stone

ON=@Create
TIMER 1

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF stone_spell]
ID=i_memory
NAME=Stone Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Stone

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_manacheck 3
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Yelm Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-3
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+10
SRC.TARG.NEWITEM i_stone_spell_stone
SRC.TARG.ACT.P <SRC.TARG.P>
SOUND 013f
f_element_check EARTH
f_spell_damage 300
ENDIF
REMOVE
RETURN 1

//Wall of Stone
[ITEMDEF i_wall_of_stone_scroll]
ID=i_map_rolled
NAME=Wall of Stone Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Wall of Stone Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM wall_of_stone_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF wall_of_stone_spell]
ID=i_memory
NAME=Wall of Stone Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Wall of Stone

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_earthskillcheck 2500
f_mageryskillcheck 100
f_manacheck 6
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.TAG.TEMPWALLSTONETAG <SRC.MAGERY>
SRC.CAST s_wall_of_stone
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+20
IF <SRC.MAGERY> > <SRC.TAG.TEMPWALLSTONETAG>
SRC.MAGERY <SRC.TAG.TEMPWALLSTONETAG>
ENDIF
SRC.TAG.TEMPWALLSTONETAG
f_skillgain MAGERY
REMOVE
RETURN 1

//Stoneskin
[ITEMDEF i_stoneskin_scroll]
ID=i_map_rolled
NAME=Stoneskin Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Stoneskin Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM stoneskin_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF stoneskin_spell]
ID=i_memory
NAME=Stoneskin Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Stoneskin

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_earthskillcheck 5000
f_mageryskillcheck 300
f_manacheck 6
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.TAG.TEMPSTONESKINTAG <SRC.MAGERY>
SRC.CAST s_stoneskin
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+40
IF <SRC.MAGERY> > <SRC.TAG.TEMPSTONESKINTAG>
SRC.MAGERY <SRC.TAG.TEMPSTONESKINTAG>
ENDIF
SRC.TAG.TEMPSTONESKINTAG
f_skillgain MAGERY
REMOVE
RETURN 1

//Mudslide
[ITEMDEF i_mudslide_scroll]
ID=i_map_rolled
NAME=Mudslide Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Mudslide Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM mudslide_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_mudslide]
ID=034f9
NAME=a mudslide

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Mudlside

ON=@Create
ATTR attr_can_decay
COLOR 040c
TIMER 1

[ITEMDEF mudslide_spell]
ID=i_memory
NAME=Mudslide Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Mudslide

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 400
SRC.f_manacheck 15
SRC.f_earthskillcheck 10000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Yelm Grav Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 800
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-15
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+80
SRC.TARG.NEWITEM i_mudslide
SRC.TARG.ACT.P <SRC.TARG.P>
f_element_check EARTH
f_spell_damage 150
SOUND 011
REMOVE
RETURN 1

//Boulder
[ITEMDEF i_boulder_scroll]
ID=i_map_rolled
NAME=Boulder Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Boulder Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM boulder_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_boulder_spell_boulder]
ID=01358
NAME=A Magical Boulder

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Boulder

ON=@Create
TIMER 1

ON=@Timer
REMOVE

[ITEMDEF boulder_spell]
ID=i_memory
NAME=Boulder Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Boulder

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_manacheck 20
SRC.f_earthskillcheck 20000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Yelm Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+160
SRC.TARG.NEWITEM i_boulder_spell_boulder
SRC.TARG.ACT.P <SRC.TARG.P>
f_element_check EARTH
f_spell_damage 300
SOUND 013f
REMOVE
RETURN 1

//Golem
[ITEMDEF i_golem_scroll]
ID=i_map_rolled
NAME=Golem Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Golem Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM golem_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF golem_spell]
ID=i_memory
NAME=Golem Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Golem

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 30
SRC.f_earthskillcheck 40000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Bet Xen Ylem
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+320
IF <SRC.MAGERY> >= 3000
SRC.NEWNPC c_steelgolem_make
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
SRC.NEWNPC c_steelgolem_make
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
ELSEIF <SRC.MAGERY> >= 2000
SRC.NEWNPC c_steelgolem_make
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
ELSEIF <SRC.MAGERY> >= 1000
SRC.NEWNPC c_stonegolem_make
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
ELSE
SRC.NEWNPC c_claygolem_make
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
ENDIF
REMOVE
RETURN 1

//Petrify
[ITEMDEF i_petrify_scroll]
ID=i_map_rolled
NAME=Petrify Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Petrify Scroll

ON=@create
COLOR 040c

ON=@DClick
SRC.NEWITEM petrify_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_petrify_memory]
ID=i_memory
NAME=Petrify Memory
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Petrify Timer Memory

ON=@Equip
SRC.FLAGS <SRC.FLAGS>|040000
SRC.SYSMESSAGE You have been petrified.
SRC.UPDATE
LINK <SRC.UID>
RETURN 1

ON=@Timer
LINK.UNEQUIP
RETURN 1

ON=@Unequip
SRC.FLAGS <SRC.FLAGS>&~040000
SRC.SYSMESSAGE You are no longer petrified.
SRC.UPDATE
REMOVE
RETURN 1

[ITEMDEF petrify_spell]
ID=i_memory
NAME=Petrify Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Petrify

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1100
SRC.f_manacheck 30
SRC.f_earthskillcheck 80000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Por Ylem
TARGET Select the target for the spell.
ENDIF

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1100
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+640
SRC.TARG.EFFECT 1,037be,2,2
SRC.SOUND 01e6
SRC.NEWITEM i_petrify_memory
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT.TIMER <SRC.MAGERY>/50
SRC.UPDATE
REMOVE
RETURN 1

//Earthquake
[ITEMDEF i_earthquake_scroll]
ID=i_map_rolled
NAME=Earthquake Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Earthquake Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM earthquake_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF earthquake_spell]
ID=i_memory
NAME=Earthquake Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Earthquake

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_earthskillcheck 16000
f_mageryskillcheck 800
f_manacheck 50
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.TAG.TEMPQUAKETAG <SRC.MAGERY>
SRC.CAST s_earthquake
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+1280
IF <SRC.MAGERY> > <SRC.TAG.TEMPQUAKETAG>
SRC.MAGERY <SRC.TAG.TEMPQUAKETAG>
ENDIF
SRC.TAG.TEMPQUAKETAG
f_skillgain MAGERY
REMOVE
RETURN 1

//Summon Earth Elemental
[ITEMDEF i_summon_earth_elemental_scroll]
ID=i_map_rolled
NAME=Summon Earth Elemental Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Summon Earth Elemental Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_earth_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_earth_elemental_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Earth Elemental Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Earth Elemental

ON=@Create
ATTR=attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1200
SRC.f_manacheck 100
SRC.f_earthskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Ylem
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1600
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.NEWNPC c_elem_earth
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//WATER SPELLS

//Sprinkle
[ITEMDEF i_sprinkle_scroll]
ID=i_map_rolled
NAME=Sprinkle Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Sprinkle Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM sprinkle_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_sprinkle_spell_sparkle]
ID=01158
NAME=Magical Sprinkles

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Sprinkle

ON=@Create
ATTR attr_can_decay
TIMER 1

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF sprinkle_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Sprinkle Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Sprinkle

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_manacheck 3
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In An Flam Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-3
SRC.TAG.EARTHSKILL <SRC.TAG.WATERSKILL>+10
SRC.TARG.NEWITEM i_sprinkle_spell_sparkle
SRC.TARG.ACT.P <SRC.TARG.P>
SOUND 025
f_element_check WATER
f_spell_damage 300
REMOVE
RETURN 1

//Bubble
[ITEMDEF i_bubble_scroll]
ID=i_map_rolled
NAME=Bubble Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Bubble Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM bubble_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_bubble_spell_bubble]
ID=i_explosion_ball
NAME=Magical Bubble

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Bubble

ON=@Create
ATTR attr_can_decay
TIMER 1

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF bubble_spell]
ID=i_memory
NAME=Bubble Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Bubble

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 100
SRC.f_manacheck 6
f_waterskillcheck 2500
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal An Flam Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 500
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-6
SRC.TAG.EARTHSKILL <SRC.TAG.WATERSKILL>+20
SRC.TARG.NEWITEM i_bubble_spell_bubble
SRC.TARG.ACT.P <SRC.TARG.P>
SOUND 025
f_element_check WATER
f_spell_damage 150
REMOVE
RETURN 1

//Water Cannon
[ITEMDEF i_water_cannon_scroll]
ID=i_map_rolled
NAME=Water Cannon Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Water Cannon Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM water_cannon_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF water_cannon_spell]
ID=i_memory
NAME=Water Cannon Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Water Cannon

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 10
f_waterskillcheck 5000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Flam Por Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-10
SRC.TAG.EARTHSKILL <SRC.TAG.WATERSKILL>+40
SRC.TARG.EFFECT 0,i_fx_water_cannon,4,16,1
SOUND 025
f_element_check WATER
f_spell_damage 130
REMOVE
RETURN 1

//Flood
[ITEMDEF i_flood_scroll]
ID=i_map_rolled
NAME=Flood Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Flood Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM flood_spell
SRC.ACT.EQUIP
RETURN 1

//Erosion
[ITEMDEF i_erosion_scroll]
ID=i_map_rolled
NAME=Erosion Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Erosion Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM erosion_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF erosion_spell]
ID=i_memory
NAME=Erosion Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Erosion

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_manacheck 20
f_waterskillcheck 20000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Flam Por Jux
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.EARTHSKILL <SRC.TAG.WATERSKILL>+160
SRC.TARG.NEWITEM 034ff
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.ATTR attr_decay
SRC.TARG.ACT.TIMERD 1
SRC.TARG.NEWITEM 03500
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.ATTR attr_decay
SRC.TARG.ACT.TIMERD 1
SRC.TARG.NEWITEM 03501
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.ATTR attr_decay
SRC.TARG.ACT.TIMERD 1
SRC.TARG.NEWITEM 03502
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.ATTR attr_decay
SRC.TARG.ACT.TIMERD 1
SRC.TARG.NEWITEM 03503
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.ATTR attr_decay
SRC.TARG.ACT.TIMERD 1
SRC.TARG.NEWITEM 03504
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.ATTR attr_decay
SRC.TARG.ACT.TIMERD 1
SOUND 025
f_element_check WATER
f_spell_damage 100
REMOVE
RETURN 1

//Undertow
[ITEMDEF i_undertow_scroll]
ID=i_map_rolled
NAME=Undertow Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Undertow Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM undertow_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF undetow_spell]
ID=i_memory
NAME=Undertow Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Undertow

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 30
f_waterskillcheck 40000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas An Flam Por Jux
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.EARTHSKILL <SRC.TAG.WATERSKILL>+320
SOUND 025
SOUND 025
SOUND 025
SRC.TARG.NEWITEM i_sprinkle_spell_sparkle
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.NEWITEM i_sprinkle_spell_sparkle
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE nw 1
SRC.TARG.NEWITEM i_sprinkle_spell_sparkle
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE ne 1
SRC.TARG.NEWITEM i_sprinkle_spell_sparkle
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE sw 1
SRC.TARG.NEWITEM i_sprinkle_spell_sparkle
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE se 1
DOSWITCH <SRC.TARG.DIR>
SRC.TARG.MOVE n {1 2}
SRC.TARG.MOVE ne {1 2}
SRC.TARG.MOVE e {1 2}
SRC.TARG.MOVE se {1 2}
SRC.TARG.MOVE s {1 2}
SRC.TARG.MOVE sw {1 2}
SRC.TARG.MOVE w {1 2}
SRC.TARG.MOVE nw {1 2}
ENDDO
f_element_check WATER
f_spell_damage 70
REMOVE
RETURN 1

//Water Fall
[ITEMDEF i_water_fall_scroll]
ID=i_map_rolled
NAME=Water Fall Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Water Fall Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM water_fall_spell
SRC.ACT.EQUIP
RETURN 1

// Tidal Wave
[ITEMDEF i_tidal_wave_scroll]
ID=i_map_rolled
NAME=Tidal Wave Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Tidal Wave Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM tidal_wave_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF tidal_wave_spell]
ID=i_memory
NAME=Tidal Wave Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Tidal Wave

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_manacheck 50
f_waterskillcheck 16000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas An Flam Grav
TARGETG Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.TAG.WATERSKILL <SRC.TAG.WATERSKILL>+1280
SRC.NEWITEM  i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 -2
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 -1
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 -2
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -1 -1
SRC.NEWITEM=i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 1 -1
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 -1
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 0 -1
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 0 -2
SRC.NEWITEM i_wave1
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 -1
SRC.NEWITEM=i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 -3
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -1 1
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -1 -2
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -1 0
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 -2
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 -1
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 0
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 2
SRC.NEWITEM i_wave2
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 1
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 -2
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 -1
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 0
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 1
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 2
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 1 1
SRC.NEWITEM=i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 1 0
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 1 -2
SRC.NEWITEM i_wave3
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 1 -1
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 1
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 1
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -2 2
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -1 2
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE -1 1
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 0 2
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 0 1
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 1 2
SRC.NEWITEM i_wave4
SRC.ACT.P <SRC.TARGP>
SRC.ACT.MOVE 2 2
REMOVE
RETURN 1

[ITEMDEF i_wave1]
ID=01fb7

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Tidal Wave

ON=@Create
TIMER 1
MORE2 6

ON=@Timer
MOVE 0 -1
MORE2 <MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER 1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0

[ITEMDEF i_wave2]
ID=01fbc

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Tidal Wave

ON=@Create
TIMER 1
MORE2 6

ON=@Timer
MOVE -1 0
MORE2 <MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER 1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0

[ITEMDEF i_wave3]
ID=01fc1

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Tidal Wave

ON=@Create
TIMER 1
MORE2 6

ON=@Timer
MOVE 1 0
MORE2 <MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER 1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0

[ITEMDEF i_wave4]
ID=01fc6

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Tidal Wave

ON=@Create
TIMER 1
MORE2 6

ON=@Timer
MOVE 0 1
MORE2 <MORE2>-1
IF <MORE2>==0
REMOVE
ENDIF
TIMER 1
RETURN 1

ON=@Step
SRC.DAMAGE {30 50}
RETURN 0

//Summon Water Elemental
[ITEMDEF i_summon_water_elemental_scroll]
ID=i_map_rolled
NAME=Summon Water Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Tidal Wave Scroll

ON=@Create
COLOR 02

ON=@DClick
SRC.NEWITEM summon_water_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_water_elemental_spell]
ID=i_memory
NAME=Summon Water Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Water Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1200
SRC.f_manacheck 100
SRC.f_waterskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen An Flam
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1600
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.NEWNPC c_elem_water
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//FIRE SPELLS

//Flaming Arrow
[ITEMDEF i_flaming_arrow_scroll]
ID=i_map_rolled
NAME=Flaming Arrow Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Flaming Arrow

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM flaming_arrow_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF flaming_arrow_spell]
ID=i_memory
NAME=Flaming Arrow Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Flaming Arrow

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_manacheck 3
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Por Yelm
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 400
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-3
SRC.TAG.ETHERIALSKILL <SRC.TAG.FIRESKILL>+10
SRC.TARG.EFFECT 0,i_fx_fireball_small,4,16,1
SOUND snd_spell_magic_arrow
f_element_check FIRE
f_spell_damage 150
REMOVE
RETURN 1

//Fireball
[ITEMDEF i_fireball_scroll]
ID=i_map_rolled
NAME=Fireball Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Fireball

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM fireball_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF fireball_spell]
ID=i_memory
NAME=Fireball Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Fireball

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_manacheck 6
SRC.f_fireskillcheck 2500
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Flam Por
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 500
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-3
SRC.TAG.ETHERIALSKILL <SRC.TAG.FIRESKILL>+20
SRC.TARG.EFFECT 0,i_fx_fireball,4,16,1
SOUND snd_spell_fireball
f_element_check FIRE
f_spell_damage 110
REMOVE
RETURN 1

//Flame Shield
[ITEMDEF i_flame_shield_scroll]
ID=i_map_rolled
NAME=Flame Shield Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Water Scrolls
DESCRIPTION=Flame Shield Scroll

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM flame_shield_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_flame_shield_spell_shield]
ID=i_memory
NAME=Flame Shield
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Flame Shield

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.HASFLAMESHIELD 1
SRC.EVENTS +e_flame_shield

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.HASFLAMESHIELD
SRC.EVENTS -e_flame_shield

ON=@Timer
REMOVE
RETURN 1

[EVENTS e_flame_shield]
ON=@GetHit
SRC.EFFECT 3,i_fx_explode,6,15,1
SOUND snd_spell_fireball
SRC.DAMAGE <HITS>/100
HITS <HITS>+(<SRC.HITS>/100)
UPDATE
RETURN 0

[ITEMDEF flame_shield_spell]
ID=i_memory
NAME=Flame Shield Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Flame Shield

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 10
f_fireskillcheck 5000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Flam Sanct Grav
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.TAG.HASFLAMESHIELD>
SRC.SYSMESSAGE They already are protected by this spell.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-10
SRC.TAG.FIRESKILL <SRC.TAG.FIRESKILL>+40
SRC.TARG.EFFECT 3,i_fx_explode,6,15,1
SRC.TARG.NEWITEM i_flame_shield_spell_shield
SRC.TARG.ACT.EQUIP
SRC.TARG.ACT.TIMER <SRC.MAGERY>
SOUND snd_spell_fire_field
REMOVE
RETURN 1

//Fire Field
[ITEMDEF i_fire_field_scroll]
ID=i_map_rolled
NAME=Fire Field Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Fire Field Scroll

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM fire_field_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF fire_field_spell]
ID=i_memory
NAME=Fire Field Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Fire Field

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_fireskillcheck 10000
f_mageryskillcheck 400
f_manacheck 15
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.TAG.TEMPFIREFIELDTAG <SRC.MAGERY>
SRC.CAST s_fire_field
SRC.TAG.FIRESKILL <SRC.TAG.FIRESKILL>+80
IF <SRC.MAGERY> > <SRC.TAG.TEMPFIREFIELDTAG>
SRC.MAGERY <SRC.TAG.TEMPFIREFIELDTAG>
ENDIF
SRC.TAG.TEMPFIREFIELDTAG
f_skillgain MAGERY
REMOVE
RETURN 1

//Fire Bolt
[ITEMDEF i_fire_bolt_scroll]
ID=i_map_rolled
NAME=Fire Bolt Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Fire Bolt

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM fire_bolt_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF fire_bolt_spell]
ID=i_memory
NAME=Fire Bolt Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Fire Bolt

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_manacheck 20
SRC.f_fireskillcheck 20000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Flam Por
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 900
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.ETHERIALSKILL <SRC.TAG.FIRESKILL>+160
SRC.TARG.EFFECT 0,i_fx_firesnake,4,16,1
SOUND snd_spell_fire_bolt
f_element_check FIRE
f_spell_damage 80
REMOVE
RETURN 1

//Explosion
[ITEMDEF i_explosion_scroll]
ID=i_map_rolled
NAME=Explosion Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Explosion Scroll

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM explosion_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF explosion_spell]
ID=i_memory
NAME=Explosion Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Explosion

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 30
SRC.f_fireskillcheck 40000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Ort Flam
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.FIRESKILL <SRC.TAG.FIRESKILL>+320
SRC.TARG.EFFECT 3,i_fx_explode,6,15,1
SRC.TARG.EFFECT 3,i_fx_explode,6,15,1
SOUND snd_spell_explosion
f_element_check FIRE
f_spell_damage 30
REMOVE
RETURN 1

//Flame Wave
[ITEMDEF i_flame_wave_scroll]
ID=i_map_rolled
NAME=Flame Wave Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Flame Wave Scroll

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM flame_wave_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_flame_wave]
ID=i_fire_column
NAME=Flame Wave
TYPE=t_normal

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Flame Wave

ON=@Create
ATTR attr_move_never
TIMER 2

ON=@Step
IF <SRC.TAG.FIRE><=0
SRC.DAMAGE <MORE>/20
SRC.DAMAGE {0 10}
ELSEIF <SRC.TAG.FIRE>==1
IF <SRC.MAGICRESISTANCE>>RAND(3000)
SRC.SYSMESSAGE You feel yourself resisting magical energy.
SRC.DAMAGE <MORE>/300
SRC.DAMAGE {0 4}
SRC.f_skillgain MAGICRESISTANCE
ELSE
SRC.DAMAGE <MORE>/40
SRC.DAMAGE {0 10}
ENDIF
ELSEIF <SRC.TAG.FIRE>==2
IF <SRC.MAGICRESISTANCE>>RAND(1500)
SRC.SYSMESSAGE You feel yourself resisting magical energy.
SRC.DAMAGE <MORE>/600
SRC.DAMAGE {0 4}
SRC.f_skillgain MAGICRESISTANCE
ELSE
SRC.DAMAGE <MORE>/80
SRC.DAMAGE {0 10}
ENDIF
ELSEIF <SRC.TAG.FIRE>==3
SRC.DAMAGE 0
ELSEIF <SRC.TAG.FIRE>>=4
SRC.HITS <SRC.HITS>+(<MORE>/40)
ENDIF
IF <SRC.FLAGS>&statf_freeze
SRC.FLAGS <SRC.FLAGS>&~statf_freeze
ENDIF

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF flame_wave_spell]
ID=i_memory
NAME=Flame Wave Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Flame Wave

ON=@Create
ATTR attr_invis|attr_move_never

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 700
SRC.f_manacheck 40
SRC.f_fireskillcheck 80000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Flam Grav Por
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1100
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-40
SRC.TAG.FIRESKILL <SRC.TAG.FIRESKILL>+640
VAR.FLAMESREMAINING 4
VAR.FLAMEDISTANCE 2
VAR.FLAMESTART <SRC.P>
LINK <SRC.UID>
IF <SRC.DIR>==0
VAR.DIRECTION 0
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE n 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==1
VAR.DIRECTION 1
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE ne 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==2
VAR.DIRECTION 2
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE e 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==3
VAR.DIRECTION 3
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE se 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==4
VAR.DIRECTION 4
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE s 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==5
VAR.DIRECTION 5
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE sw 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==6
VAR.DIRECTION 6
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE w 1
SOUND snd_spell_flamestrike
ELSEIF <SRC.DIR>==7
VAR.DIRECTION 7
SRC.NEWITEM i_flame_wave
SRC.ACT.P <SRC.P>
SRC.ACT.MORE <SRC.MAGERY>
SRC.ACT.MOVE nw 1
SOUND snd_spell_flamestrike
ENDIF
TIMER 1

ON=@Timer
IF <VAR.FLAMESREMAINING>
IF <VAR.DIRECTION>==0
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE n <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==1
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE ne <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==2
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE e <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==3
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE se <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==4
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE s <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==5
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE sw <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==6
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE w <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ELSEIF <VAR.DIRECTION>==7
LINK.NEWITEM i_flame_wave
LINK.ACT.P <VAR.FLAMESTART>
LINK.ACT.MORE <LINK.MAGERY>
LINK.ACT.MOVE nw <VAR.FLAMEDISTANCE>
SOUND snd_spell_flamestrike
VAR.FLAMESREMAINING <VAR.FLAMESREMAINING>+-1
VAR.FLAMEDISTANCE <VAR.FLAMEDISTANCE>+1
TIMER 1
ENDIF
ELSE
VAR.FLAMESREMAINING
VAR.FLAMEDISTANCE
VAR.FLAMESTART
VAR.DIRECTION
REMOVE
ENDIF

//Flamestrike
[ITEMDEF i_flamestrike_scroll]
ID=i_map_rolled
NAME=Flamestrike Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Flamestrike Scroll

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM flamestrike_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF flamestrike_spell]
ID=i_memory
NAME=Flamestrike Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Flamestrike

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_manacheck 50
SRC.f_fireskillcheck 160000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Flam
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.TAG.FIRESKILL <SRC.TAG.FIRESKILL>+1280
SRC.NEWITEM i_fire_column
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.ATTR 08012
SRC.ACT.TIMER 1
SOUND snd_spell_flamestrike
f_element_check FIRE
f_spell_damage 30
REMOVE
RETURN 1

//Summon Fire Elemental
[ITEMDEF i_summon_fire_elemental_scroll]
ID=i_map_rolled
NAME=Summon Fire Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Fire Scrolls
DESCRIPTION=Summon Fire Elemental Scroll

ON=@Create
COLOR 0792

ON=@DClick
SRC.NEWITEM summon_fire_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_fire_elemental_spell]
ID=i_memory
NAME=Summon Fire Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Fire Elemental

ON=@Create
ATTR=attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1200
SRC.f_manacheck 100
SRC.f_fireskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Flam
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1600
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.NEWNPC c_elem_fire
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//WIND SPELLS

//Gust
[ITEMDEF i_gust_scroll]
ID=i_map_rolled
NAME=Gust Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Gust Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM gust_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF gust_spell]
ID=i_memory
NAME=Gust Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Gust

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_manacheck 3
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Hur
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-3
SRC.TAG.WINDSKILL <SRC.TAG.WINDSKILL>+10
//SOUND snd_spell_flamestrike
f_element_check WIND
f_spell_damage 300
REMOVE
RETURN 1

//Fog
[ITEMDEF i_fog_scroll]
ID=i_map_rolled
NAME=Fog Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Fog Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM fog_spell
SRC.ACT.EQUIP
RETURN 1

//Sonic Boom
[ITEMDEF i_sonic_boom_scroll]
ID=i_map_rolled
NAME=Sonic Boom Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Sonic Boom Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM sonic_boom_spell
SRC.ACT.EQUIP
RETURN 1

//Gale
[ITEMDEF i_gale_scroll]
ID=i_map_rolled
NAME=Gale Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Gale Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM gale_spell
SRC.ACT.EQUIP
RETURN 1

//Tornado
[ITEMDEF i_tornado_scroll]
ID=i_map_rolled
NAME=Tornado Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Tornado Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM tornado_spell
SRC.ACT.EQUIP
RETURN 1

//Vaccum
[ITEMDEF i_vaccum_scroll]
ID=i_map_rolled
NAME=Vaccum Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Vaccum Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM vaccum_spell
SRC.ACT.EQUIP
RETURN 1

//Hurricane
[ITEMDEF i_hurricane_scroll]
ID=i_map_rolled
NAME=Hurricane Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Hurricane Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM hurricane_spell
SRC.ACT.EQUIP
RETURN 1

//Whirl Wind
[ITEMDEF i_whirl_wind_scroll]
ID=i_map_rolled
NAME=Whirl Wind Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Whirl Wind Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM whirl_wind_spell
SRC.ACT.EQUIP
RETURN 1

//Summon Air Elemental
[ITEMDEF i_summon_air_elemental_scroll]
ID=i_map_rolled
NAME=Summon Air Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Wind Scrolls
DESCRIPTION=Summon Air Elemental Scroll

ON=@Create
COLOR 024e

ON=@DClick
SRC.NEWITEM summon_air_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_air_elemental_spell]
ID=i_memory
NAME=Summon Air Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Air Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1200
SRC.f_manacheck 100
SRC.f_windskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Hur
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1600
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.NEWNPC c_elem_air
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//LIGHTNING SPELLS

//Spark
[ITEMDEF i_spark_scroll]
ID=i_map_rolled
NAME=Spark Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Spark Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM spark_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF spark_spell]
ID=i_memory
NAME=Spark Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Spark

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 150
SRC.f_manacheck 5
SRC.f_earthskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_lightningskillcheck 0
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Bet Ort Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 550
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-5
SRC.TAG.LIGHTNINGSKILL <SRC.TAG.LIGHTNINGSKILL>+10
SRC.TARG.EFFECT 3,i_fx_glow,6,15,1
SOUND snd_spell_lightning
SOUND 0fd
f_element_check LIGHTNING
f_spell_damage 300
REMOVE
RETURN 1

//Lightning
[ITEMDEF i_lightning_scroll]
ID=i_map_rolled
NAME=Lightning Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Earth Scrolls
DESCRIPTION=Lightning Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM lightning_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF lightning_spell]
ID=i_memory
NAME=Lightning Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Lightning

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 10
SRC.f_earthskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_lightningskillcheck 2500
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Por Ort Grav
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-10
SRC.TAG.LIGHTNINGSKILL <SRC.TAG.LIGHTNINGSKILL>+20
SRC.TARG.EFFECT 1,1
SOUND snd_spell_lightning
f_element_check LIGHTNING
f_spell_damage 270
REMOVE
RETURN 1

//Energy Field
[ITEMDEF i_energy_field_scroll]
ID=i_map_rolled
NAME=Energy Field Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Energy Field Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM energy_field_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF energy_field_spell]
ID=i_memory
NAME=Energy Field Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Energy Field

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 400
SRC.f_manacheck 15
SRC.f_earthskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_lightningskillcheck 5000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.TAG.ENERGYFIELDTAG <SRC.MAGERY>
SRC.CAST s_energy_field
SRC.TAG.EARTHSKILL <SRC.TAG.EARTHSKILL>+40
IF <SRC.MAGERY> > <SRC.TAG.ENERGYFIELDTAG>
SRC.MAGERY <SRC.TAG.ENERGYFIELDTAG>
ENDIF
SRC.TAG.ENERGYFIELDTAG
f_skillgain MAGERY
REMOVE
RETURN 1

//Ball Lightning
[ITEMDEF i_ball_lightning_scroll]
ID=i_map_rolled
NAME=Ball Lightning Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Ball Lightning Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM ball_lightning_spell
SRC.ACT.EQUIP
RETURN 1

//Shock
[ITEMDEF i_shock_scroll]
ID=i_map_rolled
NAME=Shock Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Shock Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM Shock_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF shock_spell]
ID=i_memory
NAME=Shock Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Shock

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 30
SRC.f_earthskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_lightningskillcheck 20000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Ort Jux
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.LIGHTNINGSKILL <SRC.TAG.LIGHTNINGSKILL>+160
SRC.TARG.EFFECT 1,1
SOUND snd_spell_lightning
f_element_check LIGHTNING
f_spell_damage 100
REMOVE
RETURN 1

//Chain Lightning
[ITEMDEF i_chain_lightning_scroll]
ID=i_map_rolled
NAME=Chain Lightning Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Chain Lightning Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM chain_lightning_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_chain_lightning]
ID=i_memory
NAME=Chain Lightning Effect
TYPE=t_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Chain Lightning

ON=Create
ATTR attr_invis
MORE 8

ON=@Step
IF <MORE>


[ITEMDEF chain_lightning_spell]
ID=i_memory
NAME=Chain Lightning Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Chain Lightning

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 700
SRC.f_manacheck 40
SRC.f_earthskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_lightningskillcheck 40000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Ort Grav
TARGETG Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-40
SRC.TAG.LIGHTNINGSKILL <SRC.TAG.LIGHTNINGSKILL>+320
SRC.NEWITEM i_chain_lightning
SRC.ACT.P <SRC.TARGP>
REMOVE
RETURN 1

//Nova
[ITEMDEF i_nova_scroll]
ID=i_map_rolled
NAME=Nova Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Nova Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM nova_spell
SRC.ACT.EQUIP
RETURN 1

//Luminare
[ITEMDEF i_luminare_scroll]
ID=i_map_rolled
NAME=Luminare Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Luminare Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM luminare_spell
SRC.ACT.EQUIP
RETURN 1

//Summon Lightning Elemental
[ITEMDEF i_summon_lightning_elemental_scroll]
ID=i_map_rolled
NAME=Summon Lightning Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Lightning Scrolls
DESCRIPTION=Summon Lightning Elemental Scroll

ON=@Create
COLOR 079f

ON=@DClick
SRC.NEWITEM summon_lightning_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_lightning_elemental_spell]
ID=i_memory
NAME=Summon Lightning Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Lightning Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1500
SRC.f_manacheck 150
SRC.f_lightningskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Ort Grav
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWNPC c_elem_lightning
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//ICE SPELLS

//Ice Cube

//Wall of Ice

//Sleet

//Ice Trap

//Icicle
[ITEMDEF i_icicle_scroll]
ID=i_map_rolled
NAME=Icicle Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ice Scrolls
DESCRIPTION=Icicle Scroll

ON=@Create
COLOR color_ice

ON=@DClick
SRC.NEWITEM icicle_spell
SRC.ACT.EQUIP
RETURN 1

//Deep Freeze
[ITEMDEF i_deep_freeze_scroll]
ID=i_map_rolled
NAME=Deep Freeze Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ice Scrolls
DESCRIPTION=Deep Freeze Scroll

ON=@Create
COLOR color_ice

ON=@DClick
SRC.NEWITEM deep_freeze_spell
SRC.ACT.EQUIP
RETURN 1

//Absolute Zero
[ITEMDEF i_absolute_zero_scroll]
ID=i_map_rolled
NAME=Absolute Zero Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ice Scrolls
DESCRIPTION=Absolute Zero Scroll

ON=@Create
COLOR color_ice

ON=@DClick
SRC.NEWITEM absolute_zero_spell
SRC.ACT.EQUIP
RETURN 1

//Ice Strike
[ITEMDEF i_ice_strike_scroll]
ID=i_map_rolled
NAME=Ice Strike Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ice Scrolls
DESCRIPTION=Ice Strike Scroll

ON=@Create
COLOR color_ice

ON=@DClick
SRC.NEWITEM ice_strike_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF ice_strike_spell]
ID=i_memory
NAME=Ice Strike Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Ice Strike

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 900
SRC.f_manacheck 100
SRC.f_waterskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_iceskillcheck 160000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Hur An Flam
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1300
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.TAG.ICESKILL <SRC.TAG.ICESKILL>+1280
SRC.NEWITEM i_fire_column
SRC.ACT.COLOR 0480
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.ATTR 08012
SRC.ACT.TIMER 1
SOUND 0fc
f_element_check ICE
f_spell_damage 30
REMOVE
RETURN 1

//Summon Ice Elemental
[ITEMDEF i_summon_ice_elemental_scroll]
ID=i_map_rolled
NAME=Summon Ice Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ice Scrolls
DESCRIPTION=Summon Ice Elemental Scroll

ON=@Create
COLOR color_ice

ON=@DClick
SRC.NEWITEM summon_ice_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_ice_elemental_spell]
ID=i_memory
NAME=Summon Ice Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Ice Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1500
SRC.f_manacheck 150
SRC.f_waterskillcheck 10000
SRC.f_windskillcheck 10000
SRC.f_iceskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen An Flam Ylem
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWNPC c_elem_ice
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//SNOW SPELLS

//Snowball

//Cold Chill

//Frostbite

//Snow Man

//Blizzard

//Avalanche

//Whiteout

//Summon Snow Elemental
[ITEMDEF i_summon_snow_elemental_scroll]
ID=i_map_rolled
NAME=Summon Snow Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Snow Scrolls
DESCRIPTION=Summon Snow Elemental Scroll

ON=@Create
COLOR color_snow

ON=@DClick
SRC.NEWITEM summon_snow_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_snow_elemental_spell]
ID=i_memory
NAME=Summon Snow Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Snow Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_manacheck 200
SRC.f_waterskillcheck 80000
SRC.f_windskillcheck 80000
SRC.f_iceskillcheck 40000
SRC.f_snowskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen An Flam Hur
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_elem_snow
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//POISON SPELLS

//Lesser Poison
[ITEMDEF i_lesser_poison_scroll]
ID=i_map_rolled
NAME=Lesser Poison Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Poison Scrolls
DESCRIPTION=Lesser Poison Scroll

ON=@Create
COLOR 048

ON=@DClick
SRC.NEWITEM lesser_poison_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF lesser_poison_spell]
ID=i_memory
NAME=Lesser Poison Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Lesser Poison

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 150
SRC.f_manacheck 5
SRC.f_waterskillcheck 10000
SRC.f_fireskillcheck 10000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Bet Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 550
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-5
SRC.TAG.POISONSKILL <SRC.TAG.POISONSKILL>+10
EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_poison
f_element_check POISON
IF <VAR.DAMTYPE>==0
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>/40
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>/80
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>/300
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//Toxic Gas

//Poison
[ITEMDEF i_poison_scroll]
ID=i_map_rolled
NAME=Poison Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Poison Scrolls
DESCRIPTION=Poison Scroll

ON=@Create
COLOR 048

ON=@DClick
SRC.NEWITEM poison_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF poison_spell]
ID=i_memory
NAME=Poison Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Poison

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 400
SRC.f_manacheck 15
SRC.f_waterskillcheck 10000
SRC.f_fireskillcheck 10000
SRC.f_poisonskillcheck 5000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Bet Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 550
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-15
SRC.TAG.POISONSKILL <SRC.TAG.POISONSKILL>+40
EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_poison
f_element_check POISON
IF <VAR.DAMTYPE>==0
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>*20
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>/20
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>/40
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>/150
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//Poison Field

//Venom
[ITEMDEF i_venom_scroll]
ID=i_map_rolled
NAME=Venom Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Poison Scrolls
DESCRIPTION=Venom Scroll

ON=@Create
COLOR 048

ON=@DClick
SRC.NEWITEM venom_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF venom_spell]
ID=i_memory
NAME=Venom Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Venom

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_manacheck 20
SRC.f_waterskillcheck 10000
SRC.f_fireskillcheck 10000
SRC.f_poisonskillcheck 10000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Por Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.POISONSKILL <SRC.TAG.POISONSKILL>+80
EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_poison
f_element_check POISON
IF <VAR.DAMTYPE>==0
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>*40
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>/20
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>/50
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//Greater Poison
[ITEMDEF i_greater_poison_scroll]
ID=i_map_rolled
NAME=Greater Poison Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Poison Scrolls
DESCRIPTION=Greater Poison Scroll

ON=@Create
COLOR 048

ON=@DClick
SRC.NEWITEM greater_poison_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF greater_poison_spell]
ID=i_memory
NAME=Greater Poison Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Greater Poison

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_manacheck 60
SRC.f_waterskillcheck 10000
SRC.f_fireskillcheck 10000
SRC.f_poisonskillcheck 80000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-60
SRC.TAG.POISONSKILL <SRC.TAG.POISONSKILL>+640
EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_poison
f_element_check POISON
IF <VAR.DAMTYPE>==0
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>*40
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>/20
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>/50
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//Bio

//Summon Poison Elemental
[ITEMDEF i_summon_poison_elemental_scroll]
ID=i_map_rolled
NAME=Summon Poison Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Poison Scrolls
DESCRIPTION=Summon Poison Elemental Scroll

ON=@Create
COLOR 048

ON=@DClick
SRC.NEWITEM summon_poison_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_poison_elemental_spell]
ID=i_memory
NAME=Summon Poison Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Poison Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 900
SRC.f_manacheck 100
SRC.f_waterskillcheck 10000
SRC.f_fireskillcheck 10000
SRC.f_poisonskillcheck 160000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Nox
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.TAG.POISONSKILL <SRC.TAG.POISONSKILL>+1280
SRC.NEWNPC c_elem_poison
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Deadly Poison
[ITEMDEF i_deadly_poison_scroll]
ID=i_map_rolled
NAME=Deadly Poison Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Poison Scrolls
DESCRIPTION=Deadly Poison Scroll

ON=@Create
COLOR 048

ON=@DClick
SRC.NEWITEM deadly_poison_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF deadly_poison_spell]
ID=i_memory
NAME=Deadly Poison Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Deadly Poison

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1500
SRC.f_manacheck 150
SRC.f_waterskillcheck 10000
SRC.f_fireskillcheck 10000
SRC.f_poisonskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Jux Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_poison
f_element_check POISON
IF <VAR.DAMTYPE>==0
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>*80
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>*4
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//SWAMP SPELLS

//Sludge

//Slime

//Summon Swamp Tentacle

//Sewage

//Acid Rain

//Bad Breath
[ITEMDEF i_bad_breath_scroll]
ID=i_map_rolled
NAME=Bad Breath Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Swamp Scrolls
DESCRIPTION=Bad Breath Scroll

ON=@Create
COLOR 023b

ON=@DClick
SRC.NEWITEM bad_breath_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF bad_breath_spell]
ID=i_memory
NAME=Summon Swamp Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Bad Breath

ON=@Create
ATTR=attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
SRC.f_waterskillcheck 80000
SRC.f_fireskillcheck 80000
SRC.f_poisonskillcheck 40000
SRC.f_swampskillcheck 160000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Nox Jux Por

TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.TAG.SWAMPSKILL <SRC.TAG.SWAMPSKILL>+1280
SRC.NEWITEM i_trap_gas
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.ATTR attr_decay|attr_move_never
SRC.ACT.TIMERD .4
VAR.BADBREATH {1 9}
VAR.B1 0
VAR.B2 0
VAR.B3 0
VAR.B4 0
VAR.B5 0
VAR.B6 0
VAR.B7 0
VAR.B8 0
BAR.B9 0
f_bad_breath
REMOVE
RETURN 1

[FUNCTION f_bad_breath]
IF <VAR.BADBREATH>
VAR.BRAND {1 9}
IF <VAR.BRAND>==1
IF <VAR.B1>
f_bad_breath
ELSE
IF <SRC.TARG.TAG.POISON><=0
SRC.TARG.SPELLEFFECT s_poison (<SRC.MAGERY>*20)
ELSEIF <SRC.TARG.TAG.POISON>==1
SRC.TARG.SPELLEFFECT s_poison <SRC.MAGERY>
ELSEIF <SRC.TARG.TAG.POISON>==2
SRC.TARG.SPELLEFFECT s_poison (<SRC.MAGERY>/20)
ELSEIF <SRC.TARG.TAG.POISON>==3
SRC.TARG.DAMAGE 0
ELSEIF <SRC.TARG.TAG.POISON>>=4
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.B1 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==2
IF <VAR.B2>
f_bad_breath
ELSE
IF !<SRC.TARG.RESTEST i_curse_timer>
SRC.NEWITEM i_curse_timer
SRC.ACT.TIMER <SRC.MAGERY>
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.B2 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==3
IF <VAR.B3>
f_bad_breath
ELSE
SRC.TARG.FLAGS <SRC.TARG.FLAGS>|statf_sleep
VAR.B3 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==4
IF (<SRC.TARG.TAG.EARTH><3)&&(!<SRC.TARG.RESTEST i_petrify_memory>)
SRC.NEWITEM i_petrify_memory
SRC.TARG.EQUIP <SRC.ACT>
SRC.ACT.TIMER <SRC.MAGERY>/50
SRC.UPDATE
ENDIF
VAR.B4 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==5
IF <VAR.B5>
f_bad_breath
ELSE
SRC.NEWITEM i_health_leak_memory
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MORE <EVAL <SRC.MAGERY>>
SRC.TARG.EQUIP <SRC.ACT>
VAR.B5 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==6
IF <VAR.B6>
f_bad_breath
ELSE
IF !<SRC.TARG.RESTEST i_rot_timer>
SRC.NEWITEM i_rot_timer
SRC.TARG.EQUIP <SRC.ACT>
SRC.TARG.SYSMESSAGE You have been afflicted with the decay of the dead.
ENDIF
VAR.B6 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==7
IF <VAR.B7>
f_bad_breath
ELSE
IF !<SRC.TARG.RESTEST i_hallucination_effect>
SRC.NEWITEM i_hallucination_effect
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.B7 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSEIF <VAR.BRAND>==8
IF <VAR.B8>
f_bad_breath
ELSE
IF !<SRC.TARG.RESTEST i_confusion_memory>
SRC.NEWITEM i_confusion_memory
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.B8 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ELSE
IF <VAR.B9>
f_bad_breath
ELSE
IF !<SRC.TARG.RESTEST i_slow_numb_timer>
SRC.NEWITEM i_slow_numb_timer
SRC.TARG.EQUIP <SRC.ACT>
ENDIF
VAR.B9 1
VAR.BADBREATH <VAR.BADBREATH>+-1
f_bad_breath
ENDIF
ENDIF
ENDIF

[ITEMDEF i_confusion_memory]
ID=i_memory
NAME=Confusion Memory
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Confusion

ON=@Create
ATTR attr_invis

ON=@Equip
//do stuff to confuse player
TIMER {200 300}
RETURN 0

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF i_slow_numb_timer]
ID=i_memory
NAME=Slow Numb Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Slow Numb

ON=@Create
ATTR attr_invis

ON=@Equip
MORE 10
TIMER 10

ON=@Timer
IF <MORE>
CONT.SAY 10
MORE <MORE>+-1
TIMER 10
ELSE
CONT.SUICIDE
ENDIF
RETURN 1

//Summon Swamp Elemental
[ITEMDEF i_summon_swamp_elemental_scroll]
ID=i_map_rolled
NAME=Summon Swamp Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Swamp Scrolls
DESCRIPTION=Summon Swamp Elemental Scroll

ON=@Create
COLOR 023b

ON=@DClick
SRC.NEWITEM summon_swamp_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_swamp_elemental_spell]
ID=i_memory
NAME=Summon Swamp Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Swamp Elemental

ON=@Create
ATTR=attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_manacheck 200
SRC.f_waterskillcheck 80000
SRC.f_fireskillcheck 80000
SRC.f_poisonskillcheck 40000
SRC.f_swampskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen An Por
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_elem_swamp
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//BLOOD SPELLS

//Harm
[ITEMDEF i_harm_scroll]
ID=i_map_rolled
NAME=Harm Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Harm Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM harm_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF harm_spell]
ID=i_memory
NAME=Harm Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Harm

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 10
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Mani
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-10
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+10
SRC.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_harm
SOUND snd_spell_mana_vampire
f_element_check BLOOD
f_spell_damage 15
REMOVE
RETURN 1

//Vampire
[ITEMDEF i_vampire_scroll]
ID=i_map_rolled
NAME=Vampire Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Vampire Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM vampire_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF vampire_spell]
ID=i_memory
NAME=Vampire Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Vampire

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 400
SRC.f_manacheck 15
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 5000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Mani Por
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 800
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-15
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+20
SRC.TARG.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_mana_drain
SOUND snd_spell_harm
SOUND snd_spell_reveal
f_element_check BLOOD
IF <VAR.DAMTYPE><=0
VAR.VAMP (<SRC.EVALUATINGINTEL>/2.0)+{0 30}
SRC.TARG.HITS <SRC.TARG.HITS>+-<VAR.VAMP>
SRC.HITS <SRC.HITS>+<VAR.VAMP>
IF <SRC.HITS>><SRC.STR>
SRC.HITS <SRC.STR>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==1
VAR.VAMP (<SRC.EVALUATINGINTEL>/4.0)+{0 30}
SRC.TARG.HITS <SRC.TARG.HITS>+-<VAR.VAMP>
SRC.HITS <SRC.HITS>+<VAR.VAMP>
IF <SRC.HITS>><SRC.STR>
SRC.HITS <SRC.STR>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==2
VAR.VAMP (<SRC.EVALUATINGINTEL>/8.0)+{0 30}
SRC.TARG.HITS <SRC.TARG.HITS>+-<VAR.VAMP>
SRC.HITS <SRC.HITS>+<VAR.VAMP>
IF <SRC.HITS>><SRC.STR>
SRC.HITS <SRC.STR>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==3
VAR.VAMP -1
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>>=4
VAR.VAMP (<SRC.EVALUATINGINTEL>/4.0)+{0 30}
SRC.TARG.HITS <SRC.TARG.HITS>+<VAR.VAMP>
IF <SRC.TARG.HITS>><SRC.TARG.STR>
SRC.TARG.HITS <SRC.TARG.STR>
SRC.HITS <SRC.HITS>+-<VAR.VAMP>
SRC.TARG.DAMAGE 0
ENDIF
SRC.TARG.UPDATE
SRC.UPDATE
VAR.DAMTYPE
VAR.VAMP
REMOVE
RETURN 1

//Mana Drain
[ITEMDEF i_mana_drain_scroll]
ID=i_map_rolled
NAME=Mana Drain Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Mana Drain Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM mana_drain_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF mana_drain_spell]
ID=i_memory
NAME=Mana Drain Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Mana Drain

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_manacheck 20
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 5000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Wis
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+40
SRC.TARG.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_mana_drain
SOUND snd_spell_invisibility
f_element_check BLOOD
IF <VAR.DAMTYPE><=0
SRC.TARG.MANA <SRC.TARG.MANA>+-((<SRC.MAGERY>*2.0)*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.MANA <SRC.TARG.MANA>+-(<SRC.MAGERY>*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.MANA <SRC.TARG.MANA>+-((<SRC.MAGERY>/2.0)*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>>=4
SRC.TARG.MANA <SRC.TARG.MANA>+(<SRC.MAGERY>*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//Mana Vampire
[ITEMDEF i_mana_vampire_scroll]
ID=i_map_rolled
NAME=Mana Vampire Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Mana Vampire Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM mana_vampire_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF mana_vampire_spell]
ID=i_memory
NAME=Mana Vampire Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Mana Vampire

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 30
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 10000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Wis Por
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+80
SRC.TARG.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_mana_vampire
f_element_check BLOOD
IF <VAR.DAMTYPE><=0
VAR.VAMP <SRC.EVALUATINGINTEL>+-{0 30}
SRC.TARG.MANA <SRC.TARG.MANA>+-<VAR.VAMP>
SRC.MANA <SRC.MANA>+<VAR.VAMP>
IF <SRC.MANA>><SRC.INT>
SRC.MANA <SRC.INT>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==1
VAR.VAMP (<SRC.EVALUATINGINTEL>/2.0)+-{0 30}
SRC.TARG.MANA <SRC.TARG.MANA>+-<VAR.VAMP>
SRC.MANA <SRC.MANA>+<VAR.VAMP>
IF <SRC.MANA>><SRC.INT>
SRC.MANA <SRC.INT>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==2
VAR.VAMP (<SRC.EVALUATINGINTEL>/4.0)+-{0 30}
SRC.TARG.HITS <SRC.TARG.HITS>+-<VAR.VAMP>
SRC.HITS <SRC.HITS>+<VAR.VAMP>
IF <SRC.HITS>><SRC.STR>
SRC.HITS <SRC.STR>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==3
VAR.VAMP -1
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>>=4
VAR.VAMP (<SRC.EVALUATINGINTEL>/2.0)+-{0 30}
SRC.TARG.MANA <SRC.TARG.MANA>+<VAR.VAMP>
IF <SRC.TARG.MANA>><SRC.TARG.INT>
SRC.MANA <<SRC.INT>
ENDIF
SRC.MANA <SRC.MANA>+-<VAR.VAMP>
SRC.TARG.DAMAGE 0
ENDIF
SRC.TARG.UPDATE
SRC.UPDATE
VAR.DAMTYPE
VAR.VAMP
REMOVE
RETURN 1

//Exhaustion
[ITEMDEF i_exhaustion_scroll]
ID=i_map_rolled
NAME=Exhaustion Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Exhaustion Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM exhaustion_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF exhaustion_spell]
ID=i_memory
NAME=Exhaustion Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Exhaustion

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 700
SRC.f_manacheck 50
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 20000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Ex
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1100
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+160
SRC.TARG.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_mana_drain
SOUND snd_spell_curse
f_element_check BLOOD
IF <VAR.DAMTYPE><=0
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+-((<SRC.MAGERY>*2.0)*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==1
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+-(<SRC.STAMINA>*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==2
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+-((<SRC.MAGERY>/2.0)*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==3
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>>=4
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+(<SRC.MAGERY>*(<SRC.EVALUATINGINTEL>/150.0))
SRC.TARG.DAMAGE 0
ENDIF
VAR.DAMTYPE
REMOVE
RETURN 1

//Stamina Vampire
[ITEMDEF i_stamina_vampire_scroll]
ID=i_map_rolled
NAME=Stamina Vampire Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Stamina Vampire Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM stamina_vampire_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF stamina_vampire_spell]
ID=i_memory
NAME=Stamina Vampire Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Stamina Vampire

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_manacheck 75
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 40000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Ex Por
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-75
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+320
SRC.TARG.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_mana_drain
SOUND snd_spell_harm
SOUND snd_spell_bless
f_element_check BLOOD
IF <VAR.DAMTYPE><=0
VAR.VAMP (<SRC.EVALUATINGINTEL>*2.0)+-{0 30}
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+-<VAR.VAMP>
SRC.STAMINA <SRC.STAMINA>+<VAR.VAMP>
IF <SRC.STAMINA>><SRC.DEX>
SRC.STAMINA <SRC.DEX>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==1
VAR.VAMP <SRC.EVALUATINGINTEL>+-{0 30}
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+-<VAR.VAMP>
SRC.STAMINA <SRC.STAMINA>+<VAR.VAMP>
IF <SRC.STAMINA>><SRC.DEX>
SRC.STAMINA <SRC.DEX>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==2
VAR.VAMP (<SRC.EVALUATINGINTEL>/2.0)+-{0 30}
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+-<VAR.VAMP>
SRC.STAMINA <SRC.STAMINA>+<VAR.VAMP>
IF <SRC.STAMINA>><SRC.DEX>
SRC.STAMINA <SRC.DEX>
ENDIF
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>==3
VAR.VAMP -1
SRC.TARG.DAMAGE 0
ELSEIF <VAR.DAMTYPE>>=4
VAR.VAMP <SRC.EVALUATINGINTEL>+-{0 30}
SRC.TARG.STAMINA <SRC.TARG.STAMINA>+<VAR.VAMP>
IF <SRC.TARG.STAMINA>><SRC.TARG.DEX>
SRC.STAMINA <SRC.DEX>
ENDIF
SRC.STAMINA <SRC.STAMINA>+-<VAR.VAMP>
SRC.TARG.DAMAGE 0
ENDIF
SRC.TARG.UPDATE
SRC.UPDATE
VAR.DAMTYPE
VAR.VAMP
REMOVE
RETURN 1

//Blood Lust
[ITEMDEF i_blood_lust_scroll]
ID=i_map_rolled
NAME=Blood Lust Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Blood Lust Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM blood_lust_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_blood_lust_memory]
ID=i_memory
NAME=Blood Lust Memory
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Blood Lust

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+3
TIMER <SRC.TAG.BLOOD>*30
IF <TIMER><0
TIMERD 0.1

ON=@Timer
CONT.TAG.BLOOD <CONT.TAG.BLOOD>+-3
REMOVE
RETURN 1

[ITEMDEF blood_lust_spell]
ID=i_memory
NAME=Blood Lust Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Corpse Explode

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 900
SRC.f_manacheck 100
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 80000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Mani Wis Jux
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1300
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+640
SRC.TARG.EFFECT 3,i_fx_curse,6,15,1
SOUND snd_spell_harm
SOUND snd_spell_incognito
SRC.NEWITEM i_blood_lust_memory
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

//Corpse Explode
[ITEMDEF i_corpse_explode_scroll]
ID=i_map_rolled
NAME=Corpse Explode Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Corpse Explode Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM corpse_explode_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF corpse_explode_spell]
ID=i_memory
NAME=Corpse Explode Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Corpse Explode

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 50
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 160000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Corp Grav Por
TARGET Select the target for the spell.

ON=@TargOn_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@TargOn_Item
IF (<SRC.TARG.TYPE> != t_corpse)
SRC.SYSMESSAGE You can only cast this on corpses.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.TAG.BLOODSKILL <SRC.TAG.BLOODSKILL>+1280
SOUND snd_spell_explosion
SOUND snd_spell_curse
SRC.TARG.NEWITEM=i_fx_explode
SRC.TARG.ACT.COLOR colors_red
SRC.TARG.ACT.TYPE t_explosion
SRC.TARG.ACT.ATTR attr_move_never|attr_can_decay
SRC.TARG.ACT.MOREX <SRC.MAGERY>/30 //amount of damage
SRC.TARG.ACT.MOREY 090 //set flags to general damage
SRC.TARG.ACT.MOREZ 10 //distance
SRC.TARG.ACT.P <P>
SRC.TARG.ACT.TIMERD 1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_can_decay
SRC.TARG.TIMERD 1
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE <EVAL(RAND(6))> <EVAL(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE <EVAL(RAND(6))> <EVAL(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE <EVAL(RAND(6))> <EVAL(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE <EVAL(RAND(6))> <EVAL(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE <EVAL(RAND(6))> <EVAL(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.MOVE <EVAL(RAND(6))+-(RAND(6))> <EVAL(RAND(6))+-(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.MOVE <EVAL(RAND(6))+-(RAND(6))> <EVAL(RAND(6))+-(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.MOVE <EVAL(RAND(6))+-(RAND(6))> <EVAL(RAND(6))+-(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.MOVE <EVAL(RAND(6))+-(RAND(6))> <EVAL(RAND(6))+-(RAND(6))>
SRC.TARG.NEWITEM i_blood
SRC.TARG.ACT.TIMER 15
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.MOVE <EVAL(RAND(6))+-(RAND(6))> <EVAL(RAND(6))+-(RAND(6))>
REMOVE
RETURN 1

//Summon Blood Elemental
[ITEMDEF i_summon_blood_elemental_scroll]
ID=i_map_rolled
NAME=Summon Blood Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Blood Scrolls
DESCRIPTION=Summon Blood Elemental Scroll

ON=@Create
COLOR 025

ON=@DClick
SRC.NEWITEM summon_blood_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_blood_elemental_spell]
ID=i_memory
NAME=Summon Blood Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Blood Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_manacheck 200
SRC.f_waterskillcheck 160000
SRC.f_fireskillcheck 160000
SRC.f_poisonskillcheck 80000
SRC.f_bloodskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Corp Nox
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_elem_blood
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//HOLY SPELLS

//Holy Light
[ITEMDEF i_holy_light_scroll]
ID=i_map_rolled
NAME=Holy Light Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Holy Light

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM holy_light_spell
SRC.ACT.EQUIP
RETURN 1

//Holy Vision
[ITEMDEF i_holy_vision_scroll]
ID=i_map_rolled
NAME=Holy Vision Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Holy Vision

ON=@create
COLOR 079b

ON=@DClick
SRC.NEWITEM holy_vision_spell
SRC.ACT.EQUIP
RETURN 1

//Holy Wind
[ITEMDEF i_holy_wind_scroll]
ID=i_map_rolled
NAME=Holy Wind Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Holy Wind

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM holy_wind_spell
SRC.ACT.EQUIP
RETURN 1

//Holy Beam
[ITEMDEF i_holy_beam_scroll]
ID=i_map_rolled
NAME=Holy Beam Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Holy Beam

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM holy_beam_spell
SRC.ACT.EQUIP
RETURN 1

//Destroy Sin
[ITEMDEF i_destroy_sin_scroll]
ID=i_map_rolled
NAME=Destroy Sin Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Destroy Sin

ON=@create
COLOR 079b

ON=@DClick
SRC.NEWITEM destroy_sin_spell
SRC.ACT.EQUIP
RETURN 1

//Holy Blast
[ITEMDEF i_holy_blast_scroll]
ID=i_map_rolled
NAME=Holy Blast Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Holy Blast

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM holy_blast_spell
SRC.ACT.EQUIP
RETURN 1

//Cleanse
[ITEMDEF i_cleanse_scroll]
ID=i_map_rolled
NAME=Cleanse Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Cleanse

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM cleanse_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF cleanse_spell]
ID=i_memory
NAME=Cleanse Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Cleanse Spell

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 900
SRC.f_manacheck 100
SRC.f_earthskillcheck 80000
SRC.f_waterskillcheck 80000
SRC.f_holyskillcheck 80000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Corp Mani
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
IF (<SRC.TARG.NPC> != brain_undead)
SRC.SYSMESSAGE You can only cast this on the undead.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1300
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.TAG.HOLYSKILL <SRC.TAG.HOLYSKILL>+640
SRC.TARG.EFFECT 3,i_fx_bless_effect,6,15,1
SOUND snd_spell_dispel
SRC.TARG.DAMAGE {400 500}
REMOVE
RETURN 1

//Light Pilar
[ITEMDEF i_light_pilar_scroll]
ID=i_map_rolled
NAME=Light Pilar Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Light Pilar

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM light_pilar_spell
SRC.ACT.EQUIP
RETURN 1

//Summon Holy Elemental
[ITEMDEF i_summon_holy_elemental_scroll]
ID=i_map_rolled
NAME=Summon Holy Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Holy Scrolls
DESCRIPTION=Summon Holy Elemental Scroll

ON=@Create
COLOR 079b

ON=@DClick
SRC.NEWITEM summon_holy_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_holy_elemental_spell]
ID=i_memory
NAME=Summon Holy Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Holy Elemental

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_manacheck 200
SRC.f_earthskillcheck 80000
SRC.f_waterskillcheck 80000
SRC.f_holyskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Lor
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_elem_holy
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//DARKNESS SPELLS

//Unholy Light
[ITEMDEF i_unholy_light_scroll]
ID=i_map_rolled
NAME=Unholy Light Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Unholy Light Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM unholy_light_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF unholy_light_spell]
ID=i_memory
NAME=Unholy Light Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Unholy Light

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 10
SRC.f_fireskillcheck 80000
SRC.f_windskillcheck 80000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Corp Lor
SRC.NEWITEM i_unholy_light
SRC.ACT.P <SRC.P>
SRC.ACT.TIMER <SRC.MAGERY>
SRC.NEWITEM i_unholy_light_timer
SRC.ACT.EQUIP
REMOVE
RETURN 1

[ITEMDEF i_unholy_light]
ID=i_memory
NAME=Unholy Light
TYPE=t_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Unholy Light

ON=@Create
ATTR attr_invis
TAG.SECTORLIGHT <SECTOR.LIGHT>
SECTOR.LIGHT 30

ON=@Timer
SECTOR.LIGHT <TAG.SECTORLIGHT>
REMOVE
RETURN 1

[ITEMDEF i_unholy_light_timer]
ID=i_memory
NAME=Unholy Light Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Unholy Light Timer

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.NIGHTSIGHT 1
TIMER <SRC.MAGERY>

ON=@Timer
SRC.NIGHTSIGHT 0
REMOVE
RETURN 1

//Darkness
[ITEMDEF i_darkness_scroll]
ID=i_map_rolled
NAME=Darkness Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Darkness Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM darkness_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF darkness_spell]
ID=i_memory
NAME=Darkness Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Darkness

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.SYSMESSAGE This spell is temporarily unavailable.
REMOVE
RETURN 1

//Unholy Strength
[ITEMDEF i_unholy_strength_scroll]
ID=i_map_rolled
NAME=Unholy Strength Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Unholy Strength Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM unholy_strength_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF unholy_strength_spell]
ID=i_memory
NAME=Unholy Strength Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Unholy Strength

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_manacheck 20
SRC.f_fireskillcheck 80000
SRC.f_windskillcheck 80000
SRC.f_darkskillcheck 5000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Lor Mani
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@Targon_Char
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 900
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.DARKSKILL <SRC.TAG.DARKSKILL>+40
SRC.TAG.BEFOREUNHOLYSTR <SRC.STR>
SRC.EVENTS +e_unholy_strength
SRC.TIMER <SRC.MAGERY>*1.5
RETURN 1

ON=@Timer
CONT.EVENTS -e_unholy_strength
CONT.STR <SRC.TAG.BEFOREUNHOLYSTR>
REMOVE
RETURN 1

[EVENTS e_unholy_strength]
ON=@GetHit
STR <STR>+{2 5}
IF <STR>>1000
STR 1000
ENDIF

//Demi
[ITEMDEF i_demi_scroll]
ID=i_map_rolled
NAME=Demi Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Demi Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM demi_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF demi_spell]
ID=i_memory
NAME=Demi Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Demi Spell

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 30
SRC.f_fireskillcheck 80000
SRC.f_windskillcheck 80000
SRC.f_darkskillcheck 10000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Mani Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TAG.EARTHSKILL <SRC.TAG.DARKSKILL>+80
SRC.TARG.EFFECT 2,037be,1,5,1
SRC.SOUND 01e6
VAR.DEMI1 <SRC.MAGERY>/100
VAR.DEMI2 <VAR.DEMI1>+RAND(100)
IF (<VAR.DEMI2> >= 90.0) && (<SRC.MAGERY>><SRC.MAGICRESISTANCE>)
SRC.TARG.DAMAGE <SRC.TARG.HITS>/2
SRC.UPDATE
ELSE
SRC.SYSMESSAGE Your target seems unaffected by the spell.
ENDIF
REMOVE
RETURN 1

//Evil Prescence
[ITEMDEF i_evil_prescence_scroll]
ID=i_map_rolled
NAME=Evil Prescence Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Evil Presence Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM evil_prescence_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF evil_prescence_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Evil Prescence Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Evil Presence Spell

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 700
SRC.f_manacheck 40
SRC.f_fireskillcheck 80000
SRC.f_windskillcheck 80000
SRC.f_darkskillcheck 20000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Corp Sanct
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-40
SRC.TAG.DARKSKILL <SRC.TAG.DARKSKILL>+160
SRC.EVENTS +e_evil_prescence
SCR.TIMER <SRC.MAGERY>*2.0
RETURN 1

ON=@Timer
CONT.EVENTS -e_evil_prescence
REMOVE
RETURN 1

[EVENTS e_evil_prescence]
ON=@GetHit
IF !RAND(5)
SRC.EFFECT 2,037c4,1,16,1
SRC.NEWNPC {c_lesser_daemon 1 c_dark_orc 1 c_dark_form 1 c_gargoyle 1 c_gazer 1}
SRC.ACT.P <SRC.P>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
ENDIF

//Quarter
[ITEMDEF i_quarter_scroll]
ID=i_map_rolled
NAME=Quarter Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Quarter Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM quater_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF quarter_spell]
ID=i_memory
NAME=Quarter Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Quarter Spell

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_manacheck 50
SRC.f_fireskillcheck 80000
SRC.f_windskillcheck 80000
SRC.f_darkskillcheck 40000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Vas Mani Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1200
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.TAG.DARKSKILL <SRC.TAG.DARKSKILL>+320
SRC.TARG.EFFECT 2,037be,1,5,1
SRC.SOUND 01e6
VAR.QUATER1 <SRC.MAGERY>/100
VAR.QUATER2 <VAR.QUATER1>+RAND(100)
IF (<VAR.QUATER2> >= 90.0) && (<SRC.MAGERY>><SRC.MAGICRESISTANCE>)
//VAR.QUARTERDAM <SRC.TARG.HITS>/4
//SRC.TARG.DAMAGE <VAR.QUARTERDAM>
//SRC.TARG.DAMAGE <VAR.QUARTERDAM>
//SRC.TARG.DAMAGE <VAR.QUARTERDAM>
SRC.TARG.HITS <SRC.TARG.HITS>/4
SRC.TARG.DAMAGE 1
SRC.TARG.UPDATE
SRC.UPDATE
ELSE
SRC.SYSMESSAGE Your target seems unaffected by the spell.
ENDIF
REMOVE
RETURN 1

//Dark Matter

//Dark Holy

//Summon Shadow Elemental
[ITEMDEF i_summon_shadow_elemental_scroll]
ID=i_map_rolled
NAME=Summon Shadow Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Shadow Scrolls
DESCRIPTION=Summon Shadow Elemental Scroll

ON=@Create
COLOR 078c

ON=@DClick
SRC.NEWITEM summon_shadow_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_shadow_elemental_spell]
ID=i_memory
NAME=Summon Shadow Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Shadow Elemental

ON=@Create
ATTR=attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_manacheck 200
SRC.f_fireskillcheck 80000
SRC.f_windskillcheck 80000
SRC.f_darkskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen An Lor
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_elem_shadow
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1


//ETHER SPELLS

//Energy Bolt
[ITEMDEF i_energy_bolt_scroll]
ID=i_map_rolled
NAME=Energy Bolt Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Energy Bolt

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM energy_bolt_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF energy_bolt_spell]
ID=i_memory
NAME=Energy Bolt Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Energy Bolt

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 900
SRC.f_manacheck 20
SRC.f_earthskillcheck 320000
SRC.f_waterskillcheck 320000
SRC.f_fireskillcheck 320000
SRC.f_windskillcheck 320000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Corp Por
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1300
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.TAG.ETHERIALSKILL <SRC.TAG.ETHERIALSKILL>+10
SRC.TARG.EFFECT 0,0379f,4,16,1
SOUND snd_spell_energy_bolt
f_element_check ETHER
f_spell_damage 40
REMOVE
RETURN 1

//Blade Spirit
[ITEMDEF i_blade_spirits_scroll]
ID=i_map_rolled
NAME=Blade Spirits Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Blade Spirits

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM blade_spirits_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF blade_spirits_spell]
ID=i_memory
NAME=Blade Spirits Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Blade Spirits

ON=@Create
ATTR=attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_mageryskillcheck 1000
f_manacheck 40
f_earthskillcheck 320000
f_waterskillcheck 320000
f_fireskillcheck 320000
f_windskillcheck 320000
f_etherialskillcheck 2500
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Jux Hur Ylem
TARGETG Where do you wish to summon the creature?

ON=@TargOn_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-40
SRC.TAG.ETHERIALSKILL <SRC.TAG.ETHERIALSKILL>+20
SOUND snd_spell_blade_spirits
SRC.NEWNPC c_blade_spirit
SRC.ACT.P <SRC.TARGP>
SRC.ACT.UPDATE
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Meteor Swarm
[ITEMDEF i_meteor_swarm_scroll]
ID=i_map_rolled
NAME=Meteor Swarm Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Meteor Swarm

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM meteor_swarm_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_meteor]
ID=036d4
NAME=Meteor

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Meteor Swarm

ON=@Create
COLOR 0799

[ITEMDEF meteor_swarm_spell]
ID=i_memory
NAME=Meteor Swarm Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Meteor Swarm

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_mageryskillcheck 1100
f_manacheck 50
f_earthskillcheck 320000
f_waterskillcheck 320000
f_fireskillcheck 320000
f_windskillcheck 320000
f_etherialskillcheck 5000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Flam Kal Des Ylem
TARGET Select the target for the spell.

ON=@TargOn_Item
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Ground
SRC.SYSMESSAGE That is not a valid target.
RETURN 1

ON=@TargOn_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1500
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.TAG.ETHERIALSKILL <SRC.TAG.ETHERIALSKILL>+40
SRC.TARG.EFFECT 0,i_fx_fireball,1,16,1
SRC.TARG.EFFECT 0,i_fx_fireball,2,16,1
SRC.TARG.EFFECT 0,i_fx_fireball,3,16,1
SRC.TARG.EFFECT 0,i_fx_fireball,4,16,1
SRC.TARG.EFFECT 0,i_fx_fireball,5,16,1
SOUND snd_spell_meteor_swarm
f_element_check ETHER
f_spell_damage 40
REMOVE
RETURN 1

//Comet
[ITEMDEF i_comet_scroll]
ID=i_map_rolled
NAME=Comet Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Comet

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM comet_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF comet_spell]
ID=i_memory
NAME=Comet Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Comet

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.SYSMESSAGE This spell is temporarily unavailable.
REMOVE
RETURN 1

//Energy Vortex
[ITEMDEF i_energy_vortex_scroll]
ID=i_map_rolled
NAME=Energy Vortex Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Energy Vortex

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM energy_vortex_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF energy_vortex_spell]
ID=i_memory
NAME=Energy Vortex Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Energy Vortex

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
f_mageryskillcheck 1300
f_manacheck 100
f_earthskillcheck 320000
f_waterskillcheck 320000
f_fireskillcheck 320000
f_windskillcheck 320000
f_etherialskillcheck 20000
IF <VAR.SPELLCHECK>0
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Corp Por
TARGETG Where do you wish to summon the creature?

ON=@TargOn_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1700
IF <VAR.FIZZLCHECK>0
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-100
SRC.TAG.ETHERIALSKILL <SRC.TAG.ETHERIALSKILL>+160
SOUND snd_spell_energy_vortex
SRC.NEWNPC c_energy_vortex
SRC.ACT.P <SRC.TARGP>
SRC.ACT.UPDATE
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Ultima
[ITEMDEF i_ultima_scroll]
ID=i_map_rolled
NAME=Ultima Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Ultima

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM ultima_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_ultima_effect]
ID=i_fx_glow_spike
NAME=Magical Glow
TYPE=t_normal

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Ultima

ON=@Create
COLOR 0423
TIMER 3

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF ultima_spell]
ID=i_memory
NAME=Ultima Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Ultima

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1500
SRC.f_manacheck 150
SRC.f_earthskillcheck 320000
SRC.f_waterskillcheck 320000
SRC.f_fireskillcheck 320000
SRC.f_windskillcheck 320000
SRC.f_etherialskillcheck 40000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Ort An Mani Grav
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1900
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_memory
SRC.ACT.ATTR attr_invis
VAR.REMOVE <SRC.ACT.UID>
SRC.ACT.P <SRC.P>
SRC.ACT.MOVE nw 10
SRC.NUKECHAR f_ultima
SRC.LAST
SRC.ACT.MOVE se 20
SRC.LAST
TRYP 0 SRC.UID.<VAR.REMOVE>.REMOVE
VAR.REMOVE
SRC.f_clearsysmessage
REMOVE
RETURN 1

[FUNCTION f_ultima]
SOUND snd_spell_energy_vortex
SOUND snd_spell_poison
NEWITEM i_ultima_effect
ACT.P <P>
ACT.UPDATE
NEWITEM i_megid_explosion
ACT.COLOR 0425
ACT.P <P>
ACT.UPDATE
ACT.MOVE n 1
ACT.MOVE n 1
ACT.MOVE n 1
ACT.MOVE n 1
NEWITEM i_megid_explosion
ACT.COLOR 0425
ACT.P <P>
ACT.UPDATE
ACT.MOVE e 1
ACT.MOVE e 1
ACT.MOVE e 1
ACT.MOVE e 1
NEWITEM i_megid_explosion
ACT.COLOR 0425
ACT.P <P>
ACT.UPDATE
ACT.MOVE s 1
ACT.MOVE s 1
ACT.MOVE s 1
ACT.MOVE s 1
NEWITEM i_megid_explosion
ACT.COLOR 0425
ACT.P <P>
ACT.UPDATE
ACT.MOVE w 1
ACT.MOVE w 1
ACT.MOVE w 1
ACT.MOVE w 1
IF <TAG.ETHER><=0
VAR.DAMTYPE 0
ELSEIF <TAG.ETHER>==1
VAR.DAMTYPE 1
ELSEIF <TAG.ETHER>==2
VAR.DAMTYPE 2
ELSEIF <TAG.ETHER>==3
VAR.DAMTYPE 3
ELSEIF <TAG.ETHER>==4
VAR.DAMTYPE 4
ENDIF
IF <VAR.DAMTYPE>==0
DAMAGE {100 200}
ELSEIF <VAR.DAMTYPE>==1
DAMAGE {80 140}
ELSEIF <VAR.DAMTYPE>==2
DAMAGE {10 30}
ELSEIF <VAR.DAMTYPE>==3
DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.TARG.HITS <SRC.TARG.HITS> + {80 140}
ENDIF
VAR.DAMTYPE
IF <FLAGS>&statf_freeze
FLAGS <FLAGS>&~statf_freeze
ENDIF


//Megid
[ITEMDEF i_megid_scroll]
ID=i_map_rolled
NAME=Megid Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Megid

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM megid_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_megid_explosion]
ID=i_fx_explode
NAME=Magical Explosion
TYPE=t_normal

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Megid

ON=@Create
COLOR 0796
TIMER 3

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF megid_spell]
ID=i_memory
NAME=Megid Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Megid

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2250
SRC.f_manacheck 200
SRC.f_earthskillcheck 320000
SRC.f_waterskillcheck 320000
SRC.f_fireskillcheck 320000
SRC.f_windskillcheck 320000
SRC.f_etherialskillcheck 80000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Corp Grav
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2650
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-200
SRC.NEWITEM i_memory
SRC.ACT.ATTR attr_invis
VAR.REMOVE <SRC.ACT.UID>
SRC.ACT.P <SRC.P>
SRC.ACT.MOVE nw 10
SRC.NUKECHAR f_megid
SRC.LAST
SRC.ACT.MOVE se 20
SRC.LAST
TRYP 0 SRC.UID.<VAR.REMOVE>.REMOVE
VAR.REMOVE
SRC.f_clearsysmessage
REMOVE
RETURN 1

[FUNCTION f_megid]
SOUND 0fa
SOUND 0fb
NEWITEM i_megid_explosion
ACT.P <P>
ACT.UPDATE
ACT.TIMER 3
NEWITEM i_megid_explosion
ACT.P <P>
ACT.UPDATE
ACT.TIMER 3
NEWITEM i_megid_explosion
ACT.P <P>
ACT.UPDATE
ACT.TIMER 3
IF <TAG.ETHER><=0
VAR.DAMTYPE 0
ELSEIF <TAG.ETHER>==1
VAR.DAMTYPE 1
ELSEIF <TAG.ETHER>==2
VAR.DAMTYPE 2
ELSEIF <TAG.ETHER>==3
VAR.DAMTYPE 3
ELSEIF <TAG.ETHER>==4
VAR.DAMTYPE 4
ENDIF
IF <VAR.DAMTYPE>==0
DAMAGE {150 350}
ELSEIF <VAR.DAMTYPE>==1
DAMAGE {100 200}
ELSEIF <VAR.DAMTYPE>==2
DAMAGE {20 60}
ELSEIF <VAR.DAMTYPE>==3
DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.TARG.HITS <SRC.TARG.HITS> + {100 200}
ENDIF
VAR.DAMTYPE
IF <FLAGS>&statf_freeze
FLAGS <FLAGS>&~statf_freeze
ENDIF

//Megido
[ITEMDEF i_megido_scroll]
ID=i_map_rolled
NAME=Megido Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Megido

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM megido_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF megido_spell]
ID=i_memory
NAME=Megido Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Megido

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2750
SRC.f_manacheck 250
SRC.f_earthskillcheck 320000
SRC.f_waterskillcheck 320000
SRC.f_fireskillcheck 320000
SRC.f_windskillcheck 320000
SRC.f_etherialskillcheck 160000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Corp Grav
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 3150
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-250
SRC.NEWITEM i_memory
SRC.ACT.ATTR attr_invis
VAR.REMOVE <SRC.ACT.UID>
SRC.ACT.P <SRC.P>
SRC.ACT.MOVE nw 15
SRC.NUKECHAR f_megido
SRC.LAST
SRC.ACT.MOVE se 30
SRC.LAST
TRYP 0 SRC.UID.<VAR.REMOVE>.REMOVE
VAR.REMOVE
SRC.f_clearsysmessage
REMOVE
RETURN 1

[FUNCTION f_megido]
SOUND 0ff
SOUND 0fe
EFFECT 3,i_fx_explode,6,15,1
EFFECT 3,i_fx_explosion_2,6,15,1
EFFECT 3,i_fx_explosion_3,6,15,1
f_pause 50
EFFECT 3,i_fx_explode,6,15,1
EFFECT 3,i_fx_explosion_2,6,15,1
EFFECT 3,i_fx_explosion_3,6,15,1
IF <TAG.ETHER><=0
VAR.DAMTYPE 0
ELSEIF <TAG.ETHER>==1
VAR.DAMTYPE 1
ELSEIF <TAG.ETHER>==2
VAR.DAMTYPE 2
ELSEIF <TAG.ETHER>==3
VAR.DAMTYPE 3
ELSEIF <TAG.ETHER>==4
VAR.DAMTYPE 4
ENDIF
IF <VAR.DAMTYPE>==0
DAMAGE {300 400}
ELSEIF <VAR.DAMTYPE>==1
DAMAGE {150 300}
ELSEIF <VAR.DAMTYPE>==2
DAMAGE {50 100}
ELSEIF <VAR.DAMTYPE>==3
DAMAGE 0
ELSEIF <VAR.DAMTYPE>==4
SRC.TARG.HITS <SRC.TARG.HITS> + {150 300}
ENDIF
VAR.DAMTYPE
IF <FLAGS>&statf_freeze
FLAGS <FLAGS>&~statf_freeze
ENDIF

//Armagedon
[ITEMDEF i_armagedon_scroll]
ID=i_map_rolled
NAME=Armagedon Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Ether Scrolls
DESCRIPTION=Armagedon

ON=@Create
COLOR 0432

ON=@DClick
SRC.NEWITEM armagedon_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF armagedon_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Armagedon Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Armagedon

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 3000
SRC.f_manacheck 300
SRC.f_earthskillcheck 320000
SRC.f_waterskillcheck 320000
SRC.f_fireskillcheck 320000
SRC.f_windskillcheck 320000
SRC.f_etherialskillcheck 320000
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Kal An Mani In Corp Hur Tym
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 3400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-300
SRC.NEWITEM i_memory
SRC.ACT.ATTR attr_invis
VAR.REMOVE <SRC.ACT.UID>
SRC.ACT.P <SRC.P>
SRC.ACT.MOVE nw 30
SRC.NUKECHAR f_armagedon
SRC.LAST
SRC.ACT.MOVE se 60
SRC.LAST
TRYP 0 SRC.UID.<VAR.REMOVE>.REMOVE
VAR.REMOVE
SRC.f_clearsysmessage
REMOVE
RETURN 1

[FUNCTION f_armagedon]
SYSMESSAGE You feel the very shadow of death itself move overhead...
SOUND snd_spell_energy_bolt
SOUND snd_spell_explosion
SOUND snd_spell_lightning
EFFECT 3,i_fx_explode,6,15,1
EFFECT 3,i_fx_explosion_2,6,15,1
EFFECT 3,i_fx_explosion_3,6,15,1
EFFECT 1,1
EFFECT 1,1
EFFECT 1,1
EFFECT 1,1
DAMAGE {450 550}
IF <FLAGS>&statf_freeze
FLAGS <FLAGS>&~statf_freeze
ENDIF

//THEUGERY SPELLS

//Teleport
[ITEMDEF i_teleport_scroll]
ID=i_map_rolled
NAME=Teleport Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Teleport Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM teleport_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF teleport_spell]
ID=i_memory
NAME=Teleport Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Teleport

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_teleport)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Rel Por
TARGETG Where do you wish to teleport to?

ON=@Targon_Item
SRC.SYSMESSAGE You cannot teleport onto that.
REMOVE
RETURN 1

ON=@Targon_Char
SRC.SYSMESSAGE You cannot teleport onto that.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.NEWITEM i_gold
SRC.ACT.ATTR attr_invis
SRC.ACT.P <SRC.TARGP>
IF <SRC.ACT.DISTANCE>>20
VAR.TOOFAR 1
ELSE
VAR.TOOFAR 0
ENDIF
SRC.ACT.REMOVE
IF <VAR.TOOFAR>
SRC.SYSMESSAGE That is too far away to teleport too.
REMOVE
RETURN 1
ENDIF
VAR.TOOFAR
f_skillgain MAGERY
SRC.GO <SRC.TARGP>
REMOVE
RETURN 1

//Telekinesis
[ITEMDEF i_telekinesis_scroll]
ID=i_map_rolled
NAME=Telekinesis Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Telekinesis Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM telekinesis_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF telekinesis_spell]
ID=i_memory
NAME=Telekinesis Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Telekinesis

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Ort Por Ylem
TARGET Which item do you wish to bring to you?

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Item
IF !<SRC.TARG.CANSEELOS>
SRC.SYSMESSAGE You cannot see that.
REMOVE
RETURN 1
ENDIF
IF <SRC.TARG.DISTANCE>>15
SRC.SYSMESSAGE That is too far away to move.
REMOVE
RETURN 1
ENDIF
IF (<SRC.TARG.ATTR>&attr_move_never)||(<SRC.TARG.ATTR>&attr_owned)||(<SRC.TARG.ATTR>&attr_invis)||(<SRC.TARG.ATTR>&attr_forsale)||(<SRC.TARG.ATTR>&attr_static)
SRC.SYSMESSAGE You cannot move that item.
REMOVE
RETURN 1
ENDIF
SRC.TARG.BOUNCE
SOUND snd_spell_telekinesis
REMOVE
RETURN 1

//Recall
[ITEMDEF i_recall_scroll]
ID=i_map_rolled
NAME=Recall Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Recall Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM recall_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF recall_spell]
ID=i_memory
NAME=Recall Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Recall

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_recall_out)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Ort Por
TARGET Select the rune you wish to recall from.

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Item
IF !<SRC.TARG.CANSEELOS>
SRC.SYSMESSAGE You cannot see that.
REMOVE
RETURN 1
ENDIF
//IF <SRC.TARG.DISTANCE>>15
//SRC.SYSMESSAGE That is too far away.
//REMOVE
//RETURN 1
//ENDIF
IF <SRC.TARG.TYPE>!=t_rune
SRC.SYSMESSAGE That is not a recall rune.
REMOVE
RETURN 1
ENDIF
SRC.NEWITEM i_gold
SRC.ACT.ATTR attr_invis
SRC.ACT.P <SRC.TARG.MOREP>
IF <SRC.ACT.REGION.FLAGS>&region_antimagic_recall_in
SRC.SYSMESSAGE You cannot recall into that location.
SRC.ACT.REMOVE
REMOVE
RETURN 1
ENDIF
SRC.ACT.REMOVE
SRC.GO <SRC.TARG.MOREP>
SOUND snd_spell_recall
REMOVE
RETURN 1

//Mark
[ITEMDEF i_mark_scroll]
ID=i_map_rolled
NAME=Mark Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Mark Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM mark_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF mark_spell]
ID=i_memory
NAME=Mark Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Mark

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_recall_in)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Ort Por Yelm
TARGET Select the rune you wish to mark.

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Item
IF !<SRC.TARG.CANSEELOS>
SRC.SYSMESSAGE You cannot see that.
REMOVE
RETURN 1
ENDIF
IF <SRC.TARG.DISTANCE>>15
SRC.SYSMESSAGE That is too far away to move.
REMOVE
RETURN 1
ENDIF
IF (<SRC.TARG.BASEID>!=i_rune_marker)||(<SRC.TARG.BASEID>!=i_newbied_rune)||(<SRC.TARG.TYPE>!=t_rune)
SRC.SYSMESSAGE That is not a recall rune.
REMOVE
RETURN 1
ENDIF
SRC.TARG.MOREP <SRC.TARG.P>
SOUND snd_spell_mark
REMOVE
RETURN 1

//Gate Travel
[ITEMDEF i_gate_travel_scroll]
ID=i_map_rolled
NAME=Gate Travel Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Gate Travel Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM gate_travel_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF gate_travel_spell]
ID=i_memory
NAME=Gate Travel Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Gate Travel

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_recall_out)||(<REGION.FLAGS>&region_antimagic_gate)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Rel Por
TARGET Select the rune you wish to gate travel from.

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Item
IF !<SRC.TARG.CANSEELOS>
SRC.SYSMESSAGE You cannot see that.
REMOVE
RETURN 1
ENDIF
//IF <SRC.TARG.DISTANCE>>15
//SRC.SYSMESSAGE That is too far away.
//REMOVE
//RETURN 1
//ENDIF
IF <SRC.TARG.TYPE>!=t_rune
SRC.SYSMESSAGE That is not a recall rune.
REMOVE
RETURN 1
ENDIF
SRC.NEWITEM i_gold
SRC.ACT.ATTR attr_invis
SRC.ACT.P <SRC.TARG.MOREP>
IF (<SRC.ACT.REGION.FLAGS>&region_antimagic_recall_in)||(<SRC.ACT.REGION.FLAGS>&region_antimagic_gate)
SRC.SYSMESSAGE You cannot gate travel to that location.
SRC.ACT.REMOVE
REMOVE
RETURN 1
ENDIF
SOUND snd_spell_gate_travel
IF <SRC.ACT.REGION.EVENTS>&r_dungeon
SRC.ACT.REMOVE
SRC.NEWITEM i_moongate_black
SRC.ACT.P <SRC.P>
SRC.ACT.MOREP <SRC.TARG.MOREP>
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER <SRC.MAGERY>/3.0
SRC.NEWITEM i_moongate_black
SRC.ACT.P <SRC.TARG.MOREP>
SRC.ACT.MOREP <SRC.P>
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER <SRC.MAGERY>/3.0
ELSEIF (<SRC.ACT.REGION.FLAGS>&region_flag_guarded)||(<SRC.ACT.REGION.FLAGS>&region_flag_no_pvp)||(<SRC.ACT.REGION.FLAGS>&region_flag_safe)
SRC.ACT.REMOVE
SRC.NEWITEM i_moongate_red
SRC.ACT.P <SRC.P>
SRC.ACT.MOREP <SRC.TARG.MOREP>
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER <SRC.MAGERY>/3.0
SRC.NEWITEM i_moongate_red
SRC.ACT.P <SRC.TARG.MOREP>
SRC.ACT.MOREP <SRC.P>
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER <SRC.MAGERY>/3.0
ELSE
SRC.ACT.REMOVE
SRC.NEWITEM i_moongate_blue
SRC.ACT.P <SRC.P>
SRC.ACT.MOREP <SRC.TARG.MOREP>
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER <SRC.MAGERY>/3.0
SRC.NEWITEM i_moongate_blue
SRC.ACT.P <SRC.TARG.MOREP>
SRC.ACT.MOREP <SRC.P>
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER <SRC.MAGERY>/3.0
ENDIF
REMOVE
RETURN 1

//Reactive Armor
[ITEMDEF i_reactive_armor_scroll]
ID=i_map_rolled
NAME=Reactive Armor Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Reactive Armor Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM reactive_armor_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF reactive_armor_spell]
ID=i_memory
NAME=Reactive Armor Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Reactive Armor

ON=@Create
ATTR attr_invis

ON=@Equip
//f_foci_check
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 50
SRC.f_manacheck 4
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Flam Sanct
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.RESTEST i_reactive_armor_timer>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 450
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-4
SRC.NEWITEM i_reactive_armor_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_reactive_armor_timer]
ID=i_memory
NAME=Reactive Armor Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Reactive Armor

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.SPELLEFFECT s_reactive_armor <LINK.MAGERY>
TIMER <LINK.MAGERY>*2

ON=@Timer
CONT.FINDID(i_rune_reactive_armor).REMOVE
REMOVE
RETURN 1

//Protection
[ITEMDEF i_protection_scroll]
ID=i_map_rolled
NAME=Protection Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Protection Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM protection_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF protection_spell]
ID=i_memory
NAME=Protection Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Protection

ON=@Create
ATTR attr_invis

ON=@Equip
//f_foci_check
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 150
SRC.f_manacheck 10
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Uus Sanct
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.RESTEST i_protection_timer>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 550
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-10
SRC.NEWITEM i_protection_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_protection_timer]
ID=i_memory
NAME=Protection Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Protection

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.SPELLEFFECT s_protection <LINK.MAGERY>
TIMER <LINK.MAGERY>*2

ON=@Timer
CONT.FINDID(i_rune_protection).REMOVE
REMOVE
RETURN 1

//Shield
[ITEMDEF i_shield_scroll]
ID=i_map_rolled
NAME=Shield Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Shield Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM shield_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF shield_spell]
ID=i_memory
NAME=Shield Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Shield

ON=@Create
ATTR attr_invis

ON=@Equip
//f_foci_check
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 650
SRC.f_manacheck 70
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Sanct Tym
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.EVENTS>&e_shield
SRC.SYSMESSAGE They are already shielded by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1050
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-70
SRC.NEWITEM i_shield_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_shield_timer]
ID=i_memory
NAME=Shield Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Shield

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.EVENTS +e_shield
TIMER <LINK.MAGERY>*1.5

ON=@Timer
SRC.EVENTS -e_shield
REMOVE
RETURN 1

[EVENTS e_shield]
ON=@GetHit
RETURN 1

ON=@SpellEffect
RETURN 1

//Anti-Earth
[ITEMDEF i_anti-earth_scroll]
ID=i_map_rolled
NAME=Anti-Earth Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Earth Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-earth_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-earth_spell]
ID=i_memory
NAME=Anti-Earth Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Earth

ON=@Create
ATTR attr_invis

ON=@Equip
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Ylem
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
f_foci_check i_earth_crystal_shard
IF <SRC.TARG.FINDID(i_anti-earth_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-earth_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-earth_timer]
ID=i_memory
NAME=Anti-Earth Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Earth

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.EARTH <CONT.TAG.EARTH>+-2
REMOVE
RETURN 1

//Anti-Water
[ITEMDEF i_anti-water_scroll]
ID=i_map_rolled
NAME=Anti-Water Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Water Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-water_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-water_spell]
ID=i_memory
NAME=Anti-Water Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Water

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_water_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Flam
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-water_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-water_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-water_timer]
ID=i_memory
NAME=Anti-Water Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Water

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.WATER <CONT.TAG.WATER>+-2
REMOVE
RETURN 1

//Anti-Fire
[ITEMDEF i_anti-fire_scroll]
ID=i_map_rolled
NAME=Anti-Fire Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Fire Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-fire_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-Fire_spell]
ID=i_memory
NAME=Anti-Fire Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Fire

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_fire_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Flam
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-fire_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-fire_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-fire_timer]
ID=i_memory
NAME=Anti-Fire Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Fire

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.FIRE <CONT.TAG.FIRE>+-2
REMOVE
RETURN 1

//Anti-Wind
[ITEMDEF i_anti-wind_scroll]
ID=i_map_rolled
NAME=Anti-Wind Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Wind Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-wind_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-wind_spell]
ID=i_memory
NAME=Anti-Wind Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Wind

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_wind_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.SAY An Hur
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-wind_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-wind_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-wind_timer]
ID=i_memory
NAME=Anti-Wind Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Wind

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.WIND <CONT.TAG.WIND>+-2
REMOVE
RETURN 1

//Anti-Lightning
[ITEMDEF i_anti-lightning_scroll]
ID=i_map_rolled
NAME=Anti-Lightning Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Lightning Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-lightning_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-lightning_spell]
ID=i_memory
NAME=Anti-Lightning Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Lightning

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_lightning_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Ort Rel
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-lightning_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-lightning_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-lightning_timer]
ID=i_memory
NAME=Anti-Lightning Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Lightning

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.LIGHTNING <CONT.TAG.LIGHTNING>+-2
REMOVE
RETURN 1

//Anti-Ice
[ITEMDEF i_anti-ice_scroll]
ID=i_map_rolled
NAME=Anti-Ice Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Ice Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-ice_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-ice_spell]
ID=i_memory
NAME=Anti-Ice Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Ice

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_ice_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Hur An Flam
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-ice_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-ice_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-ice_timer]
ID=i_memory
NAME=Anti-Ice Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Ice

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.ICE <CONT.TAG.ICE>+-2
REMOVE
RETURN 1

//Anti-Snow
[ITEMDEF i_anti-snow_scroll]
ID=i_map_rolled
NAME=Anti-Snow Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Snow Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-snow_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-snow_spell]
ID=i_memory
NAME=Anti-Snow Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Snow

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_snow_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Ort Hur
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-snow_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-snow_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-snow_timer]
ID=i_memory
NAME=Anti-Snow Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Snow

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.SNOW <CONT.TAG.SNOW>+-2
REMOVE
RETURN 1

//Anti-Poison
[ITEMDEF i_anti-poison_scroll]
ID=i_map_rolled
NAME=Anti-Poison Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Poison Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-poison_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-poison_spell]
ID=i_memory
NAME=Anti-Poison Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Poison

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_poison_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Nox Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-poison_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-poison_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-poison_timer]
ID=i_memory
NAME=Anti-Poison Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Poison

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.POISON <CONT.TAG.POISON>+-2
REMOVE
RETURN 1

//Anti-Swamp
[ITEMDEF i_anti-swamp_scroll]
ID=i_map_rolled
NAME=Anti-Swamp Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Swamp Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-swamp_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-swamp_spell]
ID=i_memory
NAME=Anti-Swamp Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Swamp

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_swamp_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Nox Ylem
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-swamp_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-swamp_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-swamp_timer]
ID=i_memory
NAME=Anti-Swamp Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Swamp

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.SWAMP <CONT.TAG.SWAMP>+-2
REMOVE
RETURN 1

//Anti-Blood
[ITEMDEF i_anti-blood_scroll]
ID=i_map_rolled
NAME=Anti-Blood Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Blood Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-blood_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-blood_spell]
ID=i_memory
NAME=Anti-Blood Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Blood

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_blood_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Nox Jux
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-blood_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-blood_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-blood_timer]
ID=i_memory
NAME=Anti-Blood Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Blood

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.BLOOD <CONT.TAG.BLOOD>+-2
REMOVE
RETURN 1

Anti-Holy
[ITEMDEF i_anti-holy_scroll]
ID=i_map_rolled
NAME=Anti-Holy Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Holy Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-holy_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-holy_spell]
ID=i_memory
NAME=Anti-Holy Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Holy

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_holy_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Lor Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-holy_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-holy_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-holy_timer]
ID=i_memory
NAME=Anti-Holy Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Holy

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.HOLY <CONT.TAG.HOLY>+-2
REMOVE
RETURN 1

Anti-Darkness
[ITEMDEF i_anti-darkness_scroll]
ID=i_map_rolled
NAME=Anti-Darkness Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Anti-Darkness Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM anti-darkness_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF anti-darkness_spell]
ID=i_memory
NAME=Anti-Darkness Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Anti-Darkness

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_dark_crystal_shard
IF <REGION.FLAGS>&region_antimagic_all
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Quas Ort
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.FINDID(i_anti-dark_timer)>
SRC.SYSMESSAGE They are already protected by magic.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1400
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_anti-dark_timer
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_anti-dark_timer]
ID=i_memory
NAME=Anti-Swamp Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Anti-Dark

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+2
TIMER <LINK.MAGERY>
RETURN 0

ON=@Timer
CONT.TAG.DARK <CONT.TAG.DARK>+-2
REMOVE
RETURN 1

//Vaccine
[ITEMDEF i_vaccine_scroll]
ID=i_map_rolled
NAME=Vaccine Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Vaccine

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM vaccine_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF vaccine_spell]
ID=i_memory
NAME=Vaccine Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Vaccine

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1200
SRC.f_manacheck 40
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Sanct Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1100
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-60
SRC.NEWITEM i_vaccine_timer
SRC.ACT.TIMER <SRC.MAGERY>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_vaccine_timer]
ID=i_memory
NAME=Vaccine Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Vaccine

ON=@Create
ATTR attr_invis

ON=@Equip
IF <SRC.TAG.POISON><3
SRC.TAG.POISONGAIN 3+-<SRC.TAG.POISON>
SRC.TAG.POISON 3
ENDIF
IF !<SRC.TAG.IMMUNEPARALYZE>
SRC.TAG.PARALYZEGAIN 1
SRC.TAG.IMMUNEPARALYZE 1
ENDIF
RETURN 0

ON=@Timer
IF <CONT.TAG.POISONGAIN>
CONT.TAG.POISON <CONT.TAG.POISON>+-<CONT.TAG.POISONGAIN>
CONT.TAG.POISONGAIN
ENDIF
IF <CONT.TAG.PARALYZEGAIN>
CONT.TAG.IMMUNEPARALYZE 0
CONT.TAG.PARALYZEGAIN
ENDIF
REMOVE
RETURN 1

//Arch Protection
[ITEMDEF i_arch_protection_scroll]
ID=i_map_rolled
NAME=Arch Protection Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Arch Protection

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM arch_protection_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF arch_protection_spell]
ID=i_memory
NAME=Arch Protection Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Arch Protection

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 20
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Uus Sanct
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE n 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE ne 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE e 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE se 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE s 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE sw 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE w 1
SRC.NEWITEM i_arch_protection
SRC.ACT.P <SRC.TARG.P>
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MOVE nw 1
REMOVE
RETURN 1

[ITEMDEF i_arch_protection]
ID=i_memory
NAME=Arch Protection Effect
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Arch Protection

ON=@Create
ATTR attr_invis
TIMERD 0.3

ON=@Step
SRC.EFFECT 3,i_fx_sparkle,6,15,0
SOUND snd_spell_arch_protection
SRC.NEWITEM i_protection_timer
SRC.ACT.LINK <LINK.UID>
SRC.ACT.EQUIP
RETURN 0

ON=@Timer
REMOVE
RETURN 1

//Magic Reflection
[ITEMDEF i_magic_reflection_scroll]
ID=i_map_rolled
NAME=Magic Reflection Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Magic Reflection

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM magic_reflection_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF magic_reflection_spell]
ID=i_memory
NAME=Magic Reflection Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Magic Reflection

ON=@Create
ATTR attr_invis

ON=@Equip
//f_foci_check i_magic_mirror
IF (<REGION.FLAGS>&region_antimagic_all)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_manacheck 20
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Jux Sanct
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF !<SRC.TARG.CANSEELOS>
SRC.SYSMESSAGE You cannot see them.
REMOVE
RETURN 1
ENDIF
IF <SRC.TARG.DISTANCE>>9
SRC.SYSMESSAGE They are too far away.
REMOVE
RETURN 1
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-20
SOUND snd_spell_magic_reflection
SRC.TARG.SPELLEFFECT s_magic_reflection 100.0
REMOVE
RETURN 1

//Curse
[ITEMDEF i_curse_scroll]
ID=i_map_rolled
NAME=Curse Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Curse Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM curse_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF curse_spell]
ID=i_memory
NAME=Curse Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Curse

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1200
SRC.f_manacheck 40
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Des Sanct
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.SERIAL>==<SRC.SERIAL>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1600
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-40
SRC.NEWITEM i_curse_timer
SRC.ACT.TIMER <SRC.MAGERY>
SRC.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_curse_timer]
ID=i_memory
NAME=Curse Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Curse

ON=@Create
ATTR attr_invis

ON=@Equip
TAG.LOSS <LINK.MAGERY>/100
SRC.STR <SRC.STR>+-<TAG.LOSS>
SRC.DEX <SRC.DEX>+-<TAG.LOSS>
SRC.INT <SRC.INT>+-<TAG.LOSS>
RETURN 0

ON=@Timer
CONT.STR <CONT.STR>+<TAG.LOSS>
CONT.DEX <CONT.DEX>+<TAG.LOSS>
CONT.INT <CONT.INT>+<TAG.LOSS>
REMOVE
RETURN 1

[ITEMDEF i_hallucination_scroll]
ID=i_map_rolled
NAME=Hallucination Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Hallucination Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM hallucination_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF hallucination_spell]
ID=i_memory
NAME=Hallucination Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Hallucination

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_manacheck 50
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Wis Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.SERIAL>==<SRC.SERIAL>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 1000
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.NEWITEM i_hallucination_effect
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_hallucination_effect]
ID=i_memory
NAME=Hallucination Effect
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Hallucination

ON=@Create
ATTR attr_invis
MORE {20 40}

ON=@Equip
SRC.P <SRC.X>,<SRC.Y>,<SRC.Z>,255 //since anything in mapplane 255 can see anything in all other mapplanes and all other mapplanes can see anything in mapplane 255
SRC.NEWITEM i_fx_sparkle
SRC.ACT.ATTR attr_move_never|attr_decay
SRC.ACT.TIMER 2
SRC.ACT.P <SRC.X>,<SRC.Y>,<SRC.Z>,100 //since no one should ever be in mapplane 100
SRC.ACT.MOVE {3 5} n
TIMER 2

ON=Timer
IF <MORE>
CONT.NEWITEM i_fx_sparkle
CONT.ACT.ATTR attr_move_never|attr_decay
CONT.ACT.TIMER 2
CONT.ACT.P <CONT.X>,<CONT.Y>,<CONT.Z>,100
CONT.ACT.MOVE {3 5} {n 1 ne 1 e 1 se 1 s 1 sw 1 w 1 nw 1}
MORE <MORE>+-1
TIMER 2
RETURN 1
ELSE
CONT.P <CONT.X>,<CONT.Y>,<CONT.Z>,0 //since they should never leave mapplane 0 anyways
REMOVE
RETURN 1
ENDIF

[ITEMDEF i_health_leath_scroll]
ID=i_map_rolled
NAME=Health Leak Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Health Leak Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM health_leak_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF health_leak_spell]
ID=i_memory
NAME=Health Leak Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Health Leak

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2300
SRC.f_manacheck 120
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Bet Mani Jux
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.SERIAL>==<SRC.SERIAL>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-120
SRC.NEWITEM i_health_leak_memory
SRC.ACT.LINK <SRC.UID>
SRC.ACT.MORE <EVAL <SRC.MAGERY>>
SRC.TARG.EQUIP <SRC.ACT>
SOUND snd_spell_curse
REMOVE
RETURN 1

[ITEMDEF i_health_leak_memory]
ID=i_memory
NAME=Health Leak Memory
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Health Leak

ON=@Create
ATTR attr_invis

ON=@Equip
IF <SRC.TAG.BLOOD><3
TIMERD .1
ELSE
LINK.SYSMESSAGE They seem unaffected by the spell.
REMOVE
RETURN 1
ENDIF

ON=@Timer
IF <MORE>
CONT.HITS <CONT.HITS>+-1
CONT.UPDATE
TIMERD .1
MORE <MORE>+-1
RETURN 1
ELSE
REMOVE
RETURN 1
ENDIF

//Frog
[ITEMDEF i_frog_scroll]
ID=i_map_rolled
NAME=Frog Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Frog Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM frog_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF frog_spell]
ID=i_memory
NAME=Frog Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Frog

ON=@Create
ATTR attr_invis

ON=@Equip
f_foci_check i_frog_leg
IF IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1900
SRC.f_manacheck 120
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Bet Xen Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.UID>==<SRC.UID>
SRC.SYSMESSAGE You cannot cast this on yourself
REMOVE
RETURN 1
ENDIF
IF <SRC.TARG.RESTEST i_frog_timer>
SRC.SYSMESSAGE They are already cursed with this spell.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2300
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-120
SRC.NEWITEM i_frog_timer
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1

[ITEMDEF i_frog_timer]
ID=i_memory
NAME=Frog Curse Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Frog Timer

ON=@Create
ATTR attr_invis

ON=@Equip
SRC.SPELLEFFECT s_dispell 1000
SRC.TAG.FROGSTR <SRC.STR>
SRC.TAG.FROGDEX <SRC.DEX>
SRC.TAG.FROGINT <SRC.INT>
SRC.TAG.FROGANATOMY <SRC.ANATOMY>
SRC.TAG.FROGARCHERY <SRC.ARCHERY>
SRC.TAG.FROGARMSLORE <SRC.ARMSLORE>
SRC.TAG.FROGBEGGING <SRC.BEGGING>
SRC.TAG.FROGBLACKSMITHING <SRC.BLACKSMITHING>
SRC.TAG.FROGBOWCRAFT <SRC.BOWCRAFT>
SRC.TAG.FROGCAMPING <SRC.CAMPING>
SRC.TAG.FROGCARPENTRY <SRC.CARPENTRY>
SRC.TAG.FROGCARTOGRAPHY <SRC.CARTOGRAPHY>
SRC.TAG.FROGCOOKING <SRC.COOKING>
SRC.TAG.FROGDETECTINGHIDDEN <SRC.DETECTINGHIDDEN>
SRC.TAG.FROGENTICEMENT <SRC.ENTICEMENT>
SRC.TAG.FROGEVALUATINGINTEL <SRC.EVALUATINGINTEL>
SRC.TAG.FROGFENCING <SRC.FENCING>
SRC.TAG.FROGFISHING <SRC.FISHING>
SRC.TAG.FROGFORENSICS <SRC.FORENSICS>
SRC.TAG.FROGHEALING <SRC.HEALING>
SRC.TAG.FROGHERDING <SRC.HERDING>
SRC.TAG.FROGHIDING <SRC.HIDING>
SRC.TAG.FROGINSCRIPTION <SRC.INSCRIPTION>
SRC.TAG.FROGITEMID <SRC.ITEMID>
SRC.TAG.FROGLOCKPICKING <SRC.LOCKPICKING>
SRC.TAG.FROGLUMBERJACKING <SRC.LUMBERJACKING>
SRC.TAG.FROGMACEFIGHTING <SRC.MACEFIGHTING>
SRC.TAG.FROGMAGERY <SRC.MAGERY>
SRC.TAG.FROGMAGICRESISTANCE <SRC.MAGICRESISTANCE>
SRC.TAG.FROGMEDITATION <SRC.MEDITATION>
SRC.TAG.FROGMINING <SRC.MINING>
SRC.TAG.FROGMUSICIANSHIP <SRC.MUSICIANSHIP>
SRC.TAG.FROGNECROMANCY <SRC.NECROMANCY>
SRC.TAG.FROGPARRYING <SRC.PARRYING>
SRC.TAG.FROGPEACEMAKING <SRC.PEACEMAKING>
SRC.TAG.FROGPOISONING <SRC.POISONING>
SRC.TAG.FROGPROVOCATION <SRC.PROVOCATION>
SRC.TAG.FROGREMOVETRAP <SRC.REMOVETRAP>
SRC.TAG.FROGSNOOPING <SRC.SNOOPING>
SRC.TAG.FROGSPIRITSPEAK <SRC.SPIRITSPEAK>
SRC.TAG.FROGSTEALING <SRC.STEALING>
SRC.TAG.FROGSTEALTH <SRC.STEALTH>
SRC.TAG.FROGSWORDSMANSHIP <SRC.SWORDSMANSHIP>
SRC.TAG.FROGTACTICS <SRC.TACTICS>
SRC.TAG.FROGTAILORING <SRC.TAILORING>
SRC.TAG.FROGTAMING <SRC.TAMING>
SRC.TAG.FROGTASTEID <SRC.TASTEID>
SRC.TAG.FROGTINKERING <SRC.TINKERING>
SRC.TAG.FROGTRACKING <SRC.TRACKING>
SRC.TAG.FROGVETERINARY <SRC.VETERINARY>
SRC.TAG.FROGWRESTLING <SRC.WRESTLING>
SRC.BODY c_cursed_frog
SRC.EVENTS +e_frog_curse
SRC.STR 10
SRC.DEX 10
SRC.INT 10
SRC.ANATOMY 1.0
SRC.ARCHERY 1.0
SRC.ARMSLORE 1.0
SRC.BEGGING 1.0
SRC.BLACKSMITHING 1.0
SRC.BOWCRAFT 1.0
SRC.CAMPING 1.0
SRC.CARPENTRY 1.0
SRC.CARTOGRAPHY 1.0
SRC.COOKING 1.0
SRC.DETECTINGHIDDEN 1.0
SRC.ENTICEMENT 1.0
SRC.EVALUATINGINTEL 1.0
SRC.FENCING 1.0
SRC.FISHING 1.0
SRC.FORENSICS 1.0
SRC.HEALING 1.0
SRC.HERDING 1.0
SRC.HIDING 1.0
SRC.INSCRIPTION 1.0
SRC.ITEMID 1.0
SRC.LOCKPICKING 1.0
SRC.LUMBERJACKING 1.0
SRC.MACEFIGHTING 1.0
SRC.MAGERY 1.0
SRC.MAGICRESISTANCE 1.0
SRC.MEDITATION 1.0
SRC.MINING 1.0
SRC.MUSICIANSHIP 1.0
SRC.NECROMANCY 1.0
SRC.PARRYING 1.0
SRC.PEACEMAKING 1.0
SRC.POISONING 1.0
SRC.PROVOCATION 1.0
SRC.REMOVETRAP 1.0
SRC.SNOOPING 1.0
SRC.SPIRITSPEAK 1.0
SRC.STEALING 1.0
SRC.STEALTH 1.0
SRC.SWORDSMANSHIP 1.0
SRC.TACTICS 1.0
SRC.TAILORING 1.0
SRC.TAMING 1.0
SRC.TASTEID 1.0
SRC.TINKERING 1.0
SRC.TRACKING 1.0
SRC.VETERINARY 1.0
SRC.WRESTLING 1.0
TIMER 300
RETURN 0

ON=@Timer
REMOVE
RETURN 1

ON=@Unequip
SRC.BODY <SRC.OBODY>
SRC.STR <SRC.TAG.FROGSTR>
SRC.DEX <SRC.TAG.FROGDEX>
SRC.INT <SRC.TAG.FROGINT>
SRC.ANATOMY <SRC.TAG.FROGANATOMY>
SRC.ARCHERY <SRC.TAG.FROGARCHERY>
SRC.ARMSLORE <SRC.TAG.FROGARMSLORE>
SRC.BEGGING <SRC.TAG.FROGBEGGING>
SRC.BLACKSMITHING <SRC.TAG.FROGBLACKSMITHING>
SRC.BOWCRAFT <SRC.TAG.FROGBOWCRAFT>
SRC.CAMPING <SRC.TAG.FROGCAMPING>
SRC.CARPENTRY <SRC.TAG.FROGCARPENTRY>
SRC.CARTOGRAPHY <SRC.TAG.FROGCARTOGRAPHY>
SRC.COOKING <SRC.TAG.FROGCOOKING>
SRC.DETECTINGHIDDEN <SRC.TAG.FROGDETECTINGHIDDEN>
SRC.ENTICEMENT <SRC.TAG.FROGENTICEMENT>
SRC.EVALUATINGINTEL <SRC.TAG.FROGEVALUATINGINTEL>
SRC.FENCING <SRC.TAG.FROGFENCING>
SRC.FISHING <SRC.TAG.FROGFISHING>
SRC.FORENSICS <SRC.TAG.FROGFORENSICS>
SRC.HEALING <SRC.TAG.FROGHEALING>
SRC.HERDING <SRC.TAG.FROGHERDING>
SRC.HIDING <SRC.TAG.FROGHIDING>
SRC.INSCRIPTION <SRC.TAG.FROGINSCRIPTION>
SRC.ITEMID <SRC.TAG.FROGITEMID>
SRC.LOCKPICKING <SRC.TAG.FROGLOCKPICKING>
SRC.LUMBERJACKING <SRC.TAG.FROGLUMBERJACKING>
SRC.MACEFIGHTING <SRC.TAG.FROGMACEFIGHTING>
SRC.MAGERY <SRC.TAG.FROGMAGERY>
SRC.MAGICRESISTANCE <SRC.TAG.FROGMAGICRESISTANCE>
SRC.MEDITATION <SRC.TAG.FROGMEDITATION>
SRC.MINING <SRC.TAG.FROGMINING>
SRC.MUSICIANSHIP <SRC.TAG.FROGMUSICIANSHIP>
SRC.NECROMANCY <SRC.TAG.FROGNECROMANCY>
SRC.PARRYING <SRC.TAG.FROGPARRYING>
SRC.PEACEMAKING <SRC.TAG.FROGPEACEMAKING>
SRC.POISONING <SRC.TAG.FROGPOISONING>
SRC.PROVOCATION <SRC.TAG.FROGPROVOCATION>
SRC.REMOVETRAP <SRC.TAG.FROGREMOVETRAP>
SRC.SNOOPING <SRC.TAG.FROGSNOOPING>
SRC.SPIRITSPEAK <SRC.TAG.FROGSPIRITSPEAK>
SRC.STEALING <SRC.TAG.FROGSTEALING>
SRC.STEALTH <SRC.TAG.FROGSTEALTH>
SRC.SWORDSMANSHIP <SRC.TAG.FROGSWORDSMANSHIP>
SRC.TACTICS <SRC.TAG.FROGTACTICS>
SRC.TAILORING <SRC.TAG.FROGTAILORING>
SRC.TAMING <SRC.TAG.FROGTAMING>
SRC.TASTEID <SRC.TAG.FROGTASTEID>
SRC.TINKERING <SRC.TAG.FROGTINKERING>
SRC.TRACKING <SRC.TAG.FROGTRACKING>
SRC.VETERINARY <SRC.TAG.FROGVETERINARY>
SRC.WRESTLING <SRC.TAG.FROGWRESTLING>
SRC.EVENTS -e_frog_curse

//Pale Horse
[ITEMDEF i_pale_horse_scroll]
ID=i_map_rolled
NAME=Pale Horse Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Scrolls
DESCRIPTION=Pale Horse Scroll

ON=@Create
COLOR 0546

ON=@DClick
SRC.NEWITEM pale_horse_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF pale_horse_spell]
ID=i_memory
NAME=Pale Horse Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Pale Horse

ON=@Create
ATTR attr_invis

ON=@Equip
IF (<REGION.FLAGS>&region_antimagic_all)||(<REGION.FLAGS>&region_antimagic_damage)
SRC.SYSMESSAGE You cannot cast that here.
REMOVE
RETURN 1
ENDIF
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2300
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas Wis Jux Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.SERIAL>==<SRC.SERIAL>
SRC.SYSMESSAGE You cannot cast that on yourself.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2700
IF <VAR.FIZZLCHECK>0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-150
SRC.NEWITEM i_pale_horse_effect
SRC.TARG.EQUIP <SRC.ACT>
SOUND snd_spell_curse
SOUND snd_spell_telekinesis
SOUND snd_spell_paralyze_field
REMOVE
RETURN 1

[ITEMDEF i_pale_horse_effect]
ID=i_memory
NAME=Pale Horse Effect
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Pale Horse

ON=@Create
ATTR attr_invis

ON=@Equip
//IF <SRC.TAG.POISON><3
SRC.SPELLEFFECT s_poison 100.0
//ENDIF
IF <SRC.TAG.IMMUNEPARALYZE>==0
SRC.SPELLEFFECT s_paralyze
ENDIF
IF <SRC.TAG.EARTH><3
SRC.NEWITEM i_petrify_memory
SRC.EQUIP <SRC.ACT>
SRC.ACT.TIMER <SRC.MAGERY>/50
SRC.UPDATE
ENDIF
IF <SRC.TAG.BLOOD><3
SRC.NEWITEM i_health_leak_memory
SRC.ACT.EQUIP
ENDIF
IF (!RAND(3))&&((<SRC.MAGICRESISTANCE>+(80*<SRC.skilltotal>))<(RAND(1000)+RAND(<SRC.skilltotal>)+RAND(<SRC.stattotal>)))
SRC.MANA 0
SRC.STAMINA 0
SRC.HITS 1
SRC.UPDATE
ENDIF

//NECROMANCY SPELLS

//Summon Zombie
[ITEMDEF i_summon_zombie_scroll]
ID=i_map_rolled
NAME=Summon Zombie Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Zombie Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_zombie_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_zombie_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Zombie Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Zombie

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 100
SRC.f_necromancyskillcheck 0
SRC.f_manacheck 10
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 500
SRC.f_necromancyfizzlecheck2 400
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-10
SRC.NEWNPC c_zombie
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Skeleton
[ITEMDEF i_summon_skeleton_scroll]
ID=i_map_rolled
NAME=Summon Skeleton Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Skeleton Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_skeleton_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_skeleton_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Skeleton Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Skeleton

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_necromancyskillcheck 100
SRC.f_manacheck 20
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 700
SRC.f_necromancyfizzlecheck2 500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-20
SRC.NEWNPC c_skeleton
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Ghost
[ITEMDEF i_summon_ghost_scroll]
ID=i_map_rolled
NAME=Summon Ghost Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Ghost Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_ghost_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_ghost_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Ghost Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Ghost

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_necromancyskillcheck 300
SRC.f_manacheck 30
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 900
SRC.f_necromancyfizzlecheck2 700
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-30
SRC.NEWNPC c_ghost
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Ghoul
[ITEMDEF i_summon_ghoul_scroll]
ID=i_map_rolled
NAME=Summon Ghoul Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Ghoul Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_ghoul_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_ghoul_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Ghoul Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Ghoul

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 700
SRC.f_necromancyskillcheck 600
SRC.f_manacheck 50
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 1100
SRC.f_necromancyfizzlecheck2 1000
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-50
SRC.NEWNPC c_ghoul
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Skeleton Archer
[ITEMDEF i_summon_skeleton_archer_scroll]
ID=i_map_rolled
NAME=Summon Skeleton Archer Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Skeleton Archer Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_skeleton_archer_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_skeleton_archer_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Skeleton Archer Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Skeleton Archer

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_necromancyskillcheck 900
SRC.f_manacheck 75
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 1400
SRC.f_necromancyfizzlecheck2 1300
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-75
SRC.NEWNPC c_skeleton_archer
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Spectre
[ITEMDEF i_summon_spectre_scroll]
ID=i_map_rolled
NAME=Summon Spectre Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Spectre Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_spectre_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_spectre_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Spectre Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Spectre

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1300
SRC.f_necromancyskillcheck 1100
SRC.f_manacheck 100
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 1700
SRC.f_necromancyfizzlecheck2 1500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-100
SRC.NEWNPC c_spectre
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Mummy
[ITEMDEF i_summon_mummy_scroll]
ID=i_map_rolled
NAME=Summon Mummy Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Mummy Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_mummy_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_mummy_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Mummy Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Mummy

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_necromancyskillcheck 1300
SRC.f_manacheck 125
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 2000
SRC.f_necromancyfizzlecheck2 1700
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-125
SRC.NEWNPC c_mummy
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Skeleton Mage
[ITEMDEF i_summon_skeleton_mage_scroll]
ID=i_map_rolled
NAME=Summon Skeleton Mage Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Skeleton Mage Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_skeleton_mage_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_skeleton_mage_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Skeleton Mage Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Skeleton Mage

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1800
SRC.f_necromancyskillcheck 1500
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 2200
SRC.f_necromancyfizzlecheck2 1900
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-150
SRC.NEWNPC c_skeleton_mage
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Apparition
[ITEMDEF i_summon_apparition_scroll]
ID=i_map_rolled
NAME=Summon Apparition Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Apparition Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_apparition_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_apparition_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Apparition Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Apparition

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2000
SRC.f_necromancyskillcheck 1600
SRC.f_manacheck 175
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 2400
SRC.f_necromancyfizzlecheck2 2000
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-175
SRC.NEWNPC c_apparition
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Skeleton Knight
[ITEMDEF i_summon_skeleton_knight_scroll]
ID=i_map_rolled
NAME=Summon Skeleton Knight Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Skeleton Knight Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_skeleton_knight_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_skeleton_knight_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Skeleton Knight Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Skeleton Knight

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2600
SRC.f_necromancyskillcheck 2400
SRC.f_manacheck 200
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 3000
SRC.f_necromancyfizzlecheck2 2800
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_skeleton_knight
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Liche
[ITEMDEF i_summon_liche_scroll]
ID=i_map_rolled
NAME=Summon Liche Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Liche Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_liche_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_liche_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Liche Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Liche

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2900
SRC.f_necromancyskillcheck 2800
SRC.f_manacheck 250
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 3300
SRC.f_necromancyfizzlecheck2 3200
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-250
SRC.NEWNPC c_liche
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Liche Lord
[ITEMDEF i_summon_liche_lord_scroll]
ID=i_map_rolled
NAME=Summon Liche Lord Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Summon Liche Lord Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM summon_liche_lord_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_liche_lord_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Liche Lord Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Liche Lord

ON=@Create
ATTR=attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 3000
SRC.f_necromancyskillcheck 2999
SRC.f_manacheck 300
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 3400
SRC.f_necromancyfizzlecheck2 3399
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-300
SRC.NEWNPC c_liche_lord
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Raise Dead
[ITEMDEF i_raise_dead_scroll]
ID=i_map_rolled
NAME=Raise Dead Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Raise Dead Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM raise_dead_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF raise_dead_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Raise Dead Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Raise Dead

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_necromancyskillcheck 500
SRC.f_manacheck 25
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Por Corp
TARGET Select the corpse for the spell.

ON=@Targon_Char
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Item
IF !(<SRC.TARG.TYPE> == t_corpse)
SRC.SYSMESSAGE You can only cast this on corpses.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 1200
SRC.f_necromancyfizzlecheck2 900
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-25
SRC.TARG.RESSURECT
SRC.TARG.HITS <SRC.TARG.STR>
SRC.TARG.COLOR colors_green
SRC.TARG.NAME Undead <SRC.TARG.NAME>
SRC.TARG.NEWITEM i_memory
SRC.TARG.ACT.COLOR 02
SRC.TARG.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.TARG.ACT>
SRC.TARG.FLAGS <SRC.TARG.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Bone Armor
[ITEMDEF i_bone_armor_scroll]
ID=i_map_rolled
NAME=Bone Armor Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Bone Armor Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM bone_armor_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_bone_armor_armor]
ID=i_memory
NAME=Bone Armor Armor
TYPE=t_armor
LAYER=60
ARMOR=100

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Bone Armor Armor

ON=@Create
ATTR attr_invis

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF bone_armor_spell]
ID=i_memory
NAME=Bone Armor Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Bone Armor

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_necromancyskillcheck 600
SRC.f_manacheck 40
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Corp Sanct
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 1200
SRC.f_necromancyfizzlecheck2 1000
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-25
SRC.TARG.NEWITEM i_bone_armor_armor
SRC.TARG.ACT.EQUIP
SRC.TARG.ACT.TIMER <SRC.NECROMANCY>/100
REMOVE
RETURN 1

//Control Undead
[ITEMDEF i_control_undead_scroll]
ID=i_map_rolled
NAME=Control Undead Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Control Undead Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM control_undead_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF control_undead_spell]
ID=i_memory
NAME=Control Undead Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Control Undead Spell

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2000
SRC.f_necromancyskillcheck 1600
SRC.f_manacheck 100
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Corp Quas Por
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF <SRC.TARG.NPC>!=brain_undead
SRC.SYSMESSAGE You can only use this on undead creatures.
REMOVE
RETURN 1
ENDIF
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 2400
SRC.f_necromancyfizzlecheck2 2000
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-100
SRC.TARG.NEWITEM i_memory
SRC.TARG.ACT.COLOR 02
SRC.TARG.ACT.LINK <SRC.UID>
SRC.TARG.EQUIP <SRC.TARG.ACT>
SRC.TARG.FLAGS <SRC.TARG.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Death
[ITEMDEF i_death_scroll]
ID=i_map_rolled
NAME=Death Scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Necromancy Scrolls
DESCRIPTION=Death Scroll

ON=@Create
COLOR 040c

ON=@DClick
SRC.NEWITEM death_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF death_spell]
ID=i_memory
NAME=Death Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Death

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 3000
SRC.f_necromancyskillcheck 2990
SRC.f_manacheck 300
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Corp
TARGET Select the corpse for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
VAR.FIZZLECHECK 0
SRC.f_necromancyfizzlecheck1 3400
SRC.f_necromancyfizzlecheck2 3390
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-300
IF <SRC.TARG.MAGICRESISTANCE> >= <SRC.NECROMANCY>
SRC.SYSMESSAGE They appear to be unaffected by the spell.
ELSEIF !RAND(<SRC.TARG.MAGICRESISTANCE>)
SRC.TARG.SUICIDE
ENDIF
REMOVE
RETURN 1

//APOCRATHY SPELLS

//Create Food
[ITEMDEF i_create_food_scroll]
ID=i_map_rolled
NAME=Create Food Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Create Food Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM create_food_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF create_food_spell]
ID=i_memory
NAME=Create Food Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Create Food

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_healingskillcheck 0
SRC.f_manacheck 3
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Mani Ylem
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 400
SRC.f_apocrathyfizzelcheck2 400
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-3
SOUND snd_spell_create_food
SRC.NEWITEM {random_bread 1 random_other_food 1 random_veggie 1 i_chicken_leg 1 i_lamb_leg 1 i_bird_cooked 1 i_ham 1 i_ribs_cooked 1 i_bacon_slice 1 i_sausages 1}
SRC.ACT.BOUNCE
REMOVE
RETURN 1

//Heal
[ITEMDEF i_heal_scroll]
ID=i_map_rolled
NAME=Heal Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Heal Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM heal_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF heal_spell]
ID=i_memory
NAME=Heal Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Heal

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 50
SRC.f_healingskillcheck 50
SRC.f_manacheck 5
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Mani
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF (<SRC.TARG.HITS>>=<SRC.TARG.STR>)||(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be healed.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 450
SRC.f_apocrathyfizzelcheck2 450
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-5
SRC.TARG.HITS <SRC.TARG.HITS>+{5 20}
SRC.TARG.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_heal
REMOVE
RETURN 1
ENDIF

//Cure
[ITEMDEF i_cure_scroll]
ID=i_map_rolled
NAME=Cure Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Cure Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM cure_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF cure_spell]
ID=i_memory
NAME=Cure Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Cure

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 100
SRC.f_healingskillcheck 300
SRC.f_manacheck 6
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF !(<SRC.TARG.FLAGS>&statf_poisoned)||(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be cured.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 500
SRC.f_apocrathyfizzelcheck2 700
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-6
SRC.TARG.SPELLEFFECT s_cure,<SRC.MAGERY>
SRC.TARG.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_cure
REMOVE
RETURN 1
ENDIF

//Arch Cure
[ITEMDEF i_arch_cure_scroll]
ID=i_map_rolled
NAME=Arch Cure Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Arch Cure Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM arch_cure_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF arch_cure_spell]
ID=i_memory
NAME=Arch Cure Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Arch Cure

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 300
SRC.f_healingskillcheck 450
SRC.f_manacheck 15
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas An Nox
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF !(<SRC.TARG.FLAGS>&statf_poisoned)||(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be cured.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 700
SRC.f_apocrathyfizzelcheck2 850
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-15
SRC.TARG.SPELLEFFECT s_arch_cure,<SRC.MAGERY>
SRC.TARG.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_arch_cure
REMOVE
RETURN 1
ENDIF

//Greater Heal
[ITEMDEF i_greater_heal_scroll]
ID=i_map_rolled
NAME=Greater Heal Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Greater Heal Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM greater_heal_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF greater_heal_spell]
ID=i_memory
NAME=Greater Heal Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Greater Heal

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 200
SRC.f_healingskillcheck 500
SRC.f_manacheck 10
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Mani
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF (<SRC.TARG.HITS>>=<SRC.TARG.STR>)||(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be healed.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 600
SRC.f_apocrathyfizzelcheck2 900
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-10
SRC.TARG.HITS <SRC.TARG.HITS>+{(<SRC.MAGERY>/100) (<SRC.MAGERY>/60)}
SRC.TARG.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_greater_heal
REMOVE
RETURN 1
ENDIF

//Regen
[ITEMDEF i_regen_scroll]
ID=i_map_rolled
NAME=Regen Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Regen Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM regen_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF regen_spell]
ID=i_memory
NAME=Regen Heal Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Regen

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 400
SRC.f_healingskillcheck 850
SRC.f_manacheck 30
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Mani
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF (<SRC.TARG.HITS>>=<SRC.TARG.STR>)||(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be healed.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 800
SRC.f_apocrathyfizzelcheck2 1250
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-30
SRC.TARG.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_greater_heal
SRC.NEWITEM i_regen_timer
SRC.ACT.TIMER {3 6}
SRC.ACT.MORE <SRC.MAGERY>/100
SRC.TARG.EQUIP <SRC.ACT>
REMOVE
RETURN 1
ENDIF

[ITEMDEF i_regen_timer]
ID=i_memory
NAME=Regen Timer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Regen Timer

ON=@Create
ATTR attr_invis

ON=@Equip
LINK <CONT.UID>

ON=@Timer
IF <MORE> > 0
LINK.HITS <LINK.HITS>+{5 10}
MORE <MORE>+-1
TIMER {3 6}
RETURN 1
ELSE
REMOVE
RETURN 1
ENDIF

//Mass Heal
[ITEMDEF i_mass_heal_scroll]
ID=i_map_rolled
NAME=Mass Heal Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Mass Heal Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM mass_heal_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF i_mass_heal]
ID=i_memory
NAME=Mass Heal
TYPE=t_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Effects
DESCRIPTION=Mass Heal

ON=@Create
ATTR attr_invis
TIMER 1

ON=@Step
SRC.SPELLEFFECT s_greater_heal,3000
SRC.TARG.EFFECT 3,i_fx_heal_effect,6,15,1
RETURN 0

ON=@Timer
REMOVE
RETURN 1

[ITEMDEF mass_heal_spell]
ID=i_memory
NAME=Mass Heal Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Mass Heal

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 450
SRC.f_healingskillcheck 1000
SRC.f_manacheck 40
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Mani Grav
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF (<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They cannot be healed in their current state.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 850
SRC.f_apocrathyfizzelcheck2 1400
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-45
SRC.TARG.SPELLEFFECT s_greater_heal,<SRC.HEALING>
SRC.TARG.EFFECT 3,i_fx_heal_effect,6,15,1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE n 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE ne 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE e 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE se 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE s 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE sw 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE w 1
SRC.TARG.NEWITEM i_mass_heal
SRC.TARG.ACT.P <SRC.TARG.P>
SRC.TARG.ACT.MOVE nw 1
SOUND snd_spell_greater_heal
ENDIF
REMOVE
RETURN 1

//Resurrection
[ITEMDEF i_resurrection_scroll]
ID=i_map_rolled
NAME=Resurrection Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Resurrection Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM resurrection_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF resurrection_spell]
ID=i_memory
NAME=Resurrection Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Ressurection

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 500
SRC.f_healingskillcheck 1300
SRC.f_manacheck 50
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY An Corp
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF !(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be resurrected.
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 900
SRC.f_apocrathyfizzelcheck2 1700
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-50
SRC.TARG.SPELLEFFECT s_resurrection,1000
SRC.TARG.EFFECT 3,i_fx_heal_effect,6,15,1
SOUND snd_spell_resurrection
ENDIF
RETURN 1

//Full Heal
[ITEMDEF i_full_heal_scroll]
ID=i_map_rolled
NAME=Full Heal Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Full Heal Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM full_heal_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF full_heal_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Full Heal Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Full Heal

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2900
SRC.f_healingskillcheck 2900
SRC.f_manacheck 275
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY In Vas Mani Grav
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF (<SRC.TARG.HITS>>=<SRC.TARG.STR>)||(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be healed.
REMOVE
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 3300
SRC.f_apocrathyfizzelcheck2 3300
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-275
SRC.TARG.HITS <SRC.TARG.STR>
SRC.TARG.EFFECT 3,i_fx_sparkle,6,15,1
SOUND snd_spell_greater_heal
REMOVE
RETURN 1
ENDIF

[ITEMDEF i_greater_resurrection_scroll]
ID=i_map_rolled
NAME=Greater Resurrection Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Apocrathy Scrolls
DESCRIPTION=Greater Resurrection Scroll

ON=@Create
COLOR 07a1

ON=@DClick
SRC.NEWITEM greater_resurrection_spell
SRC.ACT.EQUIP
RETURN 1

//Greater Resurrection
[ITEMDEF greater_resurrection_spell]
ID=i_memory
NAME=Greater Resurrection Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Greater Ressurection

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2990
SRC.f_healingskillcheck 2990
SRC.f_manacheck 300
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Vas An Corp
TARGET Select the target for the spell.

ON=@Targon_Item
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Ground
SRC.SYSMESSAGE That is not a valid target.
REMOVE
RETURN 1

ON=@Targon_Char
IF !(<SRC.TARG.FLAGS>&statf_dead)
SRC.SYSMESSAGE They do not need to be resurrected.
RETURN 1
ELSE
VAR.FIZZLECHECK 0
SRC.f_apocrathyfizzelcheck1 3390
SRC.f_apocrathyfizzelcheck2 3390
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-300
SRC.TARG.SPELLEFFECT s_resurrection,1000
SRC.TARG.HITS <SRC.TARG.STR>
SRC.TARG.EFFECT 3,i_fx_heal_effect,6,15,1
SOUND snd_spell_resurrection
ENDIF
RETURN 1

//SUMMONING SPELLS

//Summon Small Animal
[ITEMDEF i_summon_small_animal]
ID=i_map_rolled
NAME=Summon Small Animal Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Small Animal Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_small_animall
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_small_animal]
ID=i_memory
NAME=Summon Small Animal Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Small Animal

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 0
SRC.f_summoningskillcheck 0
SRC.f_manacheck 5
SRC.f_reagent_check 2 i_mandrake_root
SRC.f_reagent_check 1 i_black_pearl
SRC.f_reagent_check 2 i_blood_vial
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Bet
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 400
SRC.f_summonfizzlecheck2 500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.TAG.SUMMONINGSKILL <SRC.TAG.SUMMONINGSKILL>+10
SRC.MANA <SRC.MANA>+-5
SRC.CONSUME 2 i_mandrake_root
SRC.CONSUME 1 i_black_pearl
SRC.CONSUME 2 i_blood_vial
SOUND snd_spell_summon_creature
SRC.NEWNPC {c_rabbit 1 c_bird 1 c_dog 1 c_cat 1 c_chicken 1 c_crow 1 c_magpie 1 c_jungle_bird 1 c_tropical_bird 1 c_hind 1 c_hart 1 c_mountain_goat 1 c_goat 1 c_sheep_shorn 1 c_sheep_woolly 1 c_pig 1 c_bullfrog 1 c_rat 1 c_sewer_rat 1 c_jackrabbit 1}
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Small Monster
[ITEMDEF i_summon_small_monster_scroll]
ID=i_map_rolled
NAME=Summon Small Monster Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Small Monster Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_small_monster_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_small_monster_spell]
ID=i_memory
NAME=Summon Small Monster Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Small Monster

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 200
SRC.f_summoningskillcheck 2500
SRC.f_manacheck 7
SRC.f_reagent_check 2 i_mandrake_root
SRC.f_reagent_check 1 i_volcanic_ash
SRC.f_reagent_check 2 i_blood_vial
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Bet
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 600
SRC.f_summonfizzlecheck2 3000
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.TAG.SUMMONINGSKILL <SRC.TAG.SUMMONINGSKILL>+20
SRC.MANA <SRC.MANA>+-7
SRC.CONSUME 2 i_mandrake_root
SRC.CONSUME 1 i_volcanic_ash
SRC.CONSUME 2 i_blood_vial
SOUND snd_spell_summon_creature
SRC.NEWNPC {c_mongbat 1 c_arboreal_mongbat 1 c_slime 1 c_harpy 1 c_headless 1 c_hellcat 1 c_giant_spider 1 c_giant_scorpion 1 giant_serpent 1 c_giant_toad 1}
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Animal
[ITEMDEF i_summon_animal_scroll]
ID=i_map_rolled
NAME=Summon Animal Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Animal Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_animal_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_animal_spell]
ID=i_memory
NAME=Summon Animal Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Animal

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 400
SRC.f_summoningskillcheck 5000
SRC.f_manacheck 10
SRC.f_reagent_check 2 i_mandrake_root
SRC.f_reagent_check 2 i_black_pearl
SRC.f_reagent_check 2 i_blood_vial
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 800
SRC.f_summonfizzlecheck2 5500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.TAG.SUMMONINGSKILL <SRC.TAG.SUMMONINGSKILL>+40
SRC.MANA <SRC.MANA>+-10
SRC.CONSUME 2 i_mandrake_root
SRC.CONSUME 2 i_black_pearl
SRC.CONSUME 2 i_blood_vial
SOUND snd_spell_summon_creature
SRC.NEWNPC {npc_horses 10 c_llama 1 c_camel 1 c_yellow_chocobo 1 c_eagle 1 c_wolf 1 c_raven 1 c_cow_bw 1 c_cow_brown 1 c_bull_brown_lt 1 c_bull_brown_dk 1  c_walrus 1 c_boar 1 c_frenzied_ostard 1 c_forest_ostard 1 c_desert_ostard 1 c_panther 1 c_cougar 1 c_polar_bear 1 c_grizzly_bear 1 c_brown_bear 1 c_black_bear 1 c_alligator 1 c_gorilla 1 c_gray_wolf 1 c_white_wolf 1 c_snow_leopard 1 c_lion 1}
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Monster
[ITEMDEF i_monster_scroll]
ID=i_map_rolled
NAME=Summon Monster Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Monster Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_monster_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_monster_spell]
ID=i_memory
NAME=Summon Monster Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Monster

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 600
SRC.f_summoningskillcheck 10000
SRC.f_manacheck 20
SRC.f_reagent_check 2 i_mandrake_root
SRC.f_reagent_check 2 i_volcanic_ash
SRC.f_reagent_check 2 i_blood_vial
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 1000
SRC.f_summonfizzlecheck2 10500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.TAG.SUMMONINGSKILL <SRC.TAG.SUMMONINGSKILL>+80
SRC.MANA <SRC.MANA>+-20
SRC.CONSUME 2 i_mandrake_root
SRC.CONSUME 2 i_volcanic_ash
SRC.CONSUME 2 i_blood_vial
SOUND snd_spell_summon_creature
SRC.NEWNPC {c_gazer 1 c_orc 1 c_orc_w_club 1 c_goblin 1 c_ettin 1 c_ogre 1 c_troll 1 c_hellhound 1 c_corpser 1 c_lizardman 1 c_ratman 1}
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Elemental
[ITEMDEF i_summon_elemental_scroll]
ID=i_map_rolled
NAME=Summon Elemental Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Elemental Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_elemental_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_elemental_spell]
ID=i_memory
NAME=Summon Elemental Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Elemental Archer

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 800
SRC.f_summoningskillcheck 20000
SRC.f_manacheck 150
SRC.f_reagent_check 3 i_fertile_dirt
SRC.f_reagent_check 3 i_sulfur_ash
SRC.f_reagent_check 3 i_black_pearl
SRC.f_reagent_check 3 i_mandrake_root
SRC.f_reagent_check 3 i_blood_moss
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 1200
SRC.f_summonfizzlecheck2 20500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.TAG.SUMMONINGSKILL <SRC.TAG.SUMMONINGSKILL>+160
SRC.MANA <SRC.MANA>+-150
SRC.CONSUME 3 i_fertile_dirt
SRC.CONSUME 3 i_sulfur_ash
SRC.CONSUME 3 i_black_pearl
SRC.CONSUME 3 i_mandrake_root
SRC.CONSUME 3 i_blood_moss
SOUND snd_spell_summon_daemon
SRC.NEWNPC {c_elem_earth 16 c_elem_water 16 c_elem_fire 16 c_elem_air 16 c_elem_ice 8 c_elem_poison 8 c_elem_snow 4 c_elem_swamp 4 c_elem_blood 2 c_elem_holy 1 c_elem_shadow 1}
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Beast
[ITEMDEF i_summon_beast_scroll]
ID=i_map_rolled
NAME=Summon Beast Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Beast Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_beast_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_beast_spell]
ID=i_memory
NAME=Summon Beast Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Beast

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1000
SRC.f_summoningskillcheck 40000
SRC.f_manacheck 75
SRC.f_reagent_check 4 i_mandrake_root
SRC.f_reagent_check 1 i_volcanic_ash
SRC.f_reagent_check 5 i_blood_vial
SRC.f_reagent_check 3 i_bone
SRC.f_reagent_check 2 i_fertile_dirt
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 1400
SRC.f_summonfizzlecheck2 40500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.TAG.SUMMONINGSKILL <SRC.TAG.SUMMONINGSKILL>+320
SRC.MANA <SRC.MANA>+-75
SRC.CONSUME 4 i_mandrake_root
SRC.CONSUME 1 i_volcanic_ash
SRC.CONSUME 5 i_blood_vial
SRC.CONSUME 3 i_bone
SRC.CONSUME 2 i_fertile_dirt
SOUND snd_spell_summon_creature
SRC.NEWNPC {c_silver_serpent 1 c_drake 1 c_drake_red 1}
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
REMOVE
RETURN 1

//Summon Lesser Daemon
[ITEMDEF i_summon_lesser_daemon_scroll]
ID=i_map_rolled
NAME=Summon Lesser Daemon Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Lesser Daemon Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_lesser_daemon_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_lesser_daemon_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Lesser Daemon Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Lesser Daemon

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1600
SRC.f_summoningskillcheck 1300
SRC.f_manacheck 125
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Bet Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2000
SRC.f_necromancyfizzlecheck2 1700
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-125
SRC.NEWNPC c_lesser_daemon
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
SRC.ACT.EVENTS +e_summoned_daemon_dispel_resistance
REMOVE
RETURN 1

//Summon Fallen Angel
[ITEMDEF i_summon_fallen_angel_scroll]
ID=i_map_rolled
NAME=Summon Fallen Angel Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Fallen Angel Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_fallen_angel_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_fallen_angel_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Skeleton Mage Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Skeleton Mage

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 1800
SRC.f_summoningskillcheck 1500
SRC.f_manacheck 150
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Mani Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2200
SRC.f_necromancyfizzlecheck2 1900
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-150
SRC.NEWNPC c_fallen_angel
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
SRC.ACT.EVENTS +e_summoned_daemon_dispel_resistance
REMOVE
RETURN 1

//Summon Daemon
[ITEMDEF i_summon_daemon_scroll]
ID=i_map_rolled
NAME=Summon Daemon Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Daemon Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_daemon_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_daemon_spell]
ID=i_memory
TYPE=t_eq_script
NAME=Summon Daemon Spell

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Daemon

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2000
SRC.f_summoningskillcheck 1600
SRC.f_manacheck 175
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Xen Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_fizzlecheck 2400
SRC.f_necromancyfizzlecheck2 2000
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
f_skillgain NECROMANCY
SRC.MANA <SRC.MANA>+-175
SRC.NEWNPC c_daemon
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
SRC.ACT.EVENTS +e_summoned_daemon_dispel_resistance
REMOVE
RETURN 1

//Summon Greater Daemon
[ITEMDEF i_summon_greater_daemon_scroll]
ID=i_map_rolled
NAME=Summon Greater Daemon Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Greater Daemon Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_greater_daemon_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_greater_daemon_spell]
ID=i_memory
NAME=Summon Skeleton Greater Daemon Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Greater Daemon

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2750
SRC.f_summoningskillcheck 2400
SRC.f_manacheck 200
SRC.f_reagent_check 13 i_daemon_bone
SRC.f_reagent_check 2 i_blackmoor
SRC.f_reagent_check 1 i_black_pearl
SRC.f_reagent_check 5 i_blood_spawn
SRC.f_reagent_check 11 i_brimstone
SRC.f_reagent_check 6 i_obsidian
SRC.f_reagent_check 8 i_volcanic_ash
SRC.f_reagent_check 9 i_sulfur_ash
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Vas Corp
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 3150
SRC.f_summonfizzlecheck2 320500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY

SRC.MANA <SRC.MANA>+-200
SRC.NEWNPC c_greater_daemon
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
SRC.ACT.EVENTS +e_summoned_daemon_dispel_resistance
REMOVE
RETURN 1

//Summon Balron
[ITEMDEF i_summon_balron_scroll]
ID=i_map_rolled
NAME=Summon Balron Scroll
TYPE=t_scroll

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Summoning Scrolls
DESCRIPTION=Summon Balron Scroll

ON=@Create
COLOR 0799

ON=@DClick
SRC.NEWITEM summon_balron_spell
SRC.ACT.EQUIP
RETURN 1

[ITEMDEF summon_balron_spell]
ID=i_memory
NAME=Summon Balron Spell
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Summon Balron

ON=@Create
ATTR attr_invis

ON=@Equip
VAR.SPELLCHECK 0
SRC.f_mageryskillcheck 2990
SRC.f_summoningskillcheck 640000
SRC.f_manacheck 300
SRC.f_reagent_check 16 i_daemon_bone
SRC.f_reagent_check 7 i_blackmoor
SRC.f_reagent_check 4 i_black_pearl
SRC.f_reagent_check 8 i_blood_spawn
SRC.f_reagent_check 2 i_bone
SRC.f_reagent_check 13 i_brimstone
SRC.f_reagent_check 1 i_fertile_dirt
SRC.f_reagent_check 1 i_executioners_cap
SRC.f_reagent_check 6 i_nightshade
SRC.f_reagent_check 12 i_obsidian
SRC.f_reagent_check 14 i_volcanic_ash
SRC.f_reagent_check 15 i_sulfur_ash
SRC.f_reagent_check 4 i_dead_wood
IF <VAR.SPELLCHECK>0
REMOVE
RETURN 1
ENDIF
SRC.ANIM 16
SRC.SAY Kal Vas Xen Vas Corp Quas
TARGETG Where do you wish to summon the creature?

ON=@Targon_Ground
VAR.FIZZLECHECK 0
SRC.f_summonfizzlecheck1 3390
SRC.f_summonfizzlecheck2 640500
IF <VAR.FIZZLCHECK>0
SRC.SYSMESSAGE You fail in saying the words of power correctly.
SRC.EFFECT 3,i_fx_smoke_small,1,2,0
REMOVE
RETURN 1
ENDIF
f_skillgain MAGERY
SRC.MANA <SRC.MANA>+-300
SRC.CONSUME 16 i_daemon_bone
SRC.CONSUME 7 i_blackmoor
SRC.CONSUME 4 i_black_pearl
SRC.CONSUME 8 i_blood_spawn
SRC.CONSUME 2 i_bone
SRC.CONSUME 13 i_brimstone
SRC.CONSUME 1 i_fertile_dirt
SRC.CONSUME 1 i_executioners_cap
SRC.CONSUME 6 i_nightshade
SRC.CONSUME 12 i_obsidian
SRC.CONSUME 14 i_volcanic_ash
SRC.CONSUME 15 i_sulfur_ash
SRC.CONSUME 4 i_dead_wood
SOUND snd_spell_summon_daemon
SRC.NEWNPC c_balron
SRC.ACT.P <SRC.TARGP>
SRC.ACT.NEWITEM i_memory
SRC.ACT.ACT.COLOR 02
SRC.ACT.ACT.LINK <SRC.UID>
SRC.ACT.EQUIP <SRC.ACT.ACT>
SRC.ACT.FLAGS <SRC.ACT.FLAGS>|statf_conjured
SRC.ACT.EVENTS +e_summoned_daemon_dispel_resistance
REMOVE
RETURN 1

[SPELL 0]
DEFNAME=s_water
NAME=Water
SOUND=0
RUNES=
CAST_TIME=0
RESOURCES=
RUNE_ITEM=0
SCROLL_ITEM=0
FLAGS=0
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=4
SKILLREQ=MAGERY 1.0

[SPELL 1]
DEFNAME=s_clumsy
NAME=Clumsy
SOUND=snd_spell_clumsy
RUNES=UJ
CAST_TIME=0
RESOURCES=i_blood_moss,i_nightshade
RUNE_ITEM=i_rune_clumsy
SCROLL_ITEM=i_scroll_clumsy
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=3,15
DURATION=2*60.0,3*60.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 2]
DEFNAME=s_create_food
NAME=Create Food
SOUND=snd_spell_create_food
RUNES=IMY
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng,i_mandrake_root
RUNE_ITEM=i_rune_create_food
SCROLL_ITEM=i_scroll_create_food
FLAGS=spellflag_targ_xyz
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 3]
DEFNAME=s_feeblemind
NAME=Feeblemind
SOUND=snd_spell_feeblemind
RUNES=RW
CAST_TIME=0
RESOURCES=i_ginseng,i_nightshade
RUNE_ITEM=i_rune_feeblemind
SCROLL_ITEM=i_scroll_feeblemind
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,10
DURATION=2*60.0,3*60.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 4]
DEFNAME=s_heal
NAME=Heal
SOUND=snd_spell_heal
RUNES=IM
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng,i_spider_silk
RUNE_ITEM=i_rune_heal
SCROLL_ITEM=i_scroll_heal
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_heal_effect
EFFECT=5,20
DURATION=0.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 5]
DEFNAME=s_magic_arrow
NAME=Magic Arrow
SOUND=snd_spell_magic_arrow
CAST_TIME=0
RUNES=IPY
RESOURCES=i_black_pearl,i_nightshade
RUNE_ITEM=i_rune_magic_arrow
SCROLL_ITEM=i_scroll_magic_arrow
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=5,15
DURATION=0.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 6]
DEFNAME=s_night_sight
NAME=Night Sight
SOUND=snd_spell_night_sight
RUNES=IL
CAST_TIME=0
RESOURCES=i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_night_sight
SCROLL_ITEM=i_scroll_night_sight
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_heal_effect
EFFECT=0
DURATION=30*60.0,90*60.0
MANAUSE=0
SKILLREQ=MAGERY 10.0

[SPELL 7]
DEFNAME=s_reactive_armor
NAME=Reactive Armor
SOUND=snd_spell_reactive_armor
RUNES=FS
CAST_TIME=0
RESOURCES=i_garlic,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_reactive_armor
SCROLL_ITEM=i_scroll_reactive_armor
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_heal_effect
EFFECT=10.0,60.0
DURATION=3*60.0,5*60.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 8]
DEFNAME=s_weaken
NAME=Weaken
SOUND=snd_spell_weaken
RUNES=DM
CAST_TIME=0
RESOURCES=i_garlic,i_nightshade
RUNE_ITEM=i_rune_weaken
SCROLL_ITEM=i_scroll_weaken
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,30
DURATION=2*60.0,3*60.0
MANAUSE=4
SKILLREQ=MAGERY 10.0

[SPELL 9]
DEFNAME=s_agility
NAME=Agility
SOUND=snd_spell_agility
RUNES=EU
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root
RUNE_ITEM=i_rune_agility
SCROLL_ITEM=i_scroll_agility
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=5,20
DURATION=2*60.0,3*60.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 10]
DEFNAME=s_Cunning
NAME=Cunning
SOUND=snd_spell_cunning
RUNES=UW
CAST_TIME=0
RESOURCES=i_mandrake_root,i_nightshade
RUNE_ITEM=i_rune_cunning
SCROLL_ITEM=i_scroll_cunning
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=5,20
DURATION=2*60.0,3*60.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 11]
DEFNAME=s_cure
NAME=Cure
SOUND=snd_spell_cure
RUNES=AN
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng
RUNE_ITEM=i_rune_cure
SCROLL_ITEM=i_scroll_cure
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_heal_effect
EFFECT=0
DURATION=0.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 12]
DEFNAME=s_harm
NAME=Harm
SOUND=snd_spell_harm
RUNES=AM
CAST_TIME=0
RESOURCES=i_nightshade,i_spider_silk
RUNE_ITEM=i_rune_harm
SCROLL_ITEM=i_scroll_harm
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,16
DURATION=0.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 13]
DEFNAME=s_magic_trap
NAME=Magic Trap
SOUND=snd_spell_magic_trap
RUNES=IJ
CAST_TIME=0
RESOURCES=i_garlic,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_magic_trap
SCROLL_ITEM=i_scroll_magic_trap
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 14]
DEFNAME=s_magic_untrap
NAME=Magic Untrap
SOUND=snd_spell_magic_untrap
RUNES=AJ
CAST_TIME=0
RESOURCES=i_blood_moss,i_sulfur_ash
RUNE_ITEM=i_rune_magic_untrap
SCROLL_ITEM=i_scroll_magic_untrap
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 15]
DEFNAME=s_protection
NAME=Protection
SOUND=snd_spell_protection
RUNES=US
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng,i_sulfur_ash
RUNE_ITEM=i_rune_protection
SCROLL_ITEM=i_scroll_protection
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=5,35
DURATION=3*60.0,5*60.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 16]
DEFNAME=s_strength
NAME=Strength
SOUND=snd_spell_strength
RUNES=UM
CAST_TIME=0
RESOURCES=i_mandrake_root,i_nightshade
RUNE_ITEM=i_rune_strength
SCROLL_ITEM=i_scroll_strength
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=5,15
DURATION=2*60.0,3*60.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 17]
DEFNAME=s_bless
NAME=Bless
SOUND=snd_spell_bless
RUNES=RS
CAST_TIME=0
RESOURCES=i_garlic,i_mandrake_root
RUNE_ITEM=i_rune_bless
SCROLL_ITEM=i_scroll_bless
FLAGS=spellflag_targ_obj|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=5,20
DURATION=2*60.0,3*60.0
MANAUSE=9
SKILLREQ=MAGERY 30.0

[Spell 18]
DEFNAME=s_fireball
NAME=Fireball
SOUND=snd_spell_fireball
RUNES=VF
CAST_TIME=0
RESOURCES=i_black_pearl,i_sulfur_ash
RUNE_ITEM=i_rune_fireball
SCROLL_ITEM=i_scroll_fireball
FLAGS=spellflag_targ_obj|spellflag_dir_anim|spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=8,16
DURATION=0.0
MANAUSE=9
SKILLREQ=MAGERY 30.0

[Spell 19]
DEFNAME=s_magic_lock
NAME=Magic Lock
SOUND=snd_spell_magic_lock
RUNES=AP
CAST_TIME=0
RESOURCES=i_blood_moss,i_garlic,i_sulfur_ash
RUNE_ITEM=i_rune_magic_lock
SCROLL_ITEM=i_scroll_magic_lock
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=9
SKILLREQ=MAGERY 30.0

[Spell 20]
DEFNAME=s_poison
NAME=Poison
SOUND=snd_spell_poison
RUNES=IN
CAST_TIME=0
RESOURCES=i_nightshade
RUNE_ITEM=i_rune_poison
SCROLL_ITEM=i_scroll_poison
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=0 // 100,750
DURATION=1.0,15.0
MANAUSE=9
SKILLREQ=MAGERY 30.0

[Spell 21]
DEFNAME=s_telekinesis
NAME=Telekinesis
SOUND=snd_spell_telekinesis
RUNES=OPY
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root
RUNE_ITEM=i_rune_telekinesis
SCROLL_ITEM=i_scroll_telekinesis
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=9
SKILLREQ=MAGERY 30.0

[Spell 22]
DEFNAME=s_teleport
NAME=Teleport
SOUND=snd_spell_teleport
RUNES=RP
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root
RUNE_ITEM=i_rune_teleport
SCROLL_ITEM=i_scroll_teleport
FLAGS=spellflag_targ_xyz
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=11
SKILLREQ=MAGERY 30.0

[Spell 23]
DEFNAME=s_unlock
NAME=Unlock
SOUND=snd_spell_unlock
RUNES=EP
CAST_TIME=0
RESOURCES=i_blood_moss,i_sulfur_ash
RUNE_ITEM=i_rune_unlock
SCROLL_ITEM=i_scroll_unlock
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=9
SKILLREQ=MAGERY 30.0

[Spell 24]
DEFNAME=s_wall_of_stone
NAME=Wall of Stone
SOUND=snd_spell_wall_of_stone
RUNES=ISY
CAST_TIME=0
RESOURCES=i_blood_moss,i_garlic
RUNE_ITEM=i_rune_wall_of_stone
SCROLL_ITEM=i_scroll_wall_of_stone
FLAGS=spellflag_targ_xyz|spellflag_field
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,4*60.0
MANAUSE=6
SKILLREQ=MAGERY 20.0

[Spell 25]
DEFNAME=s_archcure
NAME=Arch Cure
SOUND=snd_spell_archcure
RUNES=VAN
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng,i_mandrake_root
RUNE_ITEM=i_rune_arch_cure
SCROLL_ITEM=i_scroll_archcure
FLAGS=spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_heal_effect
EFFECT=0
DURATION=0.0
MANAUSE=11
SKILLREQ=MAGERY 40.0

[Spell 26]
DEFNAME=s_archprotection
NAME=Arch Protection
SOUND=snd_spell_archprotection
RUNES=VUS
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_arch_protection
SCROLL_ITEM=i_scroll_archprotection
FLAGS=spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=5,15
DURATION=30.0,1000.0
MANAUSE=11
SKILLREQ=MAGERY 40.0

[Spell 27]
DEFNAME=s_curse
NAME=Curse
SOUND=snd_spell_curse
RUNES=DS
CAST_TIME=0
RESOURCES=i_garlic,i_nightshade,i_sulfur_ash
RUNE_ITEM=i_rune_curse
SCROLL_ITEM=i_scroll_curse
FLAGS=spellflag_targ_obj|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,15
DURATION=10.0,60.0
MANAUSE=11
SKILLREQ=MAGERY 40.0

[Spell 28]
DEFNAME=s_fire_field
NAME=Fire Field
SOUND=snd_spell_fire_field
RUNES=IFG
CAST_TIME=0
RESOURCES=i_black_pearl,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_fire_field
SCROLL_ITEM=i_scroll_fire_field
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_field|spellflag_resist
EFFECT_ID=0
EFFECT=2,12
DURATION=2*60.0,4*60.0
MANAUSE=15
SKILLREQ=MAGERY 40.0

[Spell 29]
DEFNAME=s_greater_heal
NAME=Greater Heal
SOUND=snd_spell_greater_heal
RUNES=IVM
CAST_TIME=0
RESOURCES=i_garlic,i_ginseng,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_greater_heal
SCROLL_ITEM=i_scroll_greater_heal
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_heal_effect
EFFECT=10,50
DURATION=0.0
MANAUSE=11
SKILLREQ=MAGERY 40.0

[Spell 30]
DEFNAME=s_lightning
NAME=Lightning
SOUND=snd_spell_lightning
RUNES=POG
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_lightning
SCROLL_ITEM=i_scroll_lightning
FLAGS=spellflag_targ_char|spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=10,20
DURATION=0.0
MANAUSE=11
SKILLREQ=MAGERY 40.0

[Spell 31]
DEFNAME=s_mana_drain
NAME=Mana Drain
SOUND=snd_spell_mana_drain
RUNES=OR
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_mana_drain
SCROLL_ITEM=i_scroll_mana_drain
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=0
DURATION=0.0
MANAUSE=11
SKILLREQ=MAGERY 40.0

[Spell 32]
DEFNAME=s_recall
NAME=Recall
SOUND=snd_spell_recall
RUNES=KOP
CAST_TIME=0
RESOURCES=i_black_pearl,i_blood_moss,i_mandrake_root
RUNE_ITEM=i_rune_recall
SCROLL_ITEM=i_scroll_recall
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=0
SKILLREQ=MAGERY 40.0

[Spell 33]
DEFNAME=s_blade_spirits
NAME=Blade Spirit
SOUND=snd_spell_blade_spirits
RUNES=IHJY
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_nightshade
RUNE_ITEM=i_rune_blade_spirits
SCROLL_ITEM=i_scroll_blade_spirits
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 34]
DEFNAME=s_dispel_field
NAME=Dispel Field
SOUND=snd_spell_dispel_field
RUNES=AG
CAST_TIME=0
RESOURCES=i_black_pearl,i_garlic,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_dispel_field
SCROLL_ITEM=i_scroll_dispel_field
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 35]
DEFNAME=s_incognito
NAME=Incognito
SOUND=snd_spell_incognito
RUNES=KIE
CAST_TIME=0
RESOURCES=i_blood_moss,i_garlic,i_nightshade
RUNE_ITEM=i_rune_incognito
SCROLL_ITEM=i_scroll_incognito
FLAGS=0
EFFECT_ID=0
EFFECT=0
DURATION=5*60.0,8*60.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 36]
DEFNAME=s_magic_reflection
NAME=Magic Reflect
SOUND=snd_spell_magic_reflection
RUNES=IJS
CAST_TIME=0
RESOURCES=i_garlic,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_magic_reflection
SCROLL_ITEM=i_scroll_magic_reflection
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_bless_effect
EFFECT=0
DURATION=4*60.0,8*60.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 37]
DEFNAME=s_mind_blast
NAME=Mind Blast
SOUND=snd_spell_mind_blast
RUNES=PCW
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_nightshade,i_sulfur_ash
RUNE_ITEM=i_rune_mind_blast
SCROLL_ITEM=i_scroll_mind_blast
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,20
DURATION=0.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 38]
DEFNAME=s_paralyze
NAME=Paralyze
SOUND=snd_spell_paralyze
RUNES=AEP
CAST_TIME=0
RESOURCES=i_garlic,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_paralyze
SCROLL_ITEM=i_scroll_paralyze
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=0
DURATION=60.0,3*60.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 39]
DEFNAME=s_poison_field
NAME=Poison Field
SOUND=snd_spell_poison_field
RUNES=ING
CAST_TIME=0
RESOURCES=i_black_pearl,i_nightshade,i_spider_silk
RUNE_ITEM=i_rune_poison_field
SCROLL_ITEM=i_scroll_poison_field
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_fx_targ|spellflag_field|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,50 //50,500
DURATION=2*60.0,4*60.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 40]
DEFNAME=s_summon_creature
NAME=Summon
SOUND=snd_spell_summon_creature
RUNES=KX
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_summon_creature
SCROLL_ITEM=i_scroll_summon_creature
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=3*60.0,5*60.0
MANAUSE=14
SKILLREQ=MAGERY 50.0

[Spell 41]
DEFNAME=s_dispel
NAME=Dispel
SOUND=snd_spell_dispel
RUNES=AO
CAST_TIME=0
RESOURCES=i_garlic,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_dispel
SCROLL_ITEM=i_scroll_dispel
FLAGS=spellflag_targ_char|spellflag_dir_anim
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 42]
DEFNAME=s_energy_bolt
NAME=Energy Bolt
SOUND=snd_spell_energy_bolt
RUNES=CP
CAST_TIME=0
RESOURCES=i_black_pearl,i_nightshade
RUNE_ITEM=i_rune_energy_bolt
SCROLL_ITEM=i_scroll_energy_bolt
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=10,45
DURATION=0.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 43]
DEFNAME=s_explosion
NAME=Explosion
SOUND=snd_spell_explosion
RUNES=VOF
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_explosion
SCROLL_ITEM=i_scroll_explosion
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_explode
EFFECT=15,35
DURATION=0.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 44]
DEFNAME=s_invisibility
NAME=Invisibility
SOUND=snd_spell_invisibility
RUNES=ALX
CAST_TIME=0
RESOURCES=i_blood_moss,i_nightshade
RUNE_ITEM=i_rune_invisibility
SCROLL_ITEM=i_scroll_invisibility
FLAGS=spellflag_targ_char|spellflag_good
EFFECT_ID=0
EFFECT=0
DURATION=3*60.0,5*60.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 45]
DEFNAME=s_mark
NAME=Mark
SOUND=snd_spell_mark
RUNES=KPY
CAST_TIME=0
RESOURCES=i_black_pearl,i_blood_moss,i_mandrake_root
RUNE_ITEM=i_rune_mark
SCROLL_ITEM=i_scroll_mark
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=100000
DURATION=0.0
MANAUSE=0
SKILLREQ=MAGERY 60.0

[Spell 46]
DEFNAME=s_mass_curse
NAME=Mass Curse
SOUND=snd_spell_mass_curse
RUNES=VDS
CAST_TIME=0
RESOURCES=i_garlic,i_mandrake_root,i_nightshade,i_sulfur_ash
RUNE_ITEM=i_rune_mass_curse
SCROLL_ITEM=i_scroll_mass_curse
FLAGS=spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=5,30
DURATION=0.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 47]
DEFNAME=s_paralyzation_field
NAME=Paralyze Field
SOUND=snd_spell_paralyze_field
RUNES=IEG
CAST_TIME=0
RESOURCES=i_black_pearl,i_ginseng,i_spider_silk
RUNE_ITEM=i_rune_paralyze_field
SCROLL_ITEM=i_scroll_paralyze_field
FLAGS=spellflag_harm|spellflag_fx_targ|spellflag_field|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 48]
DEFNAME=s_reveal
NAME=Reveal
SOUND=snd_spell_reveal
RUNES=WQ
CAST_TIME=0
RESOURCES=i_blood_moss,i_sulfur_ash
RUNE_ITEM=i_rune_reveal
SCROLL_ITEM=i_scroll_reveal
FLAGS=0
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[Spell 49]
DEFNAME=s_chain_lightning
NAME=Chain Lightning
SOUND=snd_spell_chain_lightning
RUNES=VOG
CAST_TIME=0
RESOURCES=i_black_pearl,i_blood_moss,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_chain_lightning
SCROLL_ITEM=i_scroll_chain_lightning
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=10,20
DURATION=0.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 50]
DEFNAME=s_energy_field
NAME=Energy Field
SOUND=snd_spell_energy_field
RUNES=ISG
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_energy_field
SCROLL_ITEM=i_scroll_energy_field
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_field
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 51]
DEFNAME=s_flamestrike
NAME=Flame Strike
SOUND=snd_spell_flamestrike
RUNES=KVF
CAST_TIME=0
RESOURCES=i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_flamestrike
SCROLL_ITEM=i_scroll_flamestrike
FLAGS=spellflag_targ_obj|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=03709
EFFECT=25,50
DURATION=0.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 52]
DEFNAME=s_gate_travel
NAME=Gate Travel
SOUND=snd_spell_gate_travel
RUNES=VRP
CAST_TIME=0
RESOURCES=i_black_pearl,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_gate_travel
SCROLL_ITEM=i_scroll_gate_travel
FLAGS=spellflag_targ_obj
EFFECT_ID=i_moongate_blue
EFFECT=0
DURATION=60.0
MANAUSE=0
SKILLREQ=MAGERY 70.0

[Spell 53]
DEFNAME=s_mana_vampire
NAME=Mana Vampire
SOUND=snd_spell_mana_vampire
RUNES=OS
CAST_TIME=0
RESOURCES=i_black_pearl,i_blood_moss,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_mana_vampire
SCROLL_ITEM=i_scroll_mana_vampire
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=0
DURATION=0.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 54]
DEFNAME=s_mass_dispel
NAME=Mass Dispel
SOUND=snd_spell_mass_dispel
RUNES=VAO
CAST_TIME=0
RESOURCES=i_black_pearl,i_garlic,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_mass_dispel
SCROLL_ITEM=i_scroll_mass_dispel
FLAGS=0
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 55]
DEFNAME=s_meteor_swarm
NAME=Meteor Swarm
SOUND=snd_spell_meteor_swarm
RUNES=FKDY
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_meteor_swarm
SCROLL_ITEM=i_scroll_meteor_swarm
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=35,50
DURATION=0.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 56]
DEFNAME=s_polymorph
NAME=Polymorph
SOUND=snd_spell_polymorph
RUNES=VYR
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_polymorph
SCROLL_ITEM=i_scroll_polymorph
FLAGS=spellflag_resist
EFFECT_ID=0
EFFECT=0
DURATION=5*60.0,8*60.0
MANAUSE=40
SKILLREQ=MAGERY 70.0

[Spell 57]
DEFNAME=s_earthquake
NAME=Earthquake
SOUND=snd_spell_earthquake
RUNES=IVP
CAST_TIME=0
RESOURCES=i_blood_moss,i_ginseng,i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_earthquake
SCROLL_ITEM=i_scroll_earthquake
FLAGS=spellflag_harm|spellflag_resist
EFFECT_ID=0
EFFECT=30,45
DURATION=30.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[Spell 58]
DEFNAME=s_energy_vortex
NAME=Energy Vortex
SOUND=snd_spell_energy_vortex
RUNES=VCP
CAST_TIME=0
RESOURCES=i_black_pearl,i_blood_moss,i_mandrake_root,i_nightshade
RUNE_ITEM=i_rune_energy_vortex
SCROLL_ITEM=i_scroll_energy_vortex
FLAGS=spellflag_targ_xyz|spellflag_harm|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[SPELL 59]
DEFNAME=s_resurrection
NAME=Resurrection
SOUND=snd_spell_resurrection
RUNES=AC
CAST_TIME=0
RESOURCES=i_blood_moss,i_garlic,i_ginseng
RUNE_ITEM=i_rune_resurrection
SCROLL_ITEM=i_scroll_resurrection
FLAGS=spellflag_targ_char|spellflag_good
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=25
SKILLREQ=MAGERY 1.0

[SPELL 60]
DEFNAME=s_summon_elem_air
NAME=Air Elemental
SOUND=snd_spell_summon_elem_air
RUNES=KVXH
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_summon_elem_air
SCROLL_ITEM=i_scroll_summon_elem_air
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[Spell 61]
DEFNAME=s_summon_daemon
NAME=Daemon
SOUND=snd_spell_summon_daemon
RUNES=KVXC
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_summon_daemon
SCROLL_ITEM=i_scroll_summon_daemon
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[Spell 62]
DEFNAME=s_summon_elem_earth
NAME=Earth Elemental
SOUND=snd_spell_summon_elem_earth
RUNES=KVXY
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_summon_elem_earth
SCROLL_ITEM=i_scroll_summon_elem_earth
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[Spell 63]
DEFNAME=s_summon_elem_fire
NAME=Fire Elemental
SOUND=snd_spell_summon_elem_fire
RUNES=KVXF
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_rune_summon_elem_fire
SCROLL_ITEM=i_scroll_summon_elem_fire
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[Spell 64]
DEFNAME=s_summon_elem_water
NAME=Water Elemental
SOUND=snd_spell_summon_elem_water
RUNES=KVXAF
CAST_TIME=0
RESOURCES=i_blood_moss,i_mandrake_root,i_spider_silk
RUNE_ITEM=i_rune_summon_elem_water
SCROLL_ITEM=i_scroll_summon_elem_water
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=50
SKILLREQ=MAGERY 80.0

[Spell 65]
DEFNAME=s_summon_undead
NAME=Summon Undead
SOUND=snd_spell_summon_undead
RUNES=KNM
CAST_TIME=0
RESOURCES=i_blood_moss
RUNE_ITEM=i_rune_alchem_1
SCROLL_ITEM=i_scroll_x_green2
FLAGS=spellflag_targ_xyz|spellflag_summon
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=15
SKILLREQ=MAGERY 30.0, NECROMANCY 40.0

[Spell 66]
DEFNAME=s_animate_dead
NAME=Animate Dead
SOUND=snd_spell_animate_dead
RUNES=IAMG
CAST_TIME=0
RESOURCES=i_blood_moss
RUNE_ITEM=i_rune_alchem_2
SCROLL_ITEM=i_scroll_x_teal2
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=2*60.0,3*60.0
MANAUSE=15
SKILLREQ=MAGERY 30.0, NECROMANCY 40.0

[Spell 67]
DEFNAME=s_bone_armor
NAME=Bone Armor
SOUND=snd_spell_bone_armor
RUNES=ICSY
CAST_TIME=0
RESOURCES=i_blood_moss
RUNE_ITEM=i_rune_alchem_3
SCROLL_ITEM=i_scroll_x_brown2
FLAGS=spellflag_targ_obj
EFFECT_ID=0
EFFECT=0
DURATION=0.0
MANAUSE=15
SKILLREQ=MAGERY 100.0, NECROMANCY 60.0

[Spell 68]
DEFNAME=s_light
NAME=Light
SOUND=snd_spell_light
RUNES=IL
CAST_TIME=0
RESOURCES=i_spider_silk,i_sulfur_ash
RUNE_ITEM=i_light_source
SCROLL_ITEM=i_scroll_x_red
FLAGS=spellflag_targ_char|spellflag_good
EFFECT_ID=0
EFFECT=0
DURATION=3*60.0,5*60.0
MANAUSE=15
SKILLREQ=MAGERY 30.0, NECROMANCY 40.0

[Spell 69]
DEFNAME=s_fire_bolt
NAME=Fire Bolt
SOUND=snd_spell_fire_bolt
RUNES=VFP
CAST_TIME=0
RESOURCES=i_black_pearl,i_sulfur_ash,i_nightshade
RUNE_ITEM=i_rune_fireball
SCROLL_ITEM=i_scroll_x_blue
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_BOLT|spellflag_resist
EFFECT_ID=0
EFFECT=30,50
DURATION=0.0
MANAUSE=15
SKILLREQ=MAGERY 30.0, NECROMANCY 40.0

[Spell 70]
DEFNAME=s_hallucination
NAME=Hallucination
SOUND=snd_z_end_mystery1
RUNES=WN
CAST_TIME=0
RESOURCES=i_garlic,i_nightshade
RUNE_ITEM=i_rune_mind_blast
SCROLL_ITEM=i_scroll_mind_blast
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_curse
EFFECT=2,5
DURATION=2*60.0,4*60.0
MANAUSE=15
SKILLREQ=MAGERY 30.0, NECROMANCY 40.0

[Spell 71]
DEFNAME=s_stone
NAME=Stone
SOUND=snd_spell_polymorph
RUNES=APY
CAST_TIME=0
RESOURCES=i_garlic,i_nightshade
RUNE_ITEM=i_rune_alchem_3
SCROLL_ITEM=i_map_rolled
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ
DURATION=2*60.0,4*60.0
MANAUSE=35
SKILLREQ=MAGERY 70.0

[Spell 72]
DEFNAME=s_shrink
NAME=Shrink
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[Spell 73]
DEFNAME=s_refresh
NAME=Refresh
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
RUNE_ITEM=i_rune_alchem_3
EFFECT=40,180

[Spell 74]
DEFNAME=s_restore
NAME=Restore
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
RUNE_ITEM=i_rune_alchem_3
EFFECT=10,100

[Spell 75]
DEFNAME=s_mana
NAME=Mana
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
RUNE_ITEM=i_rune_alchem_3
EFFECT_ID=i_fx_heal_effect
EFFECT=10,100

[Spell 76]
DEFNAME=s_sustenance
NAME=Sustenance
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_good|spellflag_fx_targ
RUNE_ITEM=i_rune_alchem_3
EFFECT=4,100

[Spell 77]
DEFNAME=s_chameleon
NAME=Chameleon
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[Spell 78]
DEFNAME=s_beastform
NAME=Beast Form
FLAGS=spellflag_harm|spellflag_resist
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[Spell 79]
DEFNAME=s_monster_form
NAME=Monster Form
FLAGS=spellflag_harm|spellflag_resist
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[Spell 80]

DEFNAME=s_forget
NAME=Forget
FLAGS=spellflag_harm|spellflag_resist
RUNE_ITEM=i_rune_alchem_3

[Spell 81]
DEFNAME=s_gender_swap
NAME=Gender Swap
FLAGS=spellflag_harm|spellflag_resist
RUNE_ITEM=i_rune_alchem_3

[Spell 82]
DEFNAME=s_trance
NAME=Trance
RUNE_ITEM=i_rune_alchem_3
EFFECT_ID=i_fx_heal_effect
DURATION=2*60.0,4*60.0

[Spell 83]
DEFNAME=s_particle_form
NAME=Particle Form
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[Spell 84]
DEFNAME=s_shield
NAME=Shield
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[Spell 85]
DEFNAME=s_steelskin
NAME=Steel Skin
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
RUNE_ITEM=i_rune_alchem_3
EFFECT=4,40
DURATION=2*60.0,4*60.0

[Spell 86]
DEFNAME=s_stoneskin
NAME=Stone Skin
SOUND=snd_spell_polymorph
RUNES=IYSO
CAST_TIME=0
RESOURCES=i_garlic,i_spider_silk
RUNE_ITEM=i_rune_alchem_3
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
EFFECT_ID=i_fx_curse
EFFECT=4,40
DURATION=2*60.0,4*60.0
MANAUSE=10
SKILLREQ=MAGERY 30.0

[spell 87]
DEFNAME=s_regenerate
NAME=Regeneration
FLAGS=spellflag_targ_char|spellflag_fx_targ|spellflag_good
RUNE_ITEM=i_rune_alchem_3
DURATION=2*60.0,4*60.0

[spell 88]
DEFNAME=s_enchant
NAME=Enchantment
FLAGS=spellflag_targ_obj|spellflag_fx_targ|spellflag_good
RUNE_ITEM=i_rune_alchem_3
MANAUSE=200
SKILLREQ=MAGERY 200.0
EFFECT=1,15

[Spell 89]
DEFNAME=s_lava
NAME=Lava Bomb
SOUND=snd_spell_explosion
RUNES=IVFSG
CAST_TIME=0
RESOURCES=i_mandrake_root,i_sulfur_ash
RUNE_ITEM=i_rune_alchem_3
FLAGS=spellflag_targ_char|spellflag_dir_anim|spellflag_harm|spellflag_fx_targ|spellflag_resist
EFFECT_ID=i_fx_explode
EFFECT=15,35
DURATION=0.0
MANAUSE=20
SKILLREQ=MAGERY 60.0

[PLEVEL 1]
shownecromancy
showelementalresistance
createparty
addtoparty
partymessage
leaveparty
partyhelp
match
memory
castspellstone
castspellwallofstone
castspellstoneskin
castspellmudslide
castspellboulder
castspellgolem
castspellpetrify
castspellearthquake
castspellsummonearthelemental
castspellsprinkle
castspellbubble
castspellwatercannon
castspellflood
castspellerosion
castspellundertow
castspellwaterfall
castspelltidalwave
castspellsummonwaterelemental
castspellflamingarrow
castspellfireball
castspellflameshield
castspellfirefield
castspellfirebolt
castspellexplosion
castspellflamewave
castspellflamestrike
castspellsummonfireelemental
castspellgust
castspellfog
castspellsonicboom
castspellgale
castspelltornado
castspellvaccum
castspellhurricane
castspellwhirlwind
castspellsummonairelemental
castspellspark
castspelllightning
castspellenergyfield
castspellballlightning
castspellshock
castspellchainlightning
castspellnova
castspellluminare
castspellsummonlightningelemental
castspellicecube
castspellwallofice
castspellsleet
castspellicetrap
castspellicesickle
castspelldeepfreeze
castspellabsolutezero
castspellicestrike
castspellsummoniceelemental
castspellsnowball
castspellsnowdrift
castspellcoldchill
castspellfrostbite
castspellsnowman
castspellblizzard
castspellavalanche
castspellwhiteout
castspellsummonsnowelemental
castspelllesserpoison
castspelltoxicgas
castspellpoison
castspellpoisonfield
castspellvenom
castspellgreaterpoison
castspellbio
castspellsummonpoisonelemental
castspelldeadlypoison
castspellsludge
castspellslime
castspellsummonswamptentacles
castspellsewage
castspellensnare
castspellswampgas
castspellacidrain
castspellbadbreath
castspellsummonswampelemental
castspellharm
castspellvampire
castspellmanadrain
castspellmanavampire
castspellexhaustion
castspellstanimavampire
castspellbloodlust
castspellcorpseexplode
castspellsummonbloodelemental
castspellholylight
castspellholyvision
castspellholywind
castspellholybeam
castspelldestroysin
castspellholyblast
castspellcleanse
castspelllightpillar
castspellsummonholyelemental
castspellunholylight
castspelldarkness
castspellunholystrength
castspelldemi
castspellevilpresence
castspellquarter
castspelldarkmatter
castspelldarkholy
castspellsummonshadowelemental
castspellenergybolt
castspellbladespirit
castspellmeteorswarm
castspellcomet
castspellenergyvortex
castspellultima
castspellmegid
castspellmegedo
castspellarmagedon
castspellcreatefood
castspellheal
castspellcure
castspellarchcure
castspellgreaterheal
castspellregen
castspellmassheal
castspellresurrection
castspellres
castspellfullheal
castspellgreaterresurrection
castspellsummonzombie
castspellsummonskeleton
castspellsummonghost
castspellsummonghoul
castspellsummonskeletonarcher
castspellsummonspectre
castspellsummonmummy
castspellsummonskeletonmage
castspellsummonapparition
castspellsummonskeletonknight
castspellsummonliche
castspellsummonlichelord
castspellraisedead
castspellbonearmor
castspellcontrolundead
castspelldeath
castspellsummonsmallanimal
castspellsummonsmallmonster
castspellsummonanimal
castspellsummonmonster
castspellsummonelemental
castspellsummonbeast
castspellsummonlesserdaemon
castspellsummonfallenangel
castspellsummondaemon
castspellsummongreaterdaemon
castspellsummonbalron

[PLEVEL 2]
showelemental

//add this to spheretables.scp
ON=@Create
f_default_elemental

ON=@Hit
IF <SRC.FINDLAYER(layer_hand1).MOREZ>>0
IF <ACT.TAG.POISON><=0
ACT.SPELLEFFECT s_poison (<SRC.FINDLAYER(layer_hand1).MOREZ>*2.0)
ELSEIF <ACT.TAG.POISON>==1
ACT.SPELLEFFECT s_poison <SRC.FINDLAYER(layer_hand1).MOREZ>
ELSEIF <ACT.TAG.POISON>==2
ACT.SPELLEFFECT s_poison (<SRC.FINDLAYER(layer_hand1).MOREZ>/2.0)
ELSEIF <ACT.TAG.POISON>==3
ACT.DAMAGE 0
ELSEIF <ACT.TAG.POISON>>=4
VAR.OLD_ACT <ACT.ACT.UID>
ACT.NEWITEM i_regen_timer
ACT.ACT.TIMER {3 6}
ACT.ACT.MORE <SRC.FINDLAYER(layer_hand1).MOREZ>
ACT.ACT.EQUIP <ACT.ACT>
ACT.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
ENDIF
SRC.FINDLAYER(layer_hand1).MOREZ <SRC.FINDLAYER(layer_hand1).MOREZ>+-{0.1 0.9}
ENDIF
RETURN 0

[CHARDEF 09]
DEFNAME=c_daemon
NAME=#names_daemon the Daemon
SOUND=snd_monster_daemon1
ICON=i_pet_daemon
ANIM=03fbc7f
CAN=mt_walk|mt_fly|mt_equip|mt_usehands
DAM={20 25}
ARMOR=30
RESOURCES=i_ribs_raw 9,i_daemon_bone 8
FOODTYPE=i_ribs_raw 25
DESIRES=i_gold,c_daemon,c_daemon_w_sword,c_evil,c_greater_daemon,c_balron,c_arch_daemon,c_gargoyle,c_stone_gargoyle,c_flame_gargoyle,c_fallen_angel
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Daemon

ON=@Create
NPC brain_monster
FAME {6000 8000}
KARMA {-6000 -7500}
STR {475 505}
DEX {75 95}
INT {300 325}

ANATOMY {60.0 90.0}
EVALUATINGINTEL {90.0 150.0}
MAGERY {90.0 130.0}
MAGICRESISTANCE {90.0 100.0}
PARRYING {85.0 100.0}
TACTICS {90.0 150.0}
WRESTLING {100.0 150.0}

f_default_elemental

ON=@NPCRestock
ITEM random_potion,{2 3}
ITEM random_potion,{2 3}
ITEM ttm_lvl4,R6
ITEM random_jewel
ITEM random_jewel
ITEM {random_sword_vanquishing 1 0 20}
ITEM i_gold,{700 900}

[CHARDEF 0a]
DEFNAME=c_daemon_w_sword
NAME=#names_daemon the Daemon Knight
SOUND=snd_monster_daemon1
ICON=i_pet_daemon
ANIM=03fbc7f
CAN=mt_walk|mt_fly|mt_equip|mt_usehands
DAM={20 25}
ARMOR=30
RESOURCES=i_ribs_raw 9,i_daemon_bone 8
FOODTYPE=i_ribs_raw 25
DESIRES=i_gold,c_daemon_w_sword,c_daemon,c_evil,c_greater_daemon,c_balron,c_arch_daemon,c_gargoyle,c_stone_gargoyle,c_flame_gargoyle,c_fallen_angel
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Daemon Knight

ON=@Create
NPC brain_monster
FAME {6000 8000}
KARMA {-6000 -7500}
STR {475 505}
DEX {75 95}
INT {300 325}

ANATOMY {60.0 90.0}
EVALUATINGINTEL {90.0 150.0}
MAGERY {90.0 130.0}
MAGICRESISTANCE {90.0 100.0}
PARRYING {85.0 100.0}
SWORDSMANSHIP={100.0 150.0}
TACTICS {90.0 150.0}
WRESTLING {100.0 150.0}

f_default_elemental

ON=@NPCRestock
ITEM {random_sword_vanquishing 1 0 20}
ITEM random_potion,{2 3}
ITEM random_potion,{2 3}
ITEM ttm_lvl4,R6
ITEM random_jewel
ITEM random_jewel
ITEM random_sword_vanquishing
ITEM i_gold,{700 900}

[CHARDEF 03]
DEFNAME=c_zombie
NAME=Zombie
SOUND=snd_monster_zombie1
ICON=i_pet_zombie
ANIM=078c7f
CAN=mt_walk
DAM={2 8}
ARMOR=9
RESOURCES={random_body_parts_1 1 random_body_parts_2 1}
FOODTYPE=t_meat_raw 20,t_corpse 2
BLOODCOLOR=colors_green
DESIRES=i_gold,t_meat_raw,t_corpse,c_zombie
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Zombie

ON=@Create
NPC brain_undead
FAME {500 900}
KARMA {-1000 -1500}
STR {45 70}
DEX {30 50}
INT {25 40}

ANATOMY {10.0 35.0}
MAGICRESISTANCE {15.0 40.0}
PARRYING {20.0 30.0}
TACTICS {35.0 50.0}
WRESTLING {35.0 50.0}

f_undead_elemental

ON=@NPCRestock
ITEM {random_bone_armor 1 0 2}
ITEM i_gold,{30 50}

[CHARDEF 0d]
DEFNAME=c_elem_air
NAME=Air Elemental
SOUND=snd_elementl_airelem1
ICON=i_pet_elem_air
ANIM=079dff
CAN=mt_walk|mt_fly
DAM={4 12}
ARMOR=20
BLOODCOLOR=colors_white
DESIRES=r_mountains,c_elem_air
SHELTER=r_dungeon,r_mountains
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Air Elemental

ON=@Create
COLOR 17969
NPC brain_monster
FAME {5000 6000}
KARMA {-4000 -5000}
STR {125 155}
DEX {165 185}
INT {170 195}

ANATOMY {60.0 80.0}
EVALUATINGINTEL {65.0 90.0}
MAGERY {60.0 75.0}
MAGICRESISTANCE {60.0 75.0}
PARRYING {65.0 75.0}
TACTICS {60.0 80.0}
WRESTLING {60.0 80.0}

f_default_elemental

ON=@NPCRestock
TAG.WIND 3
TAG.EARTH 0
ITEM i_gold, {90 350}
ITEM ttm_lvl2,R99

[CHARDEF 0e]
DEFNAME=c_elem_earth
NAME=Earth Elemental
SOUND=snd_elementl_erthel1
ICON=i_pet_elem_earth
ANIM=079c7f
CAN=mt_walk|mt_usehands|mt_ghost
DAM={5 20}
ARMOR=25
RESOURCES=rocks 8
FOODTYPE=15 t_arock,t_coin,t_ore,t_ingot
BLOODCOLOR=colors_brown
DESIRES=r_caves,c_elem_earth
SHELTER=r_dungeon,r_caves,r_mountains
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Earth Elemental

ON=@Create
NPC brain_monster
FAME {5000 6000}
KARMA {-4000 -5000}
STR {125 155}
DEX {45 65}
INT {40 50}

ANATOMY {60.0 80.0}
MAGICRESISTANCE {50.0 75.0}
MINING 80.0
PARRYING {65.0 75.0}
TACTICS {60.0 100.0}
WRESTLING {70.0 100.0}

f_default_elemental

ON=@NPCRestock
TAG.EARTH 3
TAG.WIND 0
ITEM i_ore_iron,{3 8}
ITEM random_jewel
ITEM random_jewel
ITEM i_fertile_dirt,{3 8}
ITEM i_gold,{90 350}

[CHARDEF 0f]
DEFNAME=c_elem_fire
NAME=Fire Elemental
SOUND=snd_elementl_firelem1
ICON=i_pet_elem_fire
ANIM=079dff
CAN=mt_walk|mt_run|mt_usehands
DAM={4 12}
ARMOR=20
RESOURCES=i_sulfur_ash 8
FOODTYPE=t_fire
BLOODCOLOR=colors_red
DESIRES=t_lava,c_elem_fire
SHELTER=r_dungeon,r_lava
AVERSIONS=r_civilization,r_water,r_snow
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Fire Elemental

ON=@Create
NPC brain_monster
FAME {5000 6000}
KARMA {-4000 -5000}
STR {125 155}
DEX {165 185}
INT {170 195}

ANATOMY {60.0 80.0}
EVALUATINGINTEL {65.0 90.0}
MAGERY {60.0 75.0}
MAGICRESISTANCE {60.0 75.0}
PARRYING {65.0 75.0}
TACTICS {60.0 80.0}
WRESTLING {60.0 80.0}

ITEMNEWBIE i_light_source
ITEMNEWBIE i_spellbook
ADDSPELL=s_magic_arrow
ADDSPELL=s_fireball
ADDSPELL=s_fire_field
ADDSPELL=s_explosion
ADDSPELL=s_flamestrike
ADDSPELL=s_meteor_swarm
ADDSPELL=s_summon_elem_fire
ADDSPELL=s_fire_bolt

f_default_elemental

ON=@NPCRestock
TAG.FIRE 3
TAG.WATER 0
TAG.ICE 0
TAG.SNOW 0
ITEM i_sulfur_ash,{5 10}
ITEM random_jewel
ITEM random_jewel
ITEM i_gold,{90 350}

ON=@Death
NEWITEM i_fx_explode
ACT.TYPE t_explosion
ACT.ATTR attr_move_never|attr_can_decay
ACT.LINK <UID>
ACT.MOREX 10 // amount of damage
ACT.MOREY 090 // set flags to general damage
ACT.MOREZ 2 // radius of effect
ACT.P <P> // position
ACT.TIMERD 0.1 // immediate decay

[CHARDEF 010]
DEFNAME=c_elem_water
NAME=Water Elemental
SOUND=snd_elementl_watrel1
ICON=i_pet_elem_water
ANIM=079dff
CAN=mt_walk|mt_swim|mt_usehands
DAM={4 12}
ARMOR=20
FOODTYPE=t_water_wash
BLOODCOLOR=colors_blue
DESIRES=r_water,c_elem_water
SHELTER=r_dungeon,r_water
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Water Elemental

ON=@Create
NPC brain_monster
FAME {5000 6000}
KARMA {-4000 -5000}
STR {125 155}
DEX {165 185}
INT {170 195}

ANATOMY {60.0 80.0}
EVALUATINGINTEL {65.0 90.0}
MAGERY {60.0 75.0}
MAGICRESISTANCE {60.0 75.0}
PARRYING {65.0 75.0}
TACTICS {60.0 80.0}
WRESTLING {60.0 80.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 3
TAG.LIGHTNING 0
TAG.ICE 2
TAG.SNOW 2
ITEM random_potion
ITEM random_potion
ITEM i_gold,{90 350}

[CHARDEF 018]
DEFNAME=c_liche
NAME=Liche
SOUND=snd_monster_liche1
ICON=i_pet_lich
ANIM=07bc7f
CAN=mt_walk|mt_usehands
DAM={6 12}
ARMOR=13
BLOODCOLOR=colors_green
DESIRES=i_gold,t_wand,t_reagent,t_bone,c_lich
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Liche

ON=@Create
NPC brain_undead
FAME {6000 7000}
KARMA {-6000 -7500}
STR {105 135}
DEX {65 85}
INT {175 205}

ANATOMY {70.0 110.0}
EVALUATINGINTEL {140.0 190.0}
MAGERY {90.0 120.0}
MAGICRESISTANCE {70.0 90.0}
PARRYING {55.0 65.0}
TACTICS {70.0 90.0}
WRESTLING {85.0 100.0}

f_undead_elemental

ITEMNEWBIE i_spellbook
ADDSPELL=s_clumsy
ADDSPELL=s_weaken
ADDSPELL=s_feeblemind
ADDSPELL=s_harm
ADDSPELL=s_magic_arrow
ADDSPELL=s_fireball
ADDSPELL=s_poison
ADDSPELL=s_curse
ADDSPELL=s_paralyze
ADDSPELL=s_dispel

ON=@NPCRestock
ITEM ttm_lvl3,R99
ITEM random_reagent,{4 8}
ITEM random_reagent,{4 8}
ITEM {random_reagent 1 0 5},{4 8}
ITEM random_jewel
ITEM random_jewel
ITEM random_magic_wands
ITEM random_magic_wands
ITEM i_staff_gnarled
ITEM i_gold,{400 500}

[CHARDEF 01a]
DEFNAME=c_spectre
NAME=Spectre
SOUND=snd_monster_ghost1
ICON=i_pet_ghoul
ANIM=078c7f
CAN=mt_walk|mt_ghost
DAM={6 12}
ARMOR=14
BLOODCOLOR=colors_green
DESIRES=i_gold,c_spectre
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Spectre

ON=@Create
NPC brain_undead
FAME {1000 2500}
KARMA {-2000 -3000}
STR {75 100}
DEX {75 95}
INT {35 60}

MAGICRESISTANCE {35.0 50.0}
PARRYING {45.0 55.0}
TACTICS {45.0 60.0}
WRESTLING {45.0 55.0}

f_undead_elemental

ON=@NPCRestock
ITEM random_bone_armor
ITEM i_gold,{50 150}

[CHARDEF 032]
DEFNAME=c_skeleton
NAME=Skeleton
SOUND=snd_monster_skletn1
ICON=i_pet_skeleton
ANIM=078c7f
CAN=mt_walk
DAM={2 8}
ARMOR=8
RESOURCES=i_bone 8
BLOODCOLOR=-1
DESIRES=i_gold,t_bone,c_skeleton
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Skeleton

ON=@Create
NPC brain_undead
FAME {1000 1500}
KARMA {-800 -1200}
STR {55 80}
DEX {55 75}
INT {15 40}

ANATOMY {35.0 60.0}
MAGICRESISTANCE {45.0 60.0}
PARRYING {45.0 55.0}
TACTICS {45.0 50.0}
WRESTLING {45.0 55.0}

f_undead_elemental

ON=@NPCRestock
ITEM {random_bone_armor 1 0 1}
ITEM i_gold,{0 50}

[CHARDEF 038]
DEFNAME=c_skeleton_w_axe
NAME=Skeleton
SOUND=snd_monster_skletn1
ICON=i_pet_skeleton
ANIM=078c7f
CAN=mt_walk|mt_equip|mt_usehands
DAM={6 12}
ARMOR=8
BLOODCOLOR=-1
RESOURCES=i_bone 8
DESIRES=i_gold,t_bone,c_skeleton_w_axe
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Skeleton (axe)

ON=@Create
NPC brain_undead
FAME {1200 1600}
KARMA {-900 -1500}
STR {55 80}
DEX {55 75}
INT {15 40}

ANATOMY {35.0 60.0}
MAGICRESISTANCE {45.0 60.0}
PARRYING {45.0 55.0}
SWORDSMANSHIP={50.0 60.0}
TACTICS {45.0 50.0}
WRESTLING {45.0 55.0}

f_undead_elemental

ON=@NPCRestock
ITEM i_axe_battle
ITEM {meager_undead_backpack 1 average_undead_backpack 2 0 1}

[CHARDEF 039]
DEFNAME=c_skeleton_w_sword
NAME=Skeleton
SOUND=snd_monster_skletn1
ICON=i_pet_skeleton
ANIM=078c7f
CAN=mt_walk|mt_equip|mt_usehands
DAM={7 13}
ARMOR=9
BLOODCOLOR=-1
RESOURCES=i_bone 8
DESIRES=i_gold,t_bone,c_skeleton_w_sword
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Skeleton (sword and shield)

ON=@Create
NPC brain_undead
FAME {1250 1700}
KARMA {-1000 -2000}
STR {55 80}
DEX {55 75}
INT {15 40}

ANATOMY {35.0 60.0}
MAGICRESISTANCE {45.0 60.0}
PARRYING {45.0 55.0}
SWORDSMANSHIP={50.0 55.0}
TACTICS {45.0 50.0}
WRESTLING {45.0 55.0}

f_undead_elemental

ON=@NPCRestock
ITEM i_wooden_shield
ITEM i_cutlass
ITEM {meager_undead_backpack 1 average_undead_backpack 2}

[CHARDEF 06e]
DEFNAME=c_mummy
NAME=Mummy
SOUND=snd_monster_zombie1
ICON=i_pet_zombie
ANIM=079c7f
CAN=mt_walk
DAM={4 32}
ARMOR=25
BLOODCOLOR=colors_green
RESOURCES=t_eerie_stuff 10
FOODTYPE=t_meat_raw 20
DESIRES=i_gold,t_meat_raw,t_corpse,c_mummy
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Mummy

ON=@Create
NPC brain_undead
FAME {4000 6000}
KARMA {-6000 -7000}
STR {345 370}
DEX {25 40}
INT {70 90}

ANATOMY {50.0 80.0}
MAGICRESISTANCE {65.0 80.0}
PARRYING {60.0 80.0}
TACTICS {85.0 110.0}
WRESTLING {85.0 120.0}

f_undead_elemental

ON=@NPCRestock
ITEM random_jewel
ITEM random_potion
ITEM random_potion
ITEM random_scroll
ITEM random_scroll
ITEM i_gold,{300 350}

ON=@Hit
IF !(RAND(2))&&(!<SRC.RESTEST i_rot_timer>)
SRC.SYSMESSAGE You have been afflicted with the decay of the dead.
SRC.SOUND snd_spell_mana_drain
SRC.EFFECT 3,0375a,6,15,1
SRC.NEWITEM i_rot_timer
SRC.ACT.EQUIP
RETURN 0
ELSE
RETURN 0
ENDIF

[ITEMDEF i_rot_timer]
ID=i_worldgem_bit
NAME=Rot Timer
TYPE=t_eq_script
LAYER=layer_special

CATEGORY=Miscellaneous
SUBSECTION=Memory Items
DESCRIPTION=Undead Decay Timer

ON=@Create
ATTR attr_invis
MORE1 {20 100}

ON=@Equip
TIMER 1
SRC.SPELLEFFECT s_paralyze 1000

ON=@Timer
IF <CONT>
IF <MORE1>
MORE1 <MORE1>+-1
CONT.HITPOINTS <CONT.HITPOINTS>+-1
CONT.SOUND snd_spell_mana_drain
CONT.EFFECT 3,0375a,6,15,1
TIMER 1
RETURN 1
ELSE
CONT.SYSMESSAGE You are no longer afflicted by the undead decay.
ENDIF
ENDIF
REMOVE
RETURN 1

[CHARDEF 081]
DEFNAME=c_lesser_daemon
NAME=Lesser Daemon
SOUND=snd_monster_daemon1
ICON=i_pet_daemon
ANIM=078c7f
CAN=mt_walk|mt_fly|mt_usehands|mt_equip
DAM={5 10}
ARMOR=15
RESOURCES=i_ribs_raw 99,i_daemon_bone 8
BLOODCOLOR=colors_green
DESIRES=i_gold,c_lesser_daemon,c_evil,c_daemon,c_balron,c_greater_daemon,c_arch_daemon
SHELTER=r_dungeon,r_caves
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Lesser Daemon

ON=@Create
NPC brain_monster
//COLOR 079a
FAME {1000 4000}
KARMA {-5000 -6000}
STR {150 200}
DEX {75 110}
INT {300 350}

EVALUATINGINTEL {70.0 85.0}
MAGERY {65.0 80.0}
MAGICRESISTANCE {55.0 65.0}
PARRYING {35.0 50.0}
TACTICS {45.0 75.0}
WRESTLING {50.0 65.0}

f_default_elemental

ON=@NPCRestock
TAG.HOLY 0
TAG.DARK 3
ITEM i_gold,{100 400}
ITEM random_jewel,6
ITEM random_advanced_scroll

[CHARDEF 03ca]
DEFNAME=c_grim_reaper
NAME=Grim Reaper
SOUND=snd_monster_ghost1
ICON=i_pet_ghoul
CAN=mt_walk|mt_usehands|mt_ghost
DAM={9 15}
ARMOR=19
BLOODCOLOR=colors_green
DESIRES=c_grim_reaper
SHELTER=r_dungeon,r_spooky
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Grim Reaper

ON=@Create
NPC brain_undead
COLOR colors_black
FAME {700 2000}
KARMA {-900 -1600}
STR {130 150}
INT {170 190}
DEX {100 150}

MAGICRESISTANCE {55.0 60.0}
PARRYING {75.0 85.0}
SWORDSMANSHIP={85.0 95.0}
TACTICS {75.0 90.0}
WRESTLING {85.0 95.0}

f_undead_elemental

ON=@NPCRestock
ITEM i_halberd

[CHARDEF c_greater_daemon]
ID=c_daemon_w_sword
NAME=Greater Daemon
DAM={45 50}
ARMOR=50
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_lesser_daemon,c_evil,c_daemon,c_balron,c_greater_daemon,c_arch_daemon
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Greater Daemon

ON=@Create
NPC brain_monster
COLOR 01b5
FAME {7000 9000}
KARMA {-8000 -10000}
STR {600 850}
DEX {150 220}
INT {750 1000}

ANATOMY {100.0 300.0}
EVALUATINGINTEL {200.0 350.0}
MAGERY {150.0 200.0}
MAGICRESISTANCE {100.0 125.0}
PARRYING {105.0 175.0}
TACTICS {145.0 190.0}
WRESTLING {195.0 210.0}

f_default_elemental

ON=@NPCRestock
TAG.EARTH 3
TAG.WATER 3
TAG.FIRE 3
TAG.WIND 3
TAG.LIGHTNING 2
TAG.ICE 2
TAG.SNOW 2
TAG.POISON 3
TAG.SWAMP 2
TAG.BLOOD 2
TAG.HOLY 0
TAG.DARK 3
ITEM i_gold,{200 400}
ITEM random_goodie_loaded
ITEM {0 3 random_goodie_rich 2 random_goodie_loaded 1}

[CHARDEF c_balron]
ID=c_daemon_w_sword
NAME=#names_balrons
DAM={100 150}
ARMOR=80
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_lesser_daemon,c_evil,c_daemon,c_balron,c_greater_daemon,c_arch_daemon
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Balron

ON=@Create
NPC brain_monster
COLOR colors_daemon
FAME {9000 9100}
KARMA {-9000 -10000}
STR {985 1185}
DEX {175 255}
INT {890 1005}

ANATOMY {250.0 3800.0}
EVALUATINGINTEL {280.0 400.0}
MAGERY {250.0 300.0}
MAGICRESISTANCE {160.0 190.0}
PARRYING {145.0 225.0}
TACTICS {205.0 290.0}
WRESTLING {250.0 300.0}

f_default_elemental

ON=@NPCRestock
TAG.EARTH 3
TAG.WATER 3
TAG.FIRE 3
TAG.WIND 3
TAG.LIGHTNING 3
TAG.ICE 3
TAG.SNOW 3
TAG.POISON 3
TAG.SWAMP 3
TAG.BLOOD 3
TAG.HOLY 0
TAG.DARK 3
ITEM {0 1 i_orb_bag 1}
ITEM random_potion,{2 3}
ITEM random_potion,{2 3}
ITEM ttm_lvl5
ITEM random_weapon_vanquishing
ITEM i_gold,{7000 8500}
ITEM random_platemail_invulnerability
COLOR 1501

[CHARDEF c_fallen_angel]
ID=c_gargoyle
NAME=Fallen Angel
DAM={10 26}
ARMOR=30
RESOURCES=i_ribs_raw 8
FOODTYPE=t_meat_raw 12
DESIRES=t_shrine,c_fallen_angel
SHELTER=r_dungeon,r_shrine
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Fallen Angel

ON=@Create
NPC brain_monster
COLOR 07a1
FAME {7000 8000}
KARMA {-7000 -8000}
STR {450 500}
DEX {200 235}
INT {500 765}

ANATOMY {105.0 145.0}
EVALUATINGINTEL {235.0 450.0}
MAGERY {95.0 135.0}
MAGICRESISTANCE {120.0 135.0}
PARRYING {85.0 100.0}
TACTICS {110.0 170.0}
WRESTLING {150.0 155.0}
SWORDSMANSHIP {150.0 155.0}

f_default_elemental

ON=@NPCRestock
TAG.HOLY 3
TAG.DARK 4
ITEM i_arch_angels_vengence
ITEM i_gold,{345 600}

[CHARDEF c_earthfiend]
ID=c_daemon
NAME=Earth Fiend
DAM={20 40}
ARMOR=35
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_earthfiend,c_elem_earth
SHELTER=r_dungeon,r_caves,r_mountains
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Earth Fiend

ON=@Create
NPC brain_monster
COLOR 01116
FAME {7000 8000}
KARMA {-7000 -8000}
STR {500 550}
DEX {200 220}
INT {1000 1500}

ANATOMY {70.0 120.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {105.0 155.0}
MAGERY {95.0 125.0}
PARRYING {95.0 120.0}
SWORDSMANSHIP {150.0 240.0}
TACTICS {135.0 170.0}
WRESTLING {160.0 210.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_summon_elem_earth
ADDSPELL s_earthquake

ON=@NPCRestock
TAG.EARTH 4
TAG.WIND 0
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_fertile_dirt,{3 8}
ITEM i_rock_armor
ITEM i_rock_arms
ITEM i_rock_leggings
ITEM i_rock_gorget
ITEM i_rock_gloves
ITEM i_rock_shield
ITEM i_rock_helm
ITEM i_earth_sword
ITEM i_gold,{800 1200}

ON=@Death
NEWNPC c_elem_earth
NEWNPC c_elem_earth

[CHARDEF c_waterfiend]
ID=c_daemon
NAME=Water Fiend
CAN=mt_walk|mt_fly|mt_usehands|mt_equip
DAM={20 40}
ARMOR=35
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_waterfiend,c_elem_water
SHELTER=r_dungeon,r_water
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Water Fiend

ON=@Create
NPC brain_monster
COLOR 05
FAME {7000 8000}
KARMA {-7000 -8000}
STR {500 550}
DEX {220 300}
INT {1000 1400}

ANATOMY {70.0 120.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {105.0 155.0}
MAGERY {95.0 125.0}
PARRYING {95.0 120.0}
SWORDSMANSHIP {150.0 240.0}
TACTICS {135.0 170.0}
WRESTLING {160.0 210.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_summon_elem_water
ADDSPELL s_mana_drain
ADDSPELL s_mind_blast
ADDSPELL s_paralyze
ADDSPELL s_invisibility
ADDSPELL s_paralyzation_field
ADDSPELL s_mana_vampire

ON=@NPCRestock
TAG.WATER 4
TAG.LIGHTNING 0
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_aqua_armor
ITEM i_aqua_arms
ITEM i_aqua_leggings
ITEM i_aqua_gorget
ITEM i_aqua_gloves
ITEM i_aqua_shield
ITEM i_aqua_helm
ITEM i_water_sword
ITEM i_gold,{800 1200}

ON=@Death
NEWNPC c_elem_water
NEWNPC c_elem_water

[CHARDEF c_firefiend]
ID=c_daemon
NAME=Fire Fiend
DAM={20 40}
ARMOR=35
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,t_fire,c_firefiend,c_elem_fire
SHELTER=r_dungeon,r_caves,r_lava
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Fire Fiend

ON=@Create
NPC brain_monster
COLOR 020
FAME {7000 8000}
KARMA {-7000 -8000}
STR {500 550}
DEX {210 330}
INT {1000 1300}

ANATOMY {70.0 120.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {105.0 155.0}
MAGERY {95.0 125.0}
PARRYING {95.0 120.0}
SWORDSMANSHIP {150.0 240.0}
TACTICS {135.0 170.0}
WRESTLING {160.0 210.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_magic_arrow
ADDSPELL s_fireball
ADDSPELL s_fire_field
ADDSPELL s_explosion
ADDSPELL s_flamestrike
ADDSPELL s_meteor_swarm
ADDSPELL s_summon_elem_fire

ON=@NPCRestock
TAG.WATER 0
TAG.ICE 0
TAG.SNOW 0
TAG.FIRE 4
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_flame_armor
ITEM i_flame_arms
ITEM i_flame_leggings
ITEM i_flame_gorget
ITEM i_flame_gloves
ITEM i_flame_shield
ITEM i_flame_helm
ITEM i_flame_sword
ITEM i_gold,{800 1200}

ON=@Death
NEWNPC c_elem_fire
NEWNPC c_elem_fire

[CHARDEF c_airfiend]
ID=c_daemon
NAME=Air Fiend
DAM={20 40}
ARMOR=35
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_airfiend,c_elem_air
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Air Fiend

ON=@Create
NPC brain_monster
COLOR 17969
FAME {7000 8000}
KARMA {-7000 -8000}
STR {500 550}
DEX {210 290}
INT {1100 1400}

ANATOMY {70.0 120.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {105.0 155.0}
MAGERY {95.0 125.0}
PARRYING {95.0 120.0}
SWORDSMANSHIP {150.0 240.0}
TACTICS {135.0 170.0}
WRESTLING {160.0 210.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_summon_elem_air
ADDSPELL s_curse

ON=@NPCRestock
TAG.EARTH 0
TAG.WIND 4
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_wind_armor
ITEM i_wind_arms
ITEM i_wind_leggings
ITEM i_wind_gorget
ITEM i_wind_gloves
ITEM i_wind_shield
ITEM i_wind_helm
ITEM i_air_sword
ITEM i_gold,{800 1200}

ON=@Death
NEWNPC c_elem_air
NEWNPC c_elem_air

[CHARDEF c_lightningfiend]
ID=c_daemon
NAME=Lightning Fiend
DAM={24 45}
ARMOR=37
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_lightningfiend,c_elem_lightning
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Lightning Fiend

ON=@Create
NPC brain_monster
COLOR 049d
FAME {7250 8500}
KARMA {-7500 -8500}
STR {525 550}
DEX {200 235}
INT {1300 1500}

ANATOMY {80.0 140.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {150.0 170.0}
MAGERY {100.0 135.0}
PARRYING {95.0 120.0}
SWORDSMANSHIP {155.0 240.0}
TACTICS {155.0 170.0}
WRESTLING {160.0 210.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_lightning
ADDSPELL s_chain_lightning

ON=@NPCRestock
TAG.EARTH 0
TAG.WIND 0
TAG.LIGHTNING 4
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_wand_lightning
ITEM i_wand_chain_lightning
ITEM i_lightning_armor
ITEM i_lightning_arms
ITEM i_lightning_leggings
ITEM i_lightning_gorget
ITEM i_lightning_gloves
ITEM i_lightning_shield
ITEM i_lightning_helm
ITEM i_lightning_sword

ON=@Death
NEWNPC c_elem_lightning
NEWNPC c_elem_lightning

[CHARDEF c_icefiend]
ID=c_daemon
NAME=Ice Fiend
DAM={25 45}
ARMOR=38
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_icefiend,c_snowfiend,c_elem_ice,c_elem_snow
SHELTER=r_dungeon,r_snow
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Ice Fiend

ON=@Create
NPC brain_monster
COLOR color_ice
FAME {7250 8500}
KARMA {-7500 -8500}
STR {550 675}
DEX {240 300}
INT {1500 1600}

ANATOMY {90.0 140.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {150.0 170.0}
MAGERY {110.0 135.0}
PARRYING {105.0 120.0}
SWORDSMANSHIP {155.0 240.0}
TACTICS {180.0 210.0}
WRESTLING {165.0 230.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 3
TAG.FIRE 0
TAG.WIND 2
TAG.ICE 4
TAG.SNOW 3
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_ice_armor
ITEM i_ice_arms
ITEM i_ice_leggings
ITEM i_ice_gorget
ITEM i_ice_gloves
ITEM i_ice_shield
ITEM i_ice_helm
ITEM i_ice_sword
ITEM i_gold,{800 1200}

ON=@Death
NEWNPC c_elem_ice
NEWNPC c_elem_ice

[CHARDEF c_snowfiend]
ID=c_daemon
NAME=Snow Fiend
DAM={25 48}
ARMOR=40
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_icefiend,c_snowfiend,c_elem_ice,c_elem_snow
SHELTER=r_dungeon,r_snow
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Snow Fiend

ON=@Create
NPC brain_monster
COLOR color_snow
FAME {7250 8000}
KARMA {-7500 -8500}
STR {600 800}
DEX {280 400}
INT {1500 1800}

ANATOMY {130.0 190.0}
EVALUATINGINTEL {215.0 250.0}
MAGICRESISTANCE {150.0 170.0}
MAGERY {120.0 165.0}
PARRYING {135.0 170.0}
SWORDSMANSHIP {185.0 240.0}
TACTICS {200.0 260.0}
WRESTLING {165.0 230.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 3
TAG.FIRE 0
TAG.WIND 2
TAG.ICE 3
TAG.SNOW 4
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_snow_armor
ITEM i_snow_arms
ITEM i_snow_leggings
ITEM i_snow_gorget
ITEM i_snow_gloves
ITEM i_snow_shield
ITEM i_snow_helm
ITEM i_snow_sword
ITEM i_gold,{800 1200}

ON=@Death
NEWNPC c_elem_snow
NEWNPC c_elem_snow

[CHARDEF c_poisonfiend]
ID=c_daemon
NAME=Poison Fiend
DAM={25 45}
ARMOR=38
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_poisonfiend,c_elem_poison
SHELTER=r_dungeon,r_swamp
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Poison Fiend

ON=@Create
NPC brain_monster
COLOR {0787 1 07ac 1}
FAME {7250 8500}
KARMA {-7500 -8500}
STR {550 675}
DEX {240 300}
INT {1500 1600}

ANATOMY {90.0 140.0}
EVALUATINGINTEL {115.0 150.0}
MAGICRESISTANCE {150.0 170.0}
MAGERY {110.0 135.0}
PARRYING {105.0 120.0}
POISONING={90.0 105.0}
SWORDSMANSHIP {155.0 240.0}
TACTICS {180.0 210.0}
WRESTLING {165.0 230.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_poison
ADDSPELL s_curse
ADDSPELL s_poison_field

ON=@NPCRestock
TAG.POISON 4
TAG.SWAMP 3
TAG.BLOOD 2
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_potion_poisondeadly
ITEM i_potion_poisondeadly
ITEM i_potion_poisondeadly
ITEM i_nightshade,6
ITEM i_toxic_armor
ITEM i_toxic_arms
ITEM i_toxic_leggings
ITEM i_toxic_gorget
ITEM i_toxic_gloves
ITEM i_toxic_shield
ITEM i_toxic_helm
ITEM i_poison_blade
ITEM i_gold,{900 1300}

ON=@Death
NEWNPC c_elem_poison
NEWNPC c_elem_poison

[CHARDEF c_swampfiend]
ID=c_daemon
NAME=Swamp Fiend
DAM={25 48}
ARMOR=40
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_swampfiend,c_elem_swamp
SHELTER=r_dungeon,r_swamp
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Swamp Fiend

ON=@Create
NPC brain_monster
COLOR 078b
FAME {7250 8500}
KARMA {-7500 -8500}
STR {600 800}
DEX {200 250}
INT {1500 1800}

ANATOMY {130.0 190.0}
EVALUATINGINTEL {215.0 250.0}
MAGICRESISTANCE {150.0 170.0}
MAGERY {120.0 165.0}
PARRYING {135.0 170.0}
POISONING={125.0 150.0}
SWORDSMANSHIP {185.0 240.0}
TACTICS {200.0 260.0}
WRESTLING {165.0 230.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_poison
ADDSPELL s_curse
ADDSPELL s_poison_field

ON=@NPCRestock
TAG.POISON 3
TAG.SWAMP 4
TAG.BLOOD 2
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_potion_poisondeadly
ITEM i_potion_poisondeadly
ITEM i_potion_poisondeadly
ITEM i_nightshade,6
ITEM i_toxic_armor
ITEM i_toxic_arms
ITEM i_toxic_leggings
ITEM i_toxic_gorget
ITEM i_toxic_gloves
ITEM i_toxic_shield
ITEM i_toxic_helm
ITEM i_poison_blade
ITEM i_gold,{900 1300}

ON=@Death
NEWNPC c_elem_swamp
NEWNPC c_elem_swamp

[CHARDEF c_bloodfiend]
ID=c_daemon
NAME=Blood Fiend
DAM={35 52}
ARMOR=48
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,t_blood,c_bloodfiend,c_elem_blood
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Blood Fiend

ON=@Create
NPC brain_monster
COLOR colors_blood
FAME {8500 9000}
KARMA {-7750 -8750}
STR {800 1050}
DEX {400 550}
INT {1500 2000}

ANATOMY {180.0 240.0}
EVALUATINGINTEL {245.0 260.0}
MAGICRESISTANCE {170.0 190.0}
MAGERY {180.0 225.0}
PARRYING {165.0 190.0}
POISONING={200.0 215.0}
SWORDSMANSHIP {195.0 270.0}
TACTICS {200.0 260.0}
WRESTLING {165.0 230.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_poison
ADDSPELL s_curse
ADDSPELL s_energy_vortex
ADDSPELL s_summon_undead
ADDSPELL s_mana_vampire
ADDSPELL s_mass_curse
ADDSPELL s_energy_bolt
ADDSPELL s_poison_field

ON=@NPCRestock
TAG.POISON 3
TAG.SWAMP 3
TAG.BLOOD 4
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_blood_armor
ITEM i_blood_arms
ITEM i_blood_leggings
ITEM i_blood_gorget
ITEM i_blood_gloves
ITEM i_blood_shield
ITEM i_blood_helm
ITEM i_blood_sword
ITEM i_gold,{800 2000}

ON=@Death
NEWNPC c_elem_blood
NEWNPC c_elem_blood

[CHARDEF c_holyangel]
ID=c_daemon
NAME=Holy Angel
DAM={30 50}
ARMOR=45
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_holyangel,c_elem_holy
SHELTER=r_shrines,t_shrine
AVERSIONS=r_civilization,r_dungeon
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Holy Angel

ON=@Create
NPC brain_human
COLOR 0424
FAME {8000 8500}
KARMA 10000
STR {750 900}
DEX {350 430}
INT {1600 1750}

ANATOMY {180.0 240.0}
EVALUATINGINTEL {245.0 260.0}
MAGICRESISTANCE {170.0 190.0}
MAGERY {180.0 225.0}
PARRYING {165.0 190.0}
SWORDSMANSHIP {195.0 270.0}
TACTICS {200.0 260.0}
WRESTLING {165.0 230.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_lightning
ADDSPELL s_flamestrike

ON=@NPCRestock
TAG.HOLY 4
TAG.DARK 0
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_holy_armor
ITEM i_holy_arms
ITEM i_holy_leggings
ITEM i_holy_gorget
ITEM i_holy_gloves
ITEM i_holy_shield
ITEM i_holy_helm
ITEM i_gold,{600 760}

ON=@Death
NEWNPC c_elem_holy
NEWNPC c_elem_holy

[CHARDEF c_shadowfiend]
ID=c_daemon
NAME=Shadow Fiend
DAM={30 50}
ARMOR=45
RESOURCES=i_daemon_bone 8
DESIRES=i_gold,c_shadowfiend,c_elem_shadow
SHELTER=r_dungeon,r_spooky
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Daemons & Gargoyles
DESCRIPTION=Shadow Fiend

ON=@Create
NPC brain_monster
COLOR 01
FAME {8000 8500}
KARMA -10000
STR {450 550}
DEX {210 330}
INT {1000 1300}

ANATOMY {180.0 240.0}
EVALUATINGINTEL {245.0 260.0}
MAGICRESISTANCE {170.0 190.0}
MAGERY {180.0 225.0}
PARRYING {165.0 190.0}
SWORDSMANSHIP {195.0 270.0}
TACTICS {200.0 260.0}
WRESTLING {165.0 230.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_poison
ADDSPELL s_curse
ADDSPELL s_poison_field
ADDSPELL s_mass_curse

ON=@NPCRestock
TAG.POISON 2
TAG.BLOOD 2
TAG.HOLY 0
TAG.DARK 4
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_jewel
ITEM i_shadow_armor
ITEM i_shadow_arms
ITEM i_shadow_leggings
ITEM i_shadow_gorget
ITEM i_shadow_gloves
ITEM i_shadow_shield
ITEM i_shadow_helm
ITEM i_shadow_sword
ITEM i_gold,{600 760}

ON=@Death
NEWNPC c_elem_shadow
NEWNPC c_elem_shadow

[CHARDEF c_elem_lightning]
ID=c_elem_fire
NAME=Lightning Elemental
CAN=mt_walk|mt_run|mt_usehands|mt_equip
DAM={5 16}
ARMOR=22
BLOODCOLOR 049d
DESIRES=c_elem_lightning,c_lightningfiend
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Lightning Elemental

ON=@Create
COLOR 07ab
NPC brain_monster
FAME {5500 6000}
KARMA {-4500 -6000}
STR {130 170}
DEX {165 185}
INT {165 195}
TIMER {3 6}

ANATOMY {60.0 80.0}
EVALUATINGINTEL {65.0 90.0}
MAGERY {60.0 75.0}
MAGICRESISTANCE {60.0 75.0}
PARRYING {65.0 75.0}
SWORDSMANSHIP {70.0 100.0}
TACTICS {80.0 100.0}
WRESTLING {60.0 80.0}

f_default_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_lightning
ADDSPELL s_chain_lightning

ON=@NPCRestock
TAG.EARTH 0
TAG.WIND 0
TAG.LIGHTNING 3
ITEM i_gold,{50 350}
ITEM i_cutlass_power
COLOR 049d
NAME Thunder Sabre

ON=@Timer
SOUND snd_spell_lightning
TIMER {3 6}
RETURN 1

[CHARDEF c_elem_ice]
ID=c_elem_earth
NAME=Ice Elemental
CAN=mt_walk|mt_usehands
DAM={5 24}
ARMOR=26
DESIRES=c_elem_ice,c_elem_snow,c_icefiend,c_snowfiend
SHELTER=r_dungeon,r_snow
AVERSIONS=r_civilization,r_lava
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Ice Elemental

ON=@Create
NPC brain_monster
COLOR color_ice
FAME {6000 7500}
KARMA {-6500 -7500}
STR {155 185}
DEX {85 115}
INT {170 190}

ANATOMY {75.0 90.0}
EVALUATINGINTEL {85.0 100.0}
MAGICRESISTANCE {70.0 95.0}
PARRYING {75.0 95.0}
TACTICS {80.0 110.0}
WRESTLING {90.0 130.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 2
TAG.FIRE 0
TAG.ICE 3
TAG.SNOW 3
ITEM i_gold,{150 200}

[CHARDEF c_elem_snow]
ID=c_elem_air
NAME=Snow Elemental
CAN=mt_walk|mt_run|mt_fly|mt_usehands
DAM={30 35}
ARMOR=28
DESIRES=r_snow,c_elem_ice,c_elem_snow,c_icefiend,c_snowfiend
SHELTER=r_snow
AVERSIONS=r_civilization,r_lava
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Snow Elemental

ON=@Create
NPC brain_monster
COLOR color_snow
FAME {1000 7000}
KARMA {-6500 -7500}
STR {325 355}
DEX {190 210}
INT {200 500}

ANATOMY {90.0 150.0}
EVALUATINGINTEL {130.0 160.0}
MAGERY {100.0 150.0}
MAGICRESISTANCE {80.0 95.0}
PARRYING {85.0 125.0}
TACTICS {120.0 150.0}
WRESTLING {100.0 150.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 2
TAG.FIRE 0
TAG.ICE 3
TAG.SNOW 3
ITEM i_gold,{345 600}

[CHARDEF c_elem_poison]
ID=c_elem_air
NAME=Poison Elemental
DAM={8 25}
ARMOR=27
DESIRES=c_elem_poison,c_poisonfiend
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Poison Elemental

ON=@Create
NPC brain_monster
COLOR colors_poison
FAME {7500 8500}
KARMA {-6500 -7500}
STR {425 515}
DEX {175 190}
INT {360 435}

ANATOMY {120.0 160.0}
EVALUATINGINTEL {140.0 180.0}
MAGERY {170.0 190.0}
MAGICRESISTANCE {110.0 135.0}
PARRYING {155.0 175.0}
POISONING={70.0 80.0}
TACTICS {170.0 230.0}
WRESTLING {140.0 190.0}

f_default_elemental

ON=@NPCRestock
TAG.POISON 3
TAG.SWAMP 2
TAG.BLOOD 2
ITEM random_potion
ITEM random_potion
ITEM ttm_lvl4,R99
ITEM random_jewel
ITEM random_jewel
ITEM i_gold,{600 900}

[CHARDEF c_elem_swamp]
ID=c_elem_water
NAME=Swamp Elemental
DAM={9 25}
ARMOR=28
DESIRES=c_elem_swamp,c_swampfiend
SHELTER=r_dungeon,r_sewers,r_swamp
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Swamp Elemental

ON=@Create
NPC brain_monster
COLOR 0110
FAME {7000 8000}
KARMA {-6500 -7500}
STR {300 350}
DEX {150 200}
INT {190 315}

ANATOMY {90.0 150.0}
EVALUATINGINTEL {130.0 160.0}
MAGERY {100.0 150.0}
MAGICRESISTANCE {80.0 95.0}
PARRYING {85.0 125.0}
POISONING={90.0 105.0}
TACTICS {120.0 150.0}
WRESTLING {100.0 150.0}

f_default_elemental

ON=@NPCRestock
ITEM i_gold,{300 450}

[CHARDEF c_elem_blood]
ID=c_elem_water
NAME=Blood Elemental
DAM={12 40}
ARMOR=30
DESIRES=t_blood,c_elem_blood,c_bloodfiend
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Blood Elemental

ON=@Create
NPC brain_monster
COLOR colors_blood
FAME {8000 8500}
KARMA {-8500 -9000}
STR {525 615}
DEX {200 350}
INT {800 1000}

ANATOMY {190.0 250.0}
EVALUATINGINTEL {230.0 260.0}
MAGERY {200.0 250.0}
MAGICRESISTANCE {180.0 195.0}
PARRYING {185.0 225.0}
POISONING={120.0 150.0}
TACTICS {220.0 250.0}
WRESTLING {200.0 250.0}

f_default_elemental

ON=@NPCRestock
TAG.POISON 4
TAG.SWAMP 2
TAG.BLOOD 3
ITEM random_jewel,{2 4}
ITEM i_blood_vial
ITEM i_blood_vial
ITEM i_gold,{500 1000}
ITEM {i_blood_sword 1 0 3}

[CHARDEF c_elem_holy]
ID=c_elem_fire
NAME=Holy Elemental
DAM={7 26}
ARMOR=28
BLOODCOLOR 07a1
DESIRES=c_elem_holy,c_holy_angel
SHELTER=t_shrine,r_shrine
AVERSIONS=r_civilization,r_dungeon
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Holy Elemental

ON=@Create
NPC brain_human
COLOR 07a1
FAME {7000 8000}
KARMA 9500
STR {300 400}
DEX {200 300}
INT {400 500}

ANATOMY {90.0 150.0}
EVALUATINGINTEL {135.0 180.0}
MAGERY {110.0 140.0}
MAGICRESISTANCE {90.0 95.0}
PARRYING {90.0 165.0}
TACTICS {120.0 160.0}
WRESTLING {170.0 200.0}

f_default_elemental

ITEMNEWBIE i_light_source
ITEMNEWBIE i_spellbook
ADDSPELL s_magic_arrow
ADDSPELL s_fireball
ADDSPELL s_fire_field
ADDSPELL s_explosion
ADDSPELL s_flamestrike
ADDSPELL s_meteor_swarm
ADDSPELL s_summon_elem_fire
ADDSPELL s_fire_bolt

ON=@NPCRestock
TAG.HOLY 3
TAG.DARK 0
ITEM i_gold,{500 650}

[CHARDEF c_elem_shadow]
ID=c_elem_water
NAME=Shadow Elemental
DAM={7 26}
ARMOR=23
BLOODCOLOR 01
DESIRES=c_elem_shadow,c_shadowfiend
SHELTER=r_dungeon
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Shadow Elemental

ON=@Create
NPC brain_monster
COLOR 01
FAME {7000 8000}
KARMA -9500
STR {300 400}
DEX {200 300}
INT {400 500}

ANATOMY {90.0 150.0}
EVALUATINGINTEL {135.0 180.0}
MAGERY {110.0 140.0}
MAGICRESISTANCE {90.0 95.0}
PARRYING {90.0 165.0}
TACTICS {120.0 160.0}
WRESTLING {170.0 200.0}

f_default_elemental

ON=@NPCRestock
TAG.HOLY 0
TAG.DARK 3
ITEM i_gold,{500 650}

[CHARDEF c_elem_sand]
ID=c_elem_earth
NAME=Sand Elemental
CAN=mt_walk|mt_usehands
DAM={7 15}
ARMOR=15
BLOODCOLOR 07ad
DESIRES=c_elem_sand
SHELTER=r_dungeon,r_desert
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Sand Elemental

ON=@Create
NPC brain_monster
COLOR 07ad
FAME {7000 8000}
KARMA {-8000 -8500}
STR {500 655}
DEX {165 185}
INT {340 390}

ANATOMY {90.0 100.0}
EVALUATINGINTEL {90.0 100.0}
MAGERY {90.0 100.0}
MAGICRESISTANCE {90.0 95.0}
PARRYING {90.0 100.0}
TACTICS {90.0 100.0}
WRESTLING {90.0 100.0}

f_default_elemental

ON=@NPCRestock
TAG.EARTH 3
TAG.WIND 3
TAG.WATER 0
ITEM i_gold,{600 900}

[CHARDEF c_elem_acid]
ID=c_elem_water
NAME=Acid Elemental
DAM={4 25}
ARMOR=34
BLOODCOLOR colors_yellow
DESIRES=c_elem_acid
SHELTER=r_dungeon,r_sewers
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Acid Elemental

ON=@Create
NPC brain_monster
COLOR colors_yellow
FAME {6000 7800}
KARMA {-6000 -7400}
STR {235 290}
DEX {120 190}
INT {210 345}

ANATOMY {300.0 400.0}
EVALUATINGINTEL {300.0 400.0}
MAGERY {140.0 190.0}
MAGICRESISTANCE {90.0 130.0}
PARRYING {85.0 145.0}
POISONING={105.0 140.0}
TACTICS {140.0 190.0}
WRESTLING {180.0 210.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 4
TAG.FIRE 4
TAG.POISON 4
TAG.SWAMP 4
TAG.BLOOD 4
ITEM i_gold,{400 700}

[CHARDEF c_elem_magma]
ID=c_elem_earth
NAME=Magma Elemental
CAN=mt_walk|mt_usehands
DAM={5 20}
ARMOR=25
BLOODCOLOR colors_lava
DESIRES=c_elem_magma
SHELTER=r_dungeon,r_lava
AVERSIONS=r_civilization,r_snow,r_water
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Magma Elemental

ON=@Create
NPC brain_monster
COLOR 0486
FAME {5000 7000}
KARMA {-5500 -6500}
STR {155 340}
DEX {80 85}
INT {75 95}

ANATOMY {60.0 110.0}
MAGICRESISTANCE {45.0 80.0}
PARRYING {95.0 100.0}
TACTICS {65.0 100.0}
WRESTLING {70.0 100.0}

f_default_elemental

ON=@NPCRestock
TAG.WATER 0
TAG.FIRE 3
TAG.ICE 0
TAG.SNOW 2
ITEM i_gold,{450 700}

ON=@GetHit
IF <SRC.DISTANCE><3
DORAND 17
BEGIN
IF <SRC.FINDLAYER(layer_hand2).UID>
SRC.FINDLAYER(layer_hand2).HITPOINTS <SRC.FINDLAYER(layer_hand2).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_shoes).UID>
SRC.FINDLAYER(layer_shoes).HITPOINTS <SRC.FINDLAYER(layer_shoes).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_pants).UID>
SRC.FINDLAYER(layer_pants).HITPOINTS <SRC.FINDLAYER(layer_pants).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_shirt).UID>
SRC.FINDLAYER(layer_shirt).HITPOINTS <SRC.FINDLAYER(layer_shirt).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_helm).UID>
SRC.FINDLAYER(layer_helm).HITPOINTS <SRC.FINDLAYER(layer_helm).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_gloves).UID>
SRC.FINDLAYER(layer_gloves).HITPOINTS <SRC.FINDLAYER(layer_gloves).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_ring).UID>
SRC.FINDLAYER(layer_ring).HITPOINTS <SRC.FINDLAYER(layer_ring).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_collar).UID>
SRC.FINDLAYER(layer_collar).HITPOINTS <SRC.FINDLAYER(layer_collar).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_apron).UID>
SRC.FINDLAYER(layer_half_apron).HITPOINTS <SRC.FINDLAYER(layer_half_apron).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_chest).UID>
SRC.FINDLAYER(layer_chest).HITPOINTS <SRC.FINDLAYER(layer_chest).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_wrist).UID>
SRC.FINDLAYER(layer_wrist).HITPOINTS <SRC.FINDLAYER(layer_wrist).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_tunic).UID>
SRC.FINDLAYER(layer_tunic).HITPOINTS <SRC.FINDLAYER(layer_tunic).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_ears).UID>
SRC.FINDLAYER(layer_ears).HITPOINTS <SRC.FINDLAYER(layer_ears).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_arms).UID>
SRC.FINDLAYER(layer_arms).HITPOINTS <SRC.FINDLAYER(layer_arms).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_cape).UID>
SRC.FINDLAYER(layer_cape).HITPOINTS <SRC.FINDLAYER(layer_cape).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_robe).UID>
SRC.FINDLAYER(layer_robe).HITPOINTS <SRC.FINDLAYER(layer_robe).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_skirt).UID>
SRC.FINDLAYER(layer_skirt).HITPOINTS <SRC.FINDLAYER(layer_skirt).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Magma Elemental damages your armor.
ENDIF
END
ENDDO
ENDIF

[CHARDEF c_elem_lava]
ID=c_elem_fire
NAME=Lava Elemental
DAM={8 24}
ARMOR=20
BLOODCOLOR colors_lava
FOODTYPE=t_fire
DESIRES=c_elem_lava
SHELTER=r_dungeon,r_lava
AVERSIONS=r_civilizaton,r_snow,r_water
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Elementals
DESCRIPTION=Lava Elemental

ON=@Create
NPC brain_monster
COLOR 077a
FAME {6000 8000}
KARMA {-7000 -8000}
STR {300 500}
DEX {190 195}
INT {80 120}

ANATOMY {80.0 140.0}
EVALUATINGINTEL {160.0 240.0}
PARRYING {105.0 140.0}
MAGERY {80.0 120.0}
MAGICRESISTANCE {90.0 130.0}
TACTICS {115.0 150.0}
WRESTLING {90.0 130.0}

ITEMNEWBIE i_light_source
ITEMNEWBIE i_spellbook.
ADDSPELL s_magic_arrow
ADDSPELL s_fireball
ADDSPELL s_fire_field
ADDSPELL s_explosion
ADDSPELL s_flamestrike
ADDSPELL s_meteor_swarm
ADDSPELL s_summon_elem_fire
ADDSPELL s_fire_bolt

f_default_elemental

ON=@NPCRestock
TAG.WATER 0
TAG.FIRE 4
TAG.ICE 0
TAG.SNOW 2
ITEM i_gold,{200 400}

ON=@GetHit
IF <SRC.DISTANCE><3
DORAND 17
BEGIN
IF <SRC.FINDLAYER(layer_hand2).UID>
SRC.FINDLAYER(layer_hand2).HITPOINTS <SRC.FINDLAYER(layer_hand2).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_shoes).UID>
SRC.FINDLAYER(layer_shoes).HITPOINTS <SRC.FINDLAYER(layer_shoes).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_pants).UID>
SRC.FINDLAYER(layer_pants).HITPOINTS <SRC.FINDLAYER(layer_pants).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_shirt).UID>
SRC.FINDLAYER(layer_shirt).HITPOINTS <SRC.FINDLAYER(layer_shirt).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_helm).UID>
SRC.FINDLAYER(layer_helm).HITPOINTS <SRC.FINDLAYER(layer_helm).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_gloves).UID>
SRC.FINDLAYER(layer_gloves).HITPOINTS <SRC.FINDLAYER(layer_gloves).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_ring).UID>
SRC.FINDLAYER(layer_ring).HITPOINTS <SRC.FINDLAYER(layer_ring).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_collar).UID>
SRC.FINDLAYER(layer_collar).HITPOINTS <SRC.FINDLAYER(layer_collar).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_apron).UID>
SRC.FINDLAYER(layer_half_apron).HITPOINTS <SRC.FINDLAYER(layer_half_apron).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_chest).UID>
SRC.FINDLAYER(layer_chest).HITPOINTS <SRC.FINDLAYER(layer_chest).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_wrist).UID>
SRC.FINDLAYER(layer_wrist).HITPOINTS <SRC.FINDLAYER(layer_wrist).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_tunic).UID>
SRC.FINDLAYER(layer_tunic).HITPOINTS <SRC.FINDLAYER(layer_tunic).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_ears).UID>
SRC.FINDLAYER(layer_ears).HITPOINTS <SRC.FINDLAYER(layer_ears).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_arms).UID>
SRC.FINDLAYER(layer_arms).HITPOINTS <SRC.FINDLAYER(layer_arms).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_cape).UID>
SRC.FINDLAYER(layer_cape).HITPOINTS <SRC.FINDLAYER(layer_cape).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_robe).UID>
SRC.FINDLAYER(layer_robe).HITPOINTS <SRC.FINDLAYER(layer_robe).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
BEGIN
IF <SRC.FINDLAYER(layer_skirt).UID>
SRC.FINDLAYER(layer_skirt).HITPOINTS <SRC.FINDLAYER(layer_skirt).HITPOINTS>+-{3 10}
SRC.MESSAGE The intense heat from the Lava Elemental damages your armor.
ENDIF
END
ENDDO
ENDIF

[CHARDEF c_cursed_frog]
ID=c_bullfrog
NAME=Cursed Frog
CAN=mt_walk|mt_swim
DAM={0 1}
ARMOR=1
RESOURCES=i_ribs_raw 2,i_hide 4
FOODTYPE=t_meat_raw 5
DESIRES=c_bullfrog
SHELTER=r_swamp,r_water,r_caves
AVERSIONS=r_civilization
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Miscellaneous
DESCRIPTION=Cursed Frog

ON=@Create
NPC brain_animal
COLOR {0 1 colors_green 1 colors_yellow 1 colors_brown 1}
FAME {20 60}
KARMA {-50 -100}
STR 10
DEX 10
INT 10

ALLSKILLS 1.0

f_default_elemental

ON=@NPCRestock
ITEM i_gold,{10 50}

[CHARDEF c_skeleton_mage]
ID=c_skeleton
NAME=Skeleton Mage
CAN=mt_walk
DAM={2 8}
ARMOR=19
RESOURCES=i_bone 8
DESIRES=i_gold,t_reagent,c_skeleton_mage,c_skeleton,c_skeleton_w_sword,c_skeleton_archer,c_skeleton_knight
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Skeleton Mage

ON=@Create
NPC brain_undead
FAME {2000 3500}
KARMA {-3000 -5000}
COLOR colors_red
STR {75 100}
DEX {55 75}
INT {185 210}

EVALUATINGINTEL {80.0 130.0}
MAGERY {60.0 70.0}
MAGICRESISTANCE {45.0 60.0}
PARRYING {45.0 55.0}
TACTICS {45.0 60.0}
WRESTLING {45.0 55.0}

f_undead_elemental

ON=@NPCRestock
ITEM i_gold,{50 130}

[CHARDEF c_undead_horde]
ID=c_skeleton
NAME=Undead Horde
CAN=mt_walk|
DAM={2 34}
ARMOR=19
RESOURCES=i_bone 12
DESIRES=t_bone,t_corpse
SHELTER=r_spooky,r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Undead Horde

ON=@Create
NPC brain_undead
FAME {1400 2300}
KARMA {-3000 -3600}
COLOR {0 1 colors_black 1 colors_neutral 1 colors_red 1 colors_yellow 1 colors_white 1 colors_brown 1}
STR {120 190}
DEX {10 30}
INT {10 15}

ANATOMY {110.0 130.0}
ARCHERY {120.0 150.0}
EVALUATINGINTEL {110.0 130.0}
FENCING {120.0 150.0}
HIDING {85.0 130.0}
MACEFIGHTING {120.0 150.0}
MAGERY {20.0 45.0}
MAGICRESISTANCE {145.0 190.0}
SWORDSMANSHIP {120.0 150.0}
TACTICS {130.0 160.0}
WRESTLING {120.0 150.0}

f_undead_elemental

ON=@NPCRestock
DISPID {c_skeleton 1 c_skeleton_w_axe 1 c_skeleton_w_sword 1 c_skeleton_archer 1 c_wraith 1 c_mummy 1}
TAG.ICE 4
ITEM random_shield
ITEM random_weapon
ITEM random_helmet
ITEM random_chest_armor
ITEM random_leg_armor
ITEM random_arm_armor
ITEM random_gloves
ITEM random_gorget
ITEM i_gold,{0 100}

ON=@Death
ACT.NEWNPC {c_skeleton 1 c_skeleton_w_axe 1 c_skeleton_w_sword 1 c_skeleton_archer 1 c_wraith 1 c_mummy 1}
ACT.ACT.P <ACT.P>
ACT.ACT.ATTACK <ACT.UID>
ACT.NEWNPC {c_skeleton 1 c_skeleton_w_axe 1 c_skeleton_w_sword 1 c_skeleton_archer 1 c_wraith 1 c_mummy 1}
ACT.ACT.P <ACT.P>
ACT.ACT.ATTACK <ACT.UID>
ACT.NEWNPC {c_skeleton 1 c_skeleton_w_axe 1 c_skeleton_w_sword 1 c_skeleton_archer 1 c_wraith 1 c_mummy 1}
ACT.ACT.P <ACT.P>
ACT.ACT.ATTACK <ACT.UID>
RETURN 0

[CHARDEF c_skeleton_knight]
ID=c_skeleton_w_sword
NAME=Skeleton Knight
CAN=mt_walk
DAM={5 20}
ARMOR=26
RESOURCES=i_bone 8
DESIRES=i_gold,c_skeleton_knight,c_skeleton,c_skeleton_w_sword,c_skeleton_archer,c_skeleton_mage
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Skeleton Knight

ON=@Create
NPC brain_undead
FAME {5000 6000}
KARMA {-4500 -6000}
STR {195 250}
DEX {75 95}
INT {35 60}

ANATOMY {90.0 160.0}
MAGICRESISTANCE {120.0 190.0}
PARRYING {125.0 155.0}
SWORDSMANSHIP {150.0 160.0}
TACTICS {145.0 150.0}
WRESTLING {145.0 155.0}

f_undead_elemental

ON=@NPCRestock
ITEM random_bone_armor
ITEM random_potion
ITEM random_potion
ITEM random_jewel
ITEM random_platemail_armor
ITEM i_shield_wood
ITEM i_scimitar
ITEM i_gold,{100 300}

[CHARDEF c_blood_knight_skeleton]
ID=c_skeleton_w_sword
NAME=Blood Knight
CAN=mt_walk
DAM={15 40}
ARMOR=40
RESOURCES=i_blood_vial 3,i_bone 8
DESIRES=i_gold,c_blood_knight_skeleton
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Blood Knight

ON=@Create
NPC brain_undead
COLOR colors_blood
FAME {6500 8000}
KARMA {-7500 -8000}
STR {450 650}
DEX {120 195}
INT {100 160}

ANATOMY {120.0 230.0}
MAGICRESISTANCE {95.0 130.0}
PARRYING {185.0 195.0}
SWORDSMANSHIP {185.0 195.0}
TACTICS {185.0 300.0}
WRESTLING {185.0 195.0}

f_undead_elemental

ON=@NPCRestock
TAG.BLOOD 4
ITEM i_scimitar_power
COLOR colors_blood
NAME=Scimitar of Blood
ITEM i_gold,{2000 3000}
ITEM i_wooden_shield_invulnerability
COLOR colors_blood
NAME=Wooden Shield of Blood
ITEM i_blood_vial,{2 8}

[CHARDEF c_burning_dead]
ID=c_skeleton_w_sword
NAME=Burning Dead
CAN=mt_walk
DAM={7 30}
ARMOR=34
RESOURCES=i_bone 8
DESIRES=i_gold,t_fire,c_burning_dead
SHELTER=r_dungeon,r_spooky,r_graveyard,r_lava
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Burning Dead

ON=@Create
NPC brain_undead
COLOR 077a
FAME {7000 8000}
KARMA {-8000 -8500}
STR {350 450}
DEX {135 320}
INT {20 65}

ANATOMY {145.0 230.0}
EVALUATINGINTEL {20.0 40.0}
MAGERY {100.0 120.0}
MAGICRESISTANCE {75.0 90.0}
PARRYING {85.0 95.0}
SWORDSMANSHIP {255.0 295.0}
TACTICS {145.0 190.0}
WRESTLING {255.0 295.0}

f_undead_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_fireball
ADDSPELL s_flamestrike

ON=@NPCRestock
TAG.WATER 0
TAG.FIRE 4
ITEM i_gold,{500 700}
ITEM i_cutlass_vanquishing
COLOR 077a
NAME Flame Sabre
ITEM i_wooden_shield_invulnerability
COLOR 077a
NAME Flame Shield

[CHARDEF c_ghost]
ID=c_grim_reaper
NAME=Ghost
CAN=mt_ghost|mt_walk
DAM={12 20}
ARMOR={20 25}
DESIRES=i_gold,c_ghost
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Ghost

ON=@Create
NPC brain_undead
COLOR colors_gray
KARMA {-4000 -2000}
FAME {1500 3000}
STR {100 125}
DEX {90 120}
INT {60 90}

MAGICRESISTANCE {60.0 85.0}
PARRYING {60.0 85.0}
TACTICS {60.0 85.0}
WRESTLING {60.0 85.0}

f_undead_elemental

ON=@NPCRestock
ITEM {average_undead_backpack 1 rich_undead_backpack 1}
ITEM {random_gold_pile 1 0 2}

[CHARDEF c_revenant]
ID=c_grim_reaper
NAME=Revenant
CAN=mt_walk|mt_run|mt_usehands|mt_equip|mt_ghost
DAM={100 200}
ARMOR=50
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Revenant

ON=@Create
NPC brain_undead
COLOR 17969
KARMA -1 //fame/karma will be artificialy given
FAME 0
STR {9000 10000}
DEX {29000 30000}
INT {10 20}

ANATOMY {2800.0 3000.0}
MAGICRESISTANCE {2800.0 3000.0}
PARRYING {2800.0 3000.0}
TACTICS {2800.0 3000.0}
SWORDSMANSHIP {2800.0 3000.0}
WRESTLING {2800.0 3000.0}

f_undead_elemental

ON=@NPCRestock
SPEECHCOLOR 020
TAG.EARTH 3
TAG.WATER 3
TAG.FIRE 3
TAG.WIND 3
TAG.LIGHTNING 3
TAG.ICE 3
TAG.POISON 3
TAG.SNOW 3
TAG.SWAMP 3
TAG.BLOOD 3
TAG.HOLY 0
TAG.DARK 4
TAG.ETHER 3
ITEMNEWBIE i_halberd
COLOR 17969

ON=@NPCSeeNewPlayer
IF <SRC.Kills>>5
ATTACK
ELSE
RETURN 1
ENDIF

ON=@Click
SAY <NAME>
RETURN 1

ON=@Death
IF (<ACT.KILLS>>0)&&(<ACT.KILLS><20)
ACT.MESSAGE You have been redeemed of your sins.
ACT.KILS 0
ELSE
ACT.MESSAGE You have been forgiven of some of your trespasses.
ACT.KILLS <ACT.KILLS>+-20
ENDIF
IF <ACT.KILLS>==0
IF <ACT.FAME><9500
ACT.FAME 10000
ACT.SYSMESSAGE You have gained huge amounts of fame.
ELSEIF <ACT.FAME><9750
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a lot of fame.
ELSEIF <ACT.FAME><9900
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a moderate amount of fame.
ELSEIF <ACT.FAME><9950
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a little fame.
ELSE
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a bit of fame.
ENDIF
IF <ACT.KARMA><9500
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained huge amounts of karma.
ELSEIF <ACT.KARMA><9750
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a lot of karma.
ELSEIF <ACT.KARMA><9900
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a moderate amount of karma.
ELSEIF <ACT.KARMA><9950
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a little karma.
ELSE
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a bit of karma.
ENDIF
ELSE
IF <ACT.FAME><9500
ACT.FAME 10000
ACT.SYSMESSAGE You have gained huge amounts of fame.
ELSEIF <ACT.FAME><9750
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a lot of fame.
ELSEIF <ACT.FAME><9900
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a moderate amount of fame.
ELSEIF <ACT.FAME><9950
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a little fame.
ELSE
ACT.FAME 10000
ACT.SYSMESSAGE You have gained a bit of fame.
ENDIF
IF <ACT.KARMA><5000
ACT.KARMA <ACT.KARMA>+5000
ACT.SYSMESSAGE You have gained huge amounts of karma.
ELSEIF <ACT.KARMA><9500
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained huge amounts of karma.
ELSEIF <ACT.KARMA><9750
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a lot of karma.
ELSEIF <ACT.KARMA><9900
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a moderate amount of karma.
ELSEIF <ACT.KARMA><9950
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a little karma.
ELSE
ACT.KARMA 10000
ACT.SYSMESSAGE You have gained a bit of karma.
ENDIF
ENDIF

[CHARDEF c_ghoul]
ID=c_zombie
NAME=Ghoul
CAN=mt_walk
DAM={4 16}
ARMOR=19
RESOURCES={random_body_parts_1 1 random_body_parts_2 1}
FOODTYPE=t_meat_raw 20,t_corpse 2
BLOODCOLOR colors_green
DESIRES=i_gold,t_meat_raw,t_corpse,c_ghoul
SHELTER=r_dungeon,r_spooky,r_graveyard
AVERSIONS=r_civilization,t_shrine,r_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Ghoul

ON=@Create
NPC brain_undead
COLOR colors_gray
KARMA {-5000 -2500}
FAME {600 900}
STR {70 95}
DEX {50 75}
INT {40 65}

MAGICRESISTANCE {30.0 60.0}
PARRYING {40.0 70.0}
TACTICS {50.0 75.0}
WRESTLING {55.0 75.0}

f_undead_elemental

ON=@NPCRestock
ITEM random_potion
ITEM random_potion
ITEM i_gold,{100 150}

[CHARDEF c_rotting_corpse]
NAME=Rotting Corpse
CAN=mt_walk
DAM={3 7}
ARMOR=60
BLOODCOLOR colors_green
RESOURCES=t_eerie_stuff 10
FOODTYPE=t_meat_raw 20
DESIRES=i_gold,t_meat_raw,t_corpse,c_rotting_corpse
SHELTER=r_dungeon,r_spooky
AVERSIONS=t_trap,t_shrine

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Rotting Corpse

ON=@Create
NPC brain_undead
FAME {4000 6000}
KARMA {-6000 -7000}
STR {2000 3000}
DEX {30 60}
INT {45 80}

ANATOMY {50.0 80.0}
MAGICRESISTANCE {235.0 300.0}
PARRYING {60.0 80.0}
TACTICS {45.0 60.0}
WRESTLING {185.0 220.0}

f_undead_elemental

ON=@NPCRestock
TAG.IMMUNEPARALYZE 1
TAG.EARTH 3
TAG.WATER 3
TAG.FIRE 3
TAG.WIND 3
TAG.LIGHTNING 3
TAG.ICE 3
TAG.SNOW 3
TAG.SWAMP 3
TAG.BLOOD 3
TAG.DARK 3
TAG.ETHER 2
CONTAINER i_trapped_chest
ATTR attr_move_never
ITEM i_gold,{80 100}
ITEM i_bandage.{4 9}
ITEM random_jewel,{3 7}
ITEM i_garlic,{3 6}

ON=@Hit
IF (!RAND(7))&&(<ACT.TAG.POISON><3)
ACT.SPELLEFFECT s_poison 20000
ACT.DAMAGE {3 7}
RETURN 1
ELSE
ACT.DAMAGE {3 7}
RETURN 1
ENDIF

[CHARDEF c_wraith]
ID=c_spectre
NAME=Wraith
CAN=mt_ghost|mt_walk
DAM={12 20}
ARMOR={20 25}
DESIRES=c_wraith,i_gold
SHELTER=r_spooky,r_graveyard

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Wraith

ON=@Create
NPC brain_undead
COLOR 17969
KARMA {-4000 -2000}
FAME {1500 3000}
STR {100 125}
DEX {90 120}
INT {60 90}

MAGICRESISTANCE {60.0 85.0}
PARRYING {60.0 85.0}
TACTICS {60.0 85.0}
WRESTLING {60.0 85.0}

f_undead_elemental

ON=@NPCRestock
ITEM random_jewel
ITEM i_gold,{50 150}

[CHARDEF c_undead_pirate]
ID=c_skeleton_w_sword
NAME=Undead Pirate
CAN=mt_walk|mt_usehands|mt_equip
DAM={11 33}
ARMOR=25
RESOURCES=i_bone 8
DESIRES=t_bone,i_gold,c_undead_pirate
SHELTER=r_ship,r_graveyard,r_spooky
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Undead Pirate

ON=@Create
NPC brain_undead
COLOR 0249
FAME {2200 2700}
KARMA {-1900 -3400}
STR {210 340}
DEX {100 190}
INT {15 40}

ANATOMY {90.0 130.0}
MAGICRESISTANCE {85.0 120.0}
PARRYING {110.0 150.0}
TACTICS {120.0 160.0}
SWORDSMANSHIP {100.0 200.0}
WRESTLING {100.0 200.0}

f_undead_elemental

ON=@NPCRestock
TAG.WATER 4
ITEM i_shield_wood
ITEM i_cutlass
ITEM i_bandana
COLOR colors_red
ITEM {meager_undead_backpack 1 average_undead_backpack 2}

[CHARDEF c_apparition]
ID=c_spectre
NAME=Apparition
CAN=mt_walk|mt_ghost
DAM={9 25}
ARMOR=14
BLOODCOLOR 0664
DESIRES=c_apparition
SHELTER=r_spooky,r_dungeon,r_graveyard

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Apparition

ON=@Create
NPC brain_undead
COLOR 0664
FAME {1200 8000}
KARMA {-4000 -6999}
STR {210 300}
DEX {90 105}
INT {120 200}

PARRYING {85.0 95.0}
MAGICRESISTANCE {85.0 90.0}
TACTICS {145.0 160.0}
WRESTLING {145.0 155.0}

f_undead_elemental

ON=@NPCRestock
ITEM random_reagent,4
ITEM i_gold,{600 700}
ITEM i_bone,3

[CHARDEF c_undead_lord]
ID=c_man
NAME=Undead Lord
SOUND=snd_monster_ghost1
CAN=mt_equip|mt_usehands|mt_walk|mt_male
DAM={7 19}
ARMOR=12
DESIRES=c_undead_lord,brain_undead,r_spooky
SHELTER=r_graveyard,r_spooky,r_dungeon

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Undead Lord

ON=@Create
NPC brain_undead
COLOR 03d6
KARMA {-5000 -8500}
FAME {2000 4500}
STR {150 400}
DEX {20 45}
INT {50 57}

MAGICRESISTANCE {50.0 80.0}
PARRYING {65.0 105.0}
TACTICS {80.0 110.0}
SWORDSMANSHIP {90.0 100.0}
ANATOMY {50.0 90.0}

f_undead_elemental

ON=@NPCRestock
ITEM i_platemail_chest_invulnerability
COLOR 0750
NAME=Rusted and Dirty Armor
ITEM i_platemail_leggings_invulnerability
COLOR 0750
NAME=Rusted and Dirty Leggings
ITEM i_platemail_arms_invulnerability
COLOR 0750
NAME=Rusted and Dirty Shoulder Plates
ITEM i_platemail_helm_invulnerability
COLOR 0750
NAME=Rusted and Dirty Helm
ITEM i_platemail_gorget_invulnerability
color=0750
NAME=Rusted and Dirty Gorget
COLOR 0750
NAME=Rusted and Dirty Gauntlets
ITEM i_cape
COLOR 0750
NAME=Tattered and Torn Cloak
ITEM i_viking_sword_vanquishing
COLOR 0750
NAME=Rusted and Dirty Viking Sword
ITEM i_heater_shield_invulnerability
COLOR 0750
NAME=Rusted and Dirty Shield
ITEM i_gold,{120 300}

[CHARDEF c_ice_liche]
ID=c_liche
NAME=Ice Liche
CAN=mt_walk|mt_usehands
DAM={4 12}
ARMOR=12
BLOODCOLOR color_ice
DESIRES=t_bone,i_gold,t_wand,t_reagent,r_snow,c_ice_liche
SHELTER=r_dungeon,r_caves,r_spooky,r_snow,r_graveyard

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Ice Liche

ON=@Create
COLOR color_ice
NPC brain_undead
FAME {900 6000}
KARMA {-6000 -8999}
STR {85 110}
DEX {65 95}
INT {300 365}

PARRYING {45.0 95.0}
MAGERY {85.0 105.0}
MAGICRESISTANCE {75.0 90.0}
TACTICS {60.0 80.0}
EVALUATINGINTEL {105.0 200.0}
WRESTLING {65.0 95.0}

f_undead_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_energy_bolt
ADDSPELL s_flamestrike
ADDSPELL s_explosion
ADDSPELL s_paralyze
ADDSPELL s_summon_undead
ADDSPELL s_animate_dead
ADDSPELL s_fire_bolt
ADDSPELL s_hallucination

ON=@NPCRestock
ITEM ttm_lvl3,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_magic_wands
ITEM random_magic_wands
ITEM i_gnarled_staff
ITEM i_gold,{400 500}

[CHARDEF c_black_liche]
ID=c_liche
NAME=Black Liche
CAN=mt_walk|mt_usehands
DAM={9 15}
ARMOR=16
BLOODCOLOR 01
DESIRES=t_bone,i_gold,t_wand,t_reagent,c_black_liche
SHELTER=r_dungeon,r_caves,r_spooky,r_graveyard

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Black Liche

ON=@Create
COLOR 01
NPC brain_undead
FAME {900 6000}
KARMA {-6000 -8999}
STR {200 235}
DEX {85 98}
INT {200 500}

PARRYING {65.0 85.0}
MAGERY {80.0 95.0}
MAGICRESISTANCE {70.0 90.0}
TACTICS {70.0 90.0}

ITEMNEWBIE i_spellbook
ADDSPELL s_energy_bolt
ADDSPELL s_flamestrike
ADDSPELL s_explosion
ADDSPELL s_paralyze
ADDSPELL s_summon_undead
ADDSPELL s_animate_dead
ADDSPELL s_fire_bolt
ADDSPELL s_Hallucination

f_undead_elemental

ON=@NPCRestock
ITEM ttm_lvl3,R99
ITEM random_jewel
ITEM random_jewel
ITEM random_magic_wands
ITEM random_magic_wands
ITEM i_gnarled_staff
ITEM i_gold,{400 500}
ITEM i_dye_tub
COLOR 01
NAME=black dye tub

[CHARDEF c_liche_lord]
ID=c_liche
NAME=Liche Lord
CAN=mt_walk|mt_usehands
DAM={6 18}
ARMOR=25
BLOODCOLOR colors_green
DESIRES=t_bone,i_gold,t_wand,t_reagent,e_undead,c_liche,c_liche_lord
SHELTER=r_dungeon,r_caves,r_spooky,r_graveyard

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Liche Lord

ON=@Create
FAME {9000 9500}
KARMA {-9000 -9999}
NPC brain_undead
STR {415 505}
DEX {96 115}
INT {565 655}

PARRYING {55.0 65.0}
MAGERY {90.0 100.0}
MAGICRESISTANCE {90.0 100.0}
TACTICS {50.0 70.0}
WRESTLING {60.0 80.0}

f_undead_elemental

ON=@NPCRestock
ITEM ttm_lvl4
ITEM random_jewel
ITEM random_jewel
ITEM random_magic_wands
ITEM random_magic_wands
ITEM i_gnarled_staff
ITEM i_blackmoor,{5 10}
ITEM i_gold,{700 800}

[CHARDEF c_ancient_liche]
ID=c_liche
NAME=Ancient Liche
CAN=mt_walk|mt_usehands
DAM={20 40}
ARMOR=29
BLOODCOLOR colors_green
DESIRES=t_bone,i_gold,t_wand,t_reagent,c_ancient_liche
SHELTER=r_dungeon,r_caves,r_spooky,r_graveyard

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Ancient Liche

ON=@Create
COLOR 0751
NPC brain_undead
FAME {9000 9500}
KARMA {-9000 -9999}
STR {1000 1500}
DEX {500 600}
INT {3000 5000}

PARRYING {100.0 165.0}
MAGERY {300.0 500.0}
MAGICRESISTANCE {125.0 190.0}
TACTICS {170.0 290.0}
WRESTLING {120.0 150.0}
EVALUATINGINTEL {450.0 800.0}

f_undead_elemental

ITEMNEWBIE i_spellbook
ADDSPELL s_summon_daemon

ON=@NPCRestock
ITEM ttm_lvl4
ITEM random_jewel
ITEM random_jewel
ITEM random_magic_wands
ITEM random_magic_wands
ITEM i_gnarled_staff
ITEM i_blackmoor,{5 10}
ITEM i_gold,{3000 6000}

[CHARDEF c_death_knight]
ID=c_man
NAME=Death Knight
CAN=mt_walk|mt_usehands|mt_equip
DAM={20 45}
ARMOR=45
RESOURCES=i_bone 20,i_flesh_head,i_flesh_torso,i_flesh_right_arm,i_flesh_left_arm,i_flesh_left_leg,i_flesh_right_leg,i_blood_2
BLOODCOLOR=colors_black
DESIRES=c_death_knight
SHELTER=r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain
TEVENTS=e_human_hearunk
TEVENTS=e_human_convinit
TEVENTS=e_human_greet
TEVENTS=e_human_space
TEVENTS=e_human_needs
TEVENTS=e_human_refuse
TSPEECH=spk_human_prime
TSPEECH=spk_needs
TSPEECH=spk_rehello
TSPEECH=spk_human_default

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Death Knight

ON=@Create
NPC brain_undead
COLOR colors_white
FAME {{9901 10000} 1 {8900 9900} 3}
KARMA -10000
TITLE the Death Knight
STR {450 600}
DEX {230 340}
INT {1340 1900}

ANATOMY {350.0 460.0}
DETECTINGHIDDEN {120.0 190.0}
EVALUATINGINTEL {345.0 600.0}
HEALING {90.0 140.0}
HIDING {110.0 145.0}
INSCRIPTION {150.0 190.0}
MAGERY {345.0 650.0}
MAGICRESISTANCE {340.0 390.0}
MEDITATION {190.0 245.0}
NECROMANCY {320.0 575.0}
PARRYING {250.0 340.0}
POISONING {50.0 85.0}
SPIRITSPEAK {105.0 160.0}
STEALTH {95.0 140.0}
SWORDSMANSHIP {360.0 440.0}
TACTICS {540.0 610.0}
TRACKING {130.0 190.0}
WRESTLING {360.0 440.0}

f_undead_elemental

ON=@NPCRestock
TAG.SHADOWARMOR 0
TAG.EARTH 3
TAG.WATER 3
TAG.WIND 3
TAG.LIGHTNING 3
TAG.ICE 4
TAG.SNOW 4
TAG.POISON 4
TAG.SWAMP 4
TAG.BLOOD 4
TAG.DARK 4
TAG.ETHER 2
ITEM i_rune_blade
ITEM i_shadow_armor
ITEM i_shadow_leggings
ITEM i_shadow_arms
ITEM i_shadow_gloves
ITEM i_shadow_gorget
ITEM i_shadow_helm
ITEM i_shadow_shield

ON=@NPCSeeNewPlayer
IF !<TAG.HASNAME>
NEWITEM i_death_knight_namer
EQUIP <ACT>
TAG.HASNAME 1
RETURN 0
ENDIF

ON=@GetHit
IF (<MANA>>=300)&&(!RAND(4))
VAR.ABSORBHITS {<HEALING> (<HEALING>+100.0)}
SRC.DAMAGE <VAR.ABSORBHITS>
HITS <HITS>+<VAR.ABSORBHITS>
IF <HITS>><STR>
HITS <STR>
ENDIF
ENDIF
RETURN 0

ON=@SkillStart
IF !<SRC.RESTEST 1 i_mt_horse_tan>
NEWITEM i_mt_horse_tan
ACT.COLOR 01
ACT.NAME Death Steed
ACT.EQUIP
RETURN 0
ENDIF

ON=@EnvironChange
IF !<SRC.RESTEST 1 i_mt_horse_tan>
NEWITEM i_mt_horse_tan
ACT.COLOR 01
ACT.NAME Death Steed
ACT.EQUIP
RETURN 0
ENDIF

ON=@Timer
TIMER 300
IF !<SRC.RESTEST 1 i_mt_horse_tan>
NEWITEM i_mt_horse_tan
ACT.COLOR 01
ACT.NAME Death Steed
ACT.EQUIP
RETURN 0
ENDIF

ON=@Death
CONSUME 1 i_mt_horse_tan
VAR.OLD_ACT <ACT.ACT.UID>
ACT.NEWNPC c_death_steed
ACT.ACT.P <P>
ACT.ACT <VAR.OLD_ACT>
VAR.OLD_ACT
RETURN 0

[ITEMDEF i_death_knight_namer]
ID=i_memory
NAME=Death Knight Namer
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Memory Items
DESCRIPTION=Death Knight Namer

ON=@Create
ATTR attr_invis

ON=@Equip
IF <SRC.FAME>>9900
DORAND 7
SRC.NAME Nightsorrow
SRC.NAME Soulrender
SRC.NAME Dethstorm
SRC.NAME Maldazzar
SRC.NAME Darkhallow
SRC.NAME Lightstalker
SRC.NAME Darkscythe
ENDDO
ELSE
DORAND 8
SRC.NAME Baron Bloodbane
SRC.NAME Baron Felblade
SRC.NAME Baron Perenolde
SRC.NAME Baron Morte
SRC.NAME Baron Frostfel
SRC.NAME Duke Dreadmoore
SRC.NAME Duke Ragereaver
SRC.NAME Duke Wintermaul
ENDDO
ENDIF
TIMER 0

ON=@Timer
REMOVE
RETURN 1

[CHARDEF c_death_steed]
ID=c_horse_tan
NAME=Death Steed
CAN=mt_walk|mt_run
DAM={15 30}
ARMOR=23
RESOURCES=i_ribs_raw 34
BLOODCOLOR=colors_black
DESIRES=c_death_steed,c_death_knight
SHELTER=r_graveyard
AVERSIONS=r_civilization,r_shrine,t_shrine
TEVENTS=e_fame_karma_gain

CATEGORY=Monsters
SUBSECTION=Undeads
DESCRIPTION=Death Horse

ON=@Create
NPC brain_undead
COLOR 01
FAME {7500 8000}
KARMA {-8000 -9000}
STR {350 500}
DEX {700 900}
INT {345 390}

ANATOMY {145.0 230.0}
MAGICRESISTANCE {290.0 340.0}
PARRYING {200.0 250.0}
TACTICS {230.0 265.0}
WRESTLING {245.0 270.0}

f_undead_elemental

ON=@NPCRestock
ITEM i_gold,{230 450}

[ITEMDEF i_rock_armor]
ID=i_platemail_chest
NAME=Rock Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_rock_leggings]
ID=i_platemail_leggings
NAME=Rock Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_rock_arms]
ID=i_platemail_arms
NAME=Rock Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_rock_helm]
ID=i_platemail_helm
NAME=Rock Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_rock_gorget]
ID=i_platemail_gorget
NAME=Rock Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_rock_gloves]
ID=i_platemail_gloves
NAME=Rock Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_rock_shield]
ID=i_heater_shield
NAME=Rock Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Rock Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0723
HITPOINTS 100

ON=@Equip
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.TAG.WIND <SRC.TAG.WIND>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_rock_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_rock_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_rock_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_rock_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_rock_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_rock_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_rock_leggings)
SRC.EVENTS +e_earth_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.EVENTS -e_earth_armor
RETURN 0

[ITEMDEF i_aqua_armor]
ID=i_platemail_chest
NAME=Aqua Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_aqua_leggings]
ID=i_platemail_leggings
NAME=Aqua Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_aqua_arms]
ID=i_platemail_arms
NAME=Aqua Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_aqua_helm]
ID=i_platemail_helm
NAME=Aqua Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_aqua_gorget]
ID=i_platemail_gorget
NAME=Aqua Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_aqua_gloves]
ID=i_platemail_gloves
NAME=Aqua Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_aqua_shield]
ID=i_heater_shield
NAME=Aqua Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Aqua Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 070
HITPOINTS 100

ON=@Equip
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_aqua_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_aqua_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_aqua_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_aqua_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_aqua_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_aqua_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_aqua_leggings)
SRC.EVENTS +e_water_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.EVENTS -e_water_armor
RETURN 0

[ITEMDEF i_flame_armor]
ID=i_platemail_chest
NAME=Flame Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_flame_leggings]
ID=i_platemail_leggings
NAME=Flame Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_flame_arms]
ID=i_platemail_arms
NAME=Flame Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_flame_helm]
ID=i_platemail_helm
NAME=Flame Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_flame_gorget]
ID=i_platemail_gorget
NAME=Flame Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_flame_gloves]
ID=i_platemail_gloves
NAME=Flame Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_flame_shield]
ID=i_heater_shield
NAME=Flame Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 077a
HITPOINTS 100

ON=@Equip
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_flame_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_flame_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_flame_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_flame_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_flame_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_flame_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_flame_leggings)
SRC.EVENTS +e_fire_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.EVENTS -e_fire_armor
RETURN 0

[ITEMDEF i_wind_armor]
ID=i_platemail_chest
NAME=Wind Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_wind_leggings]
ID=i_platemail_leggings
NAME=Wind Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_wind_arms]
ID=i_platemail_arms
NAME=Wind Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_wind_helm]
ID=i_platemail_helm
NAME=Wind Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_wind_gorget]
ID=i_platemail_gorget
NAME=Wind Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_wind_gloves]
ID=i_platemail_gloves
NAME=Wind Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_wind_shield]
ID=i_heater_shield
NAME=Wind Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Wind Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0492
HITPOINTS 100

ON=@Equip
SRC.TAG.WIND <SRC.TAG.WIND>+1
SRC.TAG.EARTH <SRC.TAG.EARTH>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_wind_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_wind_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_wind_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_wind_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_wind_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_wind_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_wind_leggings)
SRC.EVENTS +e_wind_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.WIND <SRC.TAG.WIND>+-1
SRC.TAG.EARTH <SRC.TAG.EARTH>+1
SRC.EVENTS -e_wind_armor
RETURN 0

[ITEMDEF i_lightning_armor]
ID=i_platemail_chest
NAME=Lightning Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_lightning_leggings]
ID=i_platemail_leggings
NAME=Lightning Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_lightning_arms]
ID=i_platemail_arms
NAME=Lightning Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_lightning_helm]
ID=i_platemail_helm
NAME=Lightning Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_lightning_gorget]
ID=i_platemail_gorget
NAME=Lightning Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_lightning_gloves]
ID=i_platemail_gloves
NAME=Lightning Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_lightning_shield]
ID=i_heater_shield
NAME=Lightning Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0790
HITPOINTS 100

ON=@Equip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+1
SRC.TAG.WATER <SRC.TAG.WATER>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_lightning_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_lightning_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_lightning_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_lightning_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_lightning_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_lightning_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_lightning_leggings)
SRC.EVENTS +e_lightning_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.LIGHTNING <SRC.TAG.LIGHTNING>+-1
SRC.TAG.WATER <SRC.TAG.WATER>+1
SRC.EVENTS -e_lightning_armor
RETURN 0

[ITEMDEF i_ice_armor]
ID=i_platemail_chest
NAME=Ice Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_ice_leggings]
ID=i_platemail_leggings
NAME=Ice Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_ice_arms]
ID=i_platemail_arms
NAME=Ice Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_ice_helm]
ID=i_platemail_helm
NAME=Ice Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_ice_gorget]
ID=i_platemail_gorget
NAME=Ice Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_ice_gloves]
ID=i_platemail_gloves
NAME=Ice Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_ice_shield]
ID=i_heater_shield
NAME=Ice Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Ice Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_ice
HITPOINTS 100

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_ice_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_ice_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_ice_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_ice_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_ice_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_ice_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_ice_leggings)
SRC.EVENTS +e_ice_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_ice_armor
RETURN 0

[ITEMDEF i_frost_armor]
ID=i_platemail_chest
NAME=Frost Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_frost_leggings]
ID=i_platemail_leggings
NAME=Frost Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_frost_arms]
ID=i_platemail_arms
NAME=Frost Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_frost_helm]
ID=i_platemail_helm
NAME=Frost Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_frost_gorget]
ID=i_platemail_gorget
NAME=Frost Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_frost_gloves]
ID=i_platemail_gloves
NAME=Frost Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_frost_shield]
ID=i_heater_shield
NAME=Frost Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Frost Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR color_snow
HITPOINTS 100

ON=@Equip
SRC.TAG.SNOW <SRC.TAG.SNOW>+1
SRC.TAG.FIRE <SRC.TAG.FIRE>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_frost_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_frost_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_frost_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_frost_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_frost_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_frost_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_frost_leggings)
SRC.EVENTS +e_snow_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SNOW <SRC.TAG.SNOW>+-1
SRC.TAG.FIRE <SRC.TAG.FIRE>+1
SRC.EVENTS -e_snow_armor
RETURN 0

[ITEMDEF i_toxic_armor]
ID=i_platemail_chest
NAME=Toxic Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_toxic_leggings]
ID=i_platemail_leggings
NAME=Toxic Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_toxic_arms]
ID=i_platemail_arms
NAME=Toxic Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_toxic_helm]
ID=i_platemail_helm
NAME=Toxic Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_toxic_gorget]
ID=i_platemail_gorget
NAME=Toxic Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_toxic_gloves]
ID=i_platemail_gloves
NAME=Toxic Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_toxic_shield]
ID=i_heater_shield
NAME=Toxic Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Toxic Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0786
HITPOINTS 100

ON=@Equip
SRC.TAG.POISON <SRC.TAG.POISON>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_toxic_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_toxic_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_toxic_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_toxic_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_toxic_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_toxic_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_toxic_leggings)
SRC.EVENTS +e_poison_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.POISON <SRC.TAG.POISON>+-1
SRC.EVENTS -e_poison_armor
RETURN 0

[ITEMDEF i_swamp_armor]
ID=i_platemail_chest
NAME=Swamp Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 078a
HITPOINTS 100

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_swamp_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_swamp_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_swamp_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_swamp_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_swamp_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_swamp_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_swamp_leggings)
SRC.EVENTS +e_swamp_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+-1
SRC.EVENTS -e_swamp_armor
RETURN 0

[ITEMDEF i_swamp_leggings]
ID=i_platemail_leggings
NAME=Swamp Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 078a
HITPOINTS 100

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_swamp_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_swamp_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_swamp_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_swamp_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_swamp_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_swamp_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_swamp_leggings)
SRC.EVENTS +e_swamp_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+-1
SRC.EVENTS -e_swamp_armor
RETURN 0

[ITEMDEF i_swamp_arms]
ID=i_platemail_arms
NAME=Swamp Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 078a
HITPOINTS 100

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_swamp_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_swamp_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_swamp_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_swamp_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_swamp_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_swamp_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_swamp_leggings)
SRC.EVENTS +e_swamp_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+-1
SRC.EVENTS -e_swamp_armor
RETURN 0

[ITEMDEF i_swamp_helm]
ID=i_platemail_helm
NAME=Swamp Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 078a
HITPOINTS 100

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_swamp_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_swamp_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_swamp_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_swamp_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_swamp_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_swamp_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_swamp_leggings)
SRC.EVENTS +e_swamp_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+-1
SRC.EVENTS -e_swamp_armor
RETURN 0

[ITEMDEF i_swamp_gorget]
ID=i_platemail_gorget
NAME=Swamp Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Gorget

ON=@Create
MOREY 100.0
ATTR attr_magic
HITPOINTS 100
COLOR 078a

[ITEMDEF i_swamp_gloves]
ID=i_platemail_gloves
NAME=Swamp Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 078a
HITPOINTS 100

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_swamp_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_swamp_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_swamp_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_swamp_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_swamp_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_swamp_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_swamp_leggings)
SRC.EVENTS +e_swamp_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+-1
SRC.EVENTS -e_swamp_armor
RETURN 0

[ITEMDEF i_swamp_shield]
ID=i_heater_shield
NAME=Swamp Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Swamp Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 078a
HITPOINTS 100

ON=@Equip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_swamp_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_swamp_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_swamp_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_swamp_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_swamp_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_swamp_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_swamp_leggings)
SRC.EVENTS +e_swamp_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.SWAMP <SRC.TAG.SWAMP>+-1
SRC.EVENTS -e_swamp_armor
RETURN 0

[ITEMDEF i_blood_armor]
ID=i_platemail_chest
NAME=Blood Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_blood_leggings]
ID=i_platemail_leggings
NAME=Blood Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_blood_arms]
ID=i_platemail_arms
NAME=Blood Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_blood_helm]
ID=i_platemail_helm
NAME=Blood Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_blood_gorget]
ID=i_platemail_gorget
NAME=Blood Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_blood_gloves]
ID=i_platemail_gloves
NAME=Blood Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_blood_shield]
ID=i_heater_shield
NAME=Blood Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Blood Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0ed
HITPOINTS 100

ON=@Equip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_blood_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_blood_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_blood_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_blood_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_blood_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_blood_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_blood_leggings)
SRC.EVENTS +e_blood_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.BLOOD <SRC.TAG.BLOOD>+-1
SRC.EVENTS -e_blood_armor
RETURN 0

[ITEMDEF i_holy_armor]
ID=i_platemail_chest
NAME=Holy Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_holy_leggings]
ID=i_platemail_leggings
NAME=Holy Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_holy_arms]
ID=i_platemail_arms
NAME=Holy Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_holy_helm]
ID=i_platemail_helm
NAME=Holy Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_holy_gorget]
ID=i_platemail_gorget
NAME=Holy Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_holy_gloves]
ID=i_platemail_gloves
NAME=Holy Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_holy_shield]
ID=i_heater_shield
NAME=Holy Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Holy Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 0482
HITPOINTS 100

ON=@Equip
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.TAG.DARK <SRC.TAG.DARK>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_holy_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_holy_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_holy_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_holy_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_holy_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_holy_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_holy_leggings)
SRC.EVENTS +e_holy_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.EVENTS -e_holy_armor
RETURN 0

[ITEMDEF i_shadow_armor]
ID=i_platemail_chest
NAME=Shadow Armor

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Armor

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_shadow_leggings]
ID=i_platemail_leggings
NAME=Shadow Leggings

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Leggings

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_shadow_arms]
ID=i_platemail_arms
NAME=Shadow Arm Plates

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Arm Plates

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_shadow_helm]
ID=i_platemail_helm
NAME=Shadow Helm

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Helm

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_shadow_gorget]
ID=i_platemail_gorget
NAME=Shadow Gorget

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Gorget

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_shadow_gloves]
ID=i_platemail_gloves
NAME=Shadow Gauntlets

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Gauntlets

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_shadow_shield]
ID=i_heater_shield
NAME=Shadow Shield

CATEGORY=Provisions - Armor - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Shield

ON=@Create
ATTR attr_magic
MOREY 100.0
COLOR 01
HITPOINTS 100

ON=@Equip
SRC.TAG.DARK <SRC.TAG.DARK>+1
SRC.TAG.HOLY <SRC.TAG.HOLY>+-1
IF (<SRC.FINDLAYER(layer_hand2).ID>==i_dark_shield)&&(<SRC.FINDLAYER(layer_helm).ID>==i_dark_helm)&&(<SRC.FINDLAYER(layer_gloves).ID>==i_dark_gloves)&&(<SRC.FINDLAYER(layer_collar).ID>==i_dark_gorget)&&(<SRC.FINDLAYER(layer_chest).ID>==i_dark_armor)&&(<SRC.FINDLAYER(layer_arms).ID>==i_dark_arms)&&(<SRC.FINDLAYER(layer_legs).ID>==i_dark_leggings)
SRC.EVENTS +e_dark_armor
ENDIF
RETURN 0

ON=@Unequip
SRC.TAG.DARK <SRC.TAG.DARK>+-1
SRC.TAG.HOLY <SRC.TAG.HOLY>+1
SRC.EVENTS -e_dark_armor
RETURN 0

[ITEMDEF i_earth_sword]
ID=i_broadsword
NAME=Earth Sword
TYPE=t_weapon_sword
FLIP=1
SKILL=SWORDSMANSHIP
VALUE=5000
WEIGHT=2
DAM={9 40}
TWOHANDS=N

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Earth Sword

ON=@Create
HITPOINTS 100
COLOR 0723

ON=@Equip
SRC.EVENTS +e_earth_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_earth_weapon
RETURN 0

[ITEMDEF i_earth_bow]
ID=i_bow
NAME=Earth Bow
TYPE=t_weapon_bow
FLIP=1
SKILL=ARCHERY
VALUE=5000
WEIGHT=3
DAM={15 48}
TWOHANDS=Y

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Earth Bow

ON=@Create
HITPOINTS 100
COLOR 0723

ON=@Equip
SRC.EVENTS +e_earth_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_earth_weapon
RETURN 0

[ITEMDEF i_water_sword]
ID=i_broadsword
NAME=Water Sword
TYPE=t_weapon_sword
FLIP=1
SKILL=SWORDSMANSHIP
VALUE=5000
WEIGHT=2
DAM={9 40}
TWOHANDS=N

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Water Sword

ON=@Create
HITPOINTS 100
COLOR 02

ON=@Equip
SRC.EVENTS +e_water_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_water_weapon
RETURN 0

[ITEMDEF i_water_bow]
ID=i_bow
NAME=Water Bow
TYPE=t_weapon_bow
FLIP=1
SKILL=ARCHERY
VALUE=5000
WEIGHT=3
DAM={15 48}
TWOHANDS=Y

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Water Bow

ON=@Create
HITPOINTS 100
COLOR 02

ON=@Equip
SRC.EVENTS +e_water_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_water_weapon
RETURN 0

[ITEMDEF i_flame_sword]
ID=i_broadsword
NAME=Flame Sword
TYPE=t_weapon_sword
FLIP=1
SKILL=SWORDSMANSHIP
VALUE=5000
WEIGHT=2
DAM={9 40}
TWOHANDS=N

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Sword

ON=@Create
HITPOINTS 100
COLOR 0486

ON=@Equip
SRC.EVENTS +e_fire_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_fire_weapon
RETURN 0

[ITEMDEF i_flame_bow]
ID=i_bow
NAME=Flame Bow
TYPE=t_weapon_bow
FLIP=1
SKILL=ARCHERY
VALUE=5000
WEIGHT=3
DAM={15 48}
TWOHANDS=Y

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Flame Bow

ON=@Create
HITPOINTS 100
COLOR 0486

ON=@Equip
SRC.EVENTS +e_fire_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_fire_weapon
RETURN 0

[ITEMDEF i_air_sword]
ID=i_broadsword
NAME=Air Sword
TYPE=t_weapon_sword
FLIP=1
SKILL=SWORDSMANSHIP
VALUE=5000
WEIGHT=2
DAM={9 40}
TWOHANDS=N

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Air Sword

ON=@Create
HITPOINTS 100
COLOR 04f1

ON=@Equip
SRC.EVENTS +e_air_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_air_weapon
RETURN 0

[ITEMDEF i_air_bow]
ID=i_bow
NAME=Air Bow
TYPE=t_weapon_bow
FLIP=1
SKILL=ARCHERY
VALUE=5000
WEIGHT=3
DAM={15 48}
TWOHANDS=Y

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Air Bow

ON=@Create
HITPOINTS 100
COLOR 04f1

ON=@Equip
SRC.EVENTS +e_air_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_air_weapon
RETURN 0

[ITEMDEF i_galacial_staff]
ID=i_gnarled_staff
NAME=Galacial Staff
TYPE=t_weapon_mace_staff

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Galacial Staff

ON=@Create
COLOR color_ice
ATTR attr_magic
MORE {1 1 2 1 3 1}
MOREY 50.0

ON=@Equip
SRC.TAG.ICE <SRC.TAG.ICE>+1
SRC.NEWITEM i_galacial_staff_speech
SRC.ACT.EQUIP
SRC.ACT.MORE <MORE>
RETURN 0

ON=@Unequip
SRC.TAG.ICE <SRC.TAG.ICE>+-1
//SRC.FINDLAYER(99).FINDID(i_galacial_staff_speech).REMOVE
SRC.FINDLAYER(99).REMOVE
RETURN 0

[ITEMDEF i_lightning_bow]
ID=i_bow
NAME=Lightning Bow
TYPE=t_weapon_bow
FLIP=1
SKILL=ARCHERY
VALUE=5000
WEIGHT=3
DAM={15 48}
TWOHANDS=Y

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Lightning Bow

ON=@Create
HITPOINTS 100
COLOR 04f1

ON=@Equip
SRC.EVENTS +e_lightning_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_lightning_weapon
RETURN 0

[ITEMDEF i_shadow_sword]
ID=i_broadsword
NAME=Shadow Sword
TYPE=t_weapon_sword
FLIP=1
SKILL=SWORDSMANSHIP
VALUE=5000
WEIGHT=2
DAM={9 40}
TWOHANDS=N

CATEGORY=Provisions - Weapons - Magic
SUBSECTION=Elemental
DESCRIPTION=Shadow Sword

ON=@Create
HITPOINTS 100
COLOR 01

ON=@Equip
SRC.EVENTS +e_dark_weapon
RETURN 0

ON=@Unequip
SRC.EVENTS -e_dark_weapon
RETURN 0

//armor effects
[ITEMDEF i_shadow_armor_effect]
ID=i_fx_curse
NAME=Shadow Armor Effect

CATEGORY=Miscellaneous
SUBSECTION=Other
DESCRIPTION=Shadow Armor Effect

ON=@Create
ATTR attr_move_never
TIMED 1.5

ON=@Timer
REMOVE
RETURN 1

ON=@Click
RETURN 1

[ITEMDEF i_reflect_spell_effect1]
ID=i_memory
NAME=Spell Effect Reflector Type 1
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Spell Effect Reflector Type 1

ON=@Create
ATTR attr_invis
TIMER 3

ON=@Equip
SRC.NEWITEM <MORE>
SRC.ACT.P <LINK.P>
REMOVE

ON=@Timer
CONT.SAY Magic Reflection Error 6: spell effect reflector created but not equiped
CONT.SAY Please report this error to the shard staff immediatly.
REMOVE
RETURN 1

[ITEMDEF i_reflect_spell_effect2]
ID=i_memory
NAME=Spell Effect Reflector Type 2
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Spell Effect Reflector Type 2

ON=@Create
ATTR attr_invis
TIMER 3

ON=@Equip
LINK.EFFECT 0,<MOREX>,<MOREY>,<MOREZ>,<MOREM>
REMOVE

ON=@Timer
CONT.SAY Magic Reflection Error 6: spell effect reflector created but not equiped
CONT.SAY Please report this error to the shard staff immediatly.
REMOVE
RETURN 1

[ITEMDEF i_reflect_spell_effect3]
ID=i_memory
NAME=Spell Effect Reflector Type 3
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Spell Effect Reflector Type 3

ON=@Create
ATTR attr_invis
TIMER 3

ON=@Equip
LINK.EFFECT 1,1
REMOVE

ON=@Timer
CONT.SAY Magic Reflection Error 6: spell effect reflector created but not equiped
CONT.SAY Please report this error to the shard staff immediatly.
REMOVE
RETURN 1

[ITEMDEF i_reflect_spell_effect4]
ID=i_memory
NAME=Spell Effect Reflector Type 4
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Spell Effect Reflector Type 4

ON=@Create
ATTR attr_invis
TIMER 3

ON=@Equip
LINK.EFFECT 2,<MOREX>,<MOREY>,<MOREZ>,<MOREM>
REMOVE

ON=@Timer
CONT.SAY Magic Reflection Error 6: spell effect reflector created but not equiped
CONT.SAY Please report this error to the shard staff immediatly.
REMOVE
RETURN 1

[ITEMDEF i_reflect_spell_effect5]
ID=i_memory
NAME=Spell Effect Reflector Type 5
TYPE=t_eq_script

CATEGORY=Miscellaneous
SUBSECTION=Spell Memory Items
DESCRIPTION=Spell Effect Reflector Type 5

ON=@Create
ATTR attr_invis
TIMER 3

ON=@Equip
LINK.EFFECT 3,<MOREX>,<MOREY>,<MOREZ>,<MOREM>
REMOVE

ON=@Timer
CONT.SAY Magic Reflection Error 6: spell effect reflector created but not equiped
CONT.SAY Please report this error to the shard staff immediatly.
REMOVE
RETURN 1

[ITEMDEF i_thaumatergy_spellbook]
ID=i_spellbook
NAME=Thaumatergy Spellbook
TYPE=t_spellbook

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Magical Items
DESCRIPTION=Thaumatergy Spellbook

ON=@Create
ATTR attr_newbie

ON=@DClick
DIALOG d_thaumatergy_spellbook
RETURN 1

[ITEMDEF i_necromancy_spellbook]
ID=i_spellbook
NAME=Necromancy Spellbook
TYPE=t_spellbook

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Magical Items
DESCRIPTION=Thaumatergy Spellbook

ON=@Create
ATTR attr_newbie

ON=@DClick
DIALOG d_thaumatergy_spellbook
RETURN 1

[ITEMDEF i_theugery_spellbook]
ID=i_spellbook
NAME=Theugery Spellbook
TYPE=t_spellbook

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Magical Items
DESCRIPTION=Theugery Spellbook

ON=@DClick
SRC.DIALOG d_theugery_spellbook
RETURN 1

[ITEMDEF i_earth_crystal_shard]
ID=0f29
NAME=Shard of The Earth Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Earth Crystal Shard

ON=@Create
MORE 1

[ITEMDEF i_water_crystal_shard]
ID=0f29
NAME=Shard of The Water Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Water Crystal Shard

ON=@Create
MORE 2

[ITEMDEF i_fire_crystal_shard]
ID=0f29
NAME=Shard of The Earth Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Fire Crystal Shard

ON=@Create
MORE 3

[ITEMDEF i_wind_crystal_shard]
ID=0f29
NAME=Shard of The Wind Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Wind Crystal Shard

ON=@Create
MORE 4

[ITEMDEF i_lightning_crystal_shard]
ID=
NAME=Shard of The Lightning Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Lightning Crystal Shard

ON=@Create
MORE 5

[ITEMDEF i_ice_crystal_shard]
ID=0f29
NAME=Shard of The Ice Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Ice Crystal Shard

ON=@Create
MORE 6

[ITEMDEF i_snow_crystal_shard]
ID=0f29
NAME=Shard of The Snow Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Snow Crystal Snow

ON=@Create
MORE 7

[ITEMDEF i_poison_crystal_shard]
ID=0f29
NAME=Shard of The Poison Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Poison Crystal Shard

ON=@Create
MORE 8

[ITEMDEF i_swamp_crystal_shard]
ID=0f29
NAME=Shard of The Swamp Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Swamp Crystal Shard

ON=@Create
MORE 9

[ITEMDEF i_blood_crystal_shard]
ID=0f29
NAME=Shard of The Blood Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Blood Crystal Shard

ON=@Create
MORE 10

[ITEMDEF i_holy_crystal_shard]
ID=0f29
NAME=Shard of The Holiness Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Holiness Crystal Shard

ON=@Create
MORE 11

[ITEMDEF i_dark_crystal_shard]
ID=0f29
NAME=Shard of The Darkness Crystal
TYPE=t_crystal_shard

CATEGORY=Provisions - Alchemy & Magic
SUBSECTION=Theugery Foci
DESCRIPTION=Darkness Crystal Shard

ON=@Create
MORE 12

[DEFNAME items_random_loot]
random_coin_purse	{backpack_poor 1 backpack_meager 1 backpack_average 1 backpack_rich 1}
random_gold_pile	{poor_gold_pile 1 meager_gold_pile 1 average_gold_pile 1 rich_gold_pile 1 filthy_rich_gold_pile 1}
random_all_items	{random_weapons 3 random_armor 3 random_magic_item 1}
random_wearables	{random_clothing 1 random_jewelry 1}

[DEFNAME items_random_hair]
random_female_hair	{i_hair_short 20 i_hair_long 20 i_hair_ponytail 20 i_hair_pageboy 1 i_hair_buns 1 i_hair_afro 1 i_hair_receding 1 i_hair_2_pigtails 1 i_hair_krisna 1}
random_male_hair	{i_hair_short 20 i_hair_long 20 i_hair_ponytail 20 i_hair_mohawk 1 i_hair_pageboy 1 i_hair_afro 1 i_hair_receding 1 i_hair_2_pigtails 1 i_hair_krisna 1}
random_facial_hair	{0 4 i_beard_long 1 i_beard_short 1 i_beard_goatee 1 i_beard_mustache 1 i_beard_short_med 1 i_beard_long_med 1 i_beard_vandyke 1}

[DEFNAME items_random_stuff]
random_light		{i_candle 1 i_torch 1 i_lantern 1}
random_fishing_junk	{i_fishing_weight 1 i_fishing_pole 1 i_fish_cut_raw 1 i_fish_raw_head 1 i_fish_small 1 i_fish_BIG_1 1 i_fish_big_2 1 i_fish_big_3 1 i_fish_big_4 1}
random_instrument	{i_drum 1 i_tambourine 1 i_lyre 1 i_lute 1}
random_body_parts_1	{i_flesh_arm_right 1 i_flesh_upper_body 1 i_flesh_leggings 1 i_flesh_torso 1 i_flesh_head_2 1 i_flesh_legs_3 1 i_flesh 1 i_flesh_legs_3 1 i_flesh_arm_left 1 i_flesh_upper_body_2 1 i_flesh_legs_4 1 i_flesh_torso_2 1 i_flesh_head_2 1 i_flesh_2 1 i_flesh_legs_5 1 i_flesh_leg 1 i_flesh_heart 1 i_flesh_liver 1 i_flesh_entrails 1 i_flesh_brain 1}
random_body_parts_2	{i_flesh_torso 1 i_flesh_head 1 i_flesh_left_arm 1 i_flesh_right_arm 1 i_flesh_left_leg 1 i_flesh_right_leg 1}

[DEFNAME items_random_containers]
random_chest		{i_chest_metal_brass 1 i_chest_metal 1 i_chest_wooden_brass 1}
random_crate		{i_crate_lg 1 i_crate_md 1 i_crate_small 1}

random_container	{i_barrel 1 i_barrel_open 1 random_crate 3 random_chest 4}

[DEFNAME items_random_food]
random_bread		{i_bread_loaf 1 i_bread_french 1}
random_other_food	{i_pie_baked 1 i_cake 1 i_muffin 1 i_jar_honey 1 i_pizza 1 i_cheese_wheel 1}
random_meat		{i_chicken_leg 1 i_lamb_leg 1 i_bird_cooked 1 i_ham 1 i_lamb_leg_raw 1 i_bird_raw 1 i_ribs_raw 1 i_ribs_cooked 1 i_bacon_slice 1 i_sausages 1}
random_veggie		{i_fruit_cabbage 1 i_fruit_carrot 1 i_fruit_corn 1 i_fruit_gourd1 1 i_fruit_gourd2 1 i_fruit_lettuce 1 i_fruit_onion 1 i_fruit_pumpkin 1 i_fruit_squash 1 i_fruit_turnip 1}
random_pitcher		{i_pitcher_ale 1 i_pitcher_cider 1 i_pitcher_glass 1 i_pitcher_liquor 1 i_pitcher_milk 1 i_pitcher_wine 1 i_pitcher_water 1}
random_bottle		{i_bottle_ale 1 i_bottle_wine 1 i_bottle_liquor 1 i_jug_cider 1}
random_fruit		{i_fruit_dates 1 i_fruit_peach 1 i_fruit_pear 1 i_fruit_lemon 1 i_fruit_lime 1 i_fruit_grapes 1 i_fruit_apple 1 i_fruit_banana 1 i_fruit_coconut 1 i_fruit_cantelope 1 i_fruit_honeydewmelon 1 i_fruit_watermelon 1}

random_food		{random_meat 1 random_bread 1 random_veggie 1 random_fruit 1 random_other_food 1}

[DEFNAME items_random_jewelry]
random_jewel		{i_star_sapphire 1 i_emerald 1 i_sapphire 1 i_ruby 1 i_citrine 1 i_amethyst 1 i_tourmaline 1 i_amber 1 i_diamond 1}
random_necklace		{i_necklace_silver_beads 1 i_necklace_gold_beads 1 i_necklace_gold 1 i_necklace_silver 1}
random_earrings		{i_earrings_gold 1 i_earrings_silver 1}
random_rings		{i_ring_gold 1 i_ring_silver 1}
random_bracelets	{i_bracelet_gold 1 i_bracelet_silver 1}

random_jewelry		{random_necklace 1 random_earrings 1 random_rings 1 random_bracelets 1}

[DEFNAME items_random_magic_items]
random_reagent		{i_black_pearl 1 i_blood_moss 1 i_garlic 1 i_ginseng 1 i_mandrake_root 1 i_nightshade 1 i_sulfur_ash 1 i_spider_silk 1}
random_spellbooks	{i_spellbook 1 i_thaumatergy_spellbook 1 i_necromancy_spellbook 1}
random_potion		{i_lesser_heal_potion 1 i_heal_potion 1 i_greater_heal_potion 1 i_refresh_potion 1 i_total_refresh_potion 1 i_restoration_potion 1 i_greater_restoration_potion 1 i_mana_refresh_potion 1 i_total_mana_refresh_potion 1 i_lesser_cure_potion 1 i_cure_potion 1 i_greater_cure_potion 1 i_agility_potion 1 i_greater_agility_potion 1 i_strength_potion 1 i_greater_strength_potion 1 i_cleverness_potion 1 i_greater_cleverness_potion 1 i_nightsight_potion 1 i_lesser_explosion_potion 1 i_explosion_potion 1 i_greater_explosion_potion 1 i_lava_bomb_potion 1 i_lesser_poison_potion 1 i_poison_potion 1 i_greater_poison_potion 1 i_deadly_poison_potion 1 i_clumsiness_potion 1 i_confusion_potion 1 i_weakness_potion 1 i_shrink_potion 1 i_trance_potion 1 i_greater_trance_potion 1 i_lesser_forgetfulness_potion 1 i_forgetfulness_potion 1 i_greater_forgetfulness_potion 1 i_sustenance_potion 1 i_lesser_float_potion 1 i_float_potion 1 i_greater_float_potion 1 i_gender_swap_potion 1 i_beastform_potion 1 i_monster_form_potion 1 i_chameleon_skin_potion 1 i_invisibility_potion 1 i_particle_form_potion 1 i_stoneskin_potion 1 i_steelskin_potion 1 i_shield_potion 1}
random_earth_scroll		{i_stone_scroll 1 i_wall_of_stone_scroll 1 i_stoneskin_scroll 1 i_mudslide_scroll 1 i_boulder_scroll 1 i_golem_scroll 1 i_petrify_scroll 1 i_earthquake_scroll 1 i_summon_earth_elemental_scroll 1}
random_water_scroll		{i_sprinkle_scroll 1 i_bubble_scroll 1 i_water_cannon_scroll 1 i_flood_scroll 1 i_erosion_scroll 1 i_undertow_scroll 1 i_waterfall_scroll 1 i_tidal_wave_scroll 1 i_summon_water_elemental_scroll 1}
random_fire_scroll		{i_flaming_arrow_scroll 1 i_fireball_scroll 1 i_flame_shield_scroll 1 i_fire_field_scroll 1 i_fire_bolt_scroll 1 i_explosion_scroll 1 i_flame_wave_scroll 1 i_flamestrike_scroll 1 i_summon_fire_elemental_scroll 1}
random_wind_scroll		{i_gust_scroll 1 i_fog_scroll 1 i_sonic_boom_scroll 1 i_gale_scroll 1 i_tornado_scroll 1 i_vaccum_scroll 1 i_hurricane_scroll 1 i_whirl_wind_scroll 1 i_summon_air_elemental_scroll 1}
random_lightning_scrolls	{i_spark_scroll 1 i_lightning_scroll 1 i_energy_field_scroll 1 i_ball_lightning_scroll 1 i_shock_scroll 1 i_chain_lightning_scroll 1 i_nova_scroll 1 luminare_scroll 1 i_summon_lightning_elemental_scroll 1}
random_ice_scroll		{i_ice_cube_scroll 1 i_wall_of_ice_scroll 1 i_sleet_scroll 1 i_ice_trap_scroll 1 i_icesicle_scroll 1 i_deep_freeze_scroll 1 i_absolute_zero_scroll 1 i_ice_strike_scroll 1 i_summon_ice_elemental_scroll 1}
random_snow_scrolls		{i_snowball_scroll 1 i_snow_drift_scroll 1 i_cold_chill_scroll 1 i_frost_bite_scroll 1 i_snow_man_scroll 1 i_blizzard_scroll 1 i_avalanche_scroll 1 i_whiteout_scroll 1 i_summon_snow_elemental_scroll 1}
random_poison_scroll		{i_lesser_poison_scroll 1 i_toxic_gas_scroll 1 i_poison_scroll 1 i_poison_field_scroll 1 i_venom_scroll 1 i_greater_poison_scroll 1 i_bio_scroll 1 i_summon_poison_elemental_scroll 1 i_deadly_poison_scroll 1}
random_swamp_scroll		{i_sludge_scroll 1 i_slime_scroll 1 i_swamp_tentacles_scroll 1 i_sewage_scroll 1 i_ensnare_scroll 1 i_swamp_gas_scroll 1 i_acid_rain_scroll 1 i_bad_breath_scroll 1 i_summon_swamp_elemental_scroll 1}
random_blood_scroll		{i_harm_scroll 1 i_vampire_scroll 1 i_mana_drain_scroll 1 i_mana_vampire_scroll 1 i_exhaustion_scroll 1 i_stamina_vampire_scroll 1 i_blood_lust_scroll 1 i_corpse_explode_scroll 1 i_summon_blood_elemental_scroll 1}
random_holy_scroll		{i_holy_light_scroll 1 i_holy_vision_scroll 1 i_holy_wind_scroll 1 i_holy_beam_scroll 1 i_destroy_sin_scroll 1 i_holy_blast_scroll 1 i_cleanse_scroll 1 i_light_pilar_scroll 1 i_summon_holy_elemental_scroll 1}
random_dark_scroll		{i_unholy_light_scroll 1 i_darkness_scroll 1 i_unholy_strength_scroll 1 i_demi_scroll 1 i_evil_prescence_scroll 1 i_quarter_scroll 1 i_dark_matter_scroll 1 i_dark_holy_scroll 1 i_summon_shadow_elemental_scroll 1}
random_ether_scroll		{i_energy_bolt_scroll 1 i_blade_spirits_scroll 1 i_meteor_swarm_scroll 1 i_comet_scroll 1 i_energy_vortex_scroll 1 i_ultima_scroll 1 i_megid_scroll 1 i_megedo_scroll 1 i_armagedon_scroll 1}
random_lesser_scroll		{random_earth_scroll 1 random_water_scroll 1 random_fire_scroll 1 random_wind_scroll 1}
random_upper_scroll		{random_lightning_scroll 1 random_ice_scroll 1 random_poison_scroll 1}
random_advanced_scroll		{random_snow_scroll 5 random_swamp_scroll 5 random_blood_scroll 2 random_holy_scroll 3 random_dark_scroll 3 random_ether_scroll 1}
random_scroll			{random_lesser_scroll 4 random_upper_scroll 2 random_advanced_scroll 1}
random_crystal_balls	i_crystal_ball
random_stationary	{i_brazier_2 1 i_statue_stone_sm 1}
random_activators	{random_crystal_balls 1 random_stationary 1}
random_unknown_scrolls	{i_scroll_x_red 1 i_scroll_x_blue 1 i_scroll_x_green 1 i_scroll_x_teal 1 i_scroll_x_brown 1 i_scroll_x_purp 1}

random_magic_item	{random_spellbooks 1 random_reagents 2 random_scroll 3 random_potions 3 random_wearables 1 random_wands 1 random_activators 1}

[DEFNAME items_random_weapons]
random_start_weapon	{i_battle_axe 1 i_longsword 1 i_mace 1 i_spear 1}
random_axe		{i_executioners_axe 1 i_battle_axe 1 i_hatchet 1 i_axe 1 i_double_axe 1 i_two_handed_axe 1 i_war_axe 1}
random_pole_arm		{i_bardiche 1 i_short_spear 1 i_spear 1 i_war_fork 1 i_hammer_pick 1 i_halberd 1}
random_sword		{i_longsword 1 i_longsword_skinny 1 i_broadsword i_viking_sword 1 i_katana 1 i_cutlass 1 i_scimitar 1}
random_staff		{i_gnarled_staff 1 i_quarter_staff 1 i_black_staff 1 i_ankh_staff 1}
random_dagger		{i_dagger 1 i_kryss 1}
random_mace		{i_club 1 i_war_mace 1 i_mace 1 i_maul 1 i_war_hammer 1}
random_missile		{i_bow 1 i_crossbow 1 i_heavy_crossbow 1 i_compound_bow 1 i_spine_bow 1}
random_wand		{i_wand_1 1 i_wand_2 1 i_wand_3 1 i_wand_4 1}

random_weapon		{random_axe 7 random_pole_arm 5 random_mace 5 random_sword 8 random_staff 2 random_dagger 2 random_missile 3 random_wand 3}

[DEFNAME items_random_armor]
random_shield			{i_buckler 1 i_metal_shield 1 i_round_shield 1 i_wooden_shield 1 i_kite_shield_wood 1 i_kite_shield_metal 1 i_heater_shield 1}
random_helmet			{i_bone_helmet 1 i_bascinet 1 i_helmet 1 i_nose_helm 1 i_closed_helm 1 i_platemail_helm 1}
random_leather_armor		{i_leather_gorget 1 i_leather_gloves 1 i_leather_cap 1 i_leather_sleeves 1 i_leather_leggings 1 i_leather_tunic 1 i_female_shorts 1 i_leather_skirt 1 i_leather_bustier 1 i_female_leather_armor 1 }
random_studded_leather_armor	{i_studded_leather_sleeves 1 i_studded_leather_gloves 1 i_studded_leather_gorget 1 i_studded_leather_leggings 1 i_studded_leather_tunic 1 i_female_studded_leather_armor 1 i_studded_leather_bustier 1}
random_bone_armor		{i_bone_gloves 1 i_bone_arms 1 i_bone_helmet 1 i_bone_leggings 1 i_bone_chest 1}
random_skeletal_armor		{i_skeletal_leggings 1 i_skeletal_tunic 1}
random_ringmail_armor		{i_ringmail_gloves 1 i_ringmail_sleeves 1 i_ringmail_leggings 1 i_ringmail_tunic 1}
random_chainmail_armor		{i_chainmail_coif 1 i_chainmail_leggings 1 i_chainmail_tunic 1}
random_banded_armor		{i_banded_armor 1}
random_platemail_armor		{i_platemail_gorget 1 i_platemail_gloves 1 i_platemail_helm 1 i_platemail_arms 1 i_platemail_leggings 1 i_platemail_chest 1 i_female_plate_armor 1}

random_chest_armor	{i_studded_leather_tunic 1 i_chainmail_tunic 1 i_leather_tunic 1 i_ringmail_tunic 1 i_platemail_chest 1}
random_leg_armor	{i_leather_leggings 1 i_studded_leather_leggings 1 i_bone_leggings 1 i_ringmail_leggings 1 i_chainmail_leggings 1 i_platemail_leggings 1}
random_arm_armor	{i_leather_sleeves 1 i_studded_leather_sleeves 1 i_bone_arms 1 i_ringmail_sleeves 1 i_platemail_arms 1}
random_gloves		{i_leather_gloves 1 i_studded_leather_gloves 1 i_bone_gloves 1 i_ringmail_gloves 1 i_platemail_gloves 1}
random_gorget		{i_leather_gorget 1 i_studded_leather_gorget 1 i_platemail_gorget 1}
random_female_armor	{i_female_shorts 1 i_leather_skirt 1 i_leather_bustier 1 i_studded_leather_bustier 1 i_female_leather_armor 1 i_female_studded_leather_armor 1 i_female_plate_armor 1}

random_armor		{random_shield 1 random_helmet 1 random_leather_armor 1 random_studded_leather_armor 1 random_ringmail_armor 1 random_chainmail_armor 1 random_platemail_armor 1}

[DEFNAME items_random_clothing]
random_shirt		{i_shirt_plain 1 i_shirt_fancy 1 i_doublet 1 i_tunic 1 i_jesters_suit 1}
random_pants		{i_pants_short 1 i_pants_long 1}
random_skirt		{i_skirt 1 i_kilt 1}
random_dress		{i_dress_plain 1 i_dress_full 1}
random_robe		{i_robe 1 i_priests_robe 1 i_death_robe 1}
random_over_armor	{i_tunic 1 i_doublet 1 i_sash 1}
random_shoes		{i_shoes_plain 1 i_sandals 1}
random_footwear		{i_boots_thigh 1 i_boots_calf 1 random_shoes 1}
random_cloaks		{i_cape 1 i_rogues_cloak 1 i_royal_cloak 1}
random_hat		{i_floppy_hat 1 i_wide_brim_hat 1 i_cap 1 i_tall_straw_hat 1 i_straw_hat 1 i_wizards_hat 1 i_bonnet 1 i_feathered_hat 1 i_bandana 1 i_skull_cap 1 i_jesters_hat 1}
random_mask		{i_orc_helm 1 i_mask_bear 1 i_mask_deer 5 i_mask_orc 1 i_mask_tribal_red 1 i_mask_blue 1}

[EOF]
