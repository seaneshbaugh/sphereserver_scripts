// This file contains all multis and their components. House Menu System v6.0e
// created by Vaticus.

[ITEMDEF 04000]
DEFNAME=i_multi_ship_small_n
NAME=Small Ship
TYPE=t_ship
VALUE=14000

CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Ship

MULTIREGION=-2,-5,2,5
COMPONENT=03e4e,1, 4
COMPONENT=i_ship_hatch_n,0,-4
COMPONENT=03eb2,2,0
COMPONENT=03eb1,-2,0
TSPEECH spk_ship_cmds

[ITEMDEF 04001]
DEFNAME=i_multi_ship_small_e
NAME=Small Ship
TYPE=t_ship
VALUE=14000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Ship
MULTIREGION=-5,-2,5,2
COMPONENT=03e55,-4,0
COMPONENT=i_ship_hatch_e,4, 0
COMPONENT=03e85,0, 2
COMPONENT=03e8a,0,-2
TSPEECH spk_ship_cmds

[ITEMDEF 04002]
DEFNAME=i_multi_ship_small_s
NAME=Small Ship
TYPE=t_ship
VALUE=14000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Ship
MULTIREGION=-2,-5,2,5
COMPONENT=03e4b,0, -4
COMPONENT=i_ship_hatch_s,0,  4
COMPONENT=03eb2,2,  0
COMPONENT=03eb1,-2, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04003]
DEFNAME=i_multi_ship_small_w
NAME=Small Ship
TYPE=t_ship
VALUE=14000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Ship
MULTIREGION=-5,-2,5,2
COMPONENT=03e50,4, 0
COMPONENT=i_ship_hatch_w,-4,0
COMPONENT=03e85,0, 2
COMPONENT=03e8a,0,-2
TSPEECH spk_ship_cmds

[ITEMDEF 04004]
DEFNAME=i_multi_ship_dragon_small_n
NAME=Small Dragon Ship
TYPE=t_ship
VALUE=14500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Dragon Ship
MULTIREGION=-2,-5,2,5
COMPONENT=03e4e,1, 4, 0
COMPONENT=i_ship_hatch_n,0,-4, 0
COMPONENT=03eb2,2, 0, 0
COMPONENT=03eb1,-2, 0, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04005]
DEFNAME=i_multi_ship_dragon_small_e
NAME=Small Dragon Ship
TYPE=t_ship
VALUE=14500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=a mast
MULTIREGION=-5,-2,5,2
COMPONENT=03e55,-4,0
COMPONENT=i_ship_hatch_e,4, 0
COMPONENT=03e85,0, 2
COMPONENT=03e8a,0,-2
TSPEECH spk_ship_cmds

[ITEMDEF 04006]
DEFNAME=i_multi_ship_dragon_small_s
NAME=Small Dragon Ship
TYPE=t_ship
VALUE=14500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Dragon Ship
MULTIREGION=-2,-5,2,5
COMPONENT=03e4b,0, -4
COMPONENT=i_ship_hatch_s,0,  4
COMPONENT=03eb2,2,  0
COMPONENT=03eb1,-2, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04007]
DEFNAME=i_multi_ship_dragon_small_w
NAME=Small Dragon Ship
TYPE=t_ship
VALUE=14500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Small Dragon Ship
MULTIREGION=-5,-2,5,2
COMPONENT=03e50,4, 0
COMPONENT=i_ship_hatch_w,-4,0
COMPONENT=03e85,0, 2
COMPONENT=03e8a,0,-2
TSPEECH spk_ship_cmds

[ITEMDEF 04008]
DEFNAME=i_multi_ship_medium_n
NAME=Medium Ship
TYPE=t_ship
VALUE=16000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Ship
MULTIREGION=-2,-6,2,6
COMPONENT=03e4e,1, 5, 0
COMPONENT=i_ship_hatch_n,0,-4, 0
COMPONENT=03eb2,2, 0, 0
COMPONENT=03eb1,-2, 0, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04009]
DEFNAME=i_multi_ship_medium_e
NAME=Medium Ship
TYPE=t_ship
VALUE=16000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Ship
MULTIREGION=-6,-2,6,2
COMPONENT=03e55,-5,0, 0
COMPONENT=i_ship_hatch_e,4, 0, 0
COMPONENT=03e85,0, 2, 0
COMPONENT=03e8a,0,-2, 0
TSPEECH spk_ship_cmds

[ITEMDEF 0400a]
DEFNAME=i_multi_ship_medium_s
NAME=Medium Ship
TYPE=t_ship
VALUE=16000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Ship
MULTIREGION=-2,-6,2,5
COMPONENT=03e4b,0,-5,0
COMPONENT=i_ship_hatch_s,0,4,0
COMPONENT=03eb2,2,0,0
COMPONENT=03eb1,-2,0,0
TSPEECH spk_ship_cmds

[ITEMDEF 0400b]
DEFNAME=i_multi_ship_medium_w
NAME=Medium Ship
TYPE=t_ship
VALUE=16000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Ship
MULTIREGION=-6,-2,6,2
COMPONENT=03e50,5, 0,0
COMPONENT=i_ship_hatch_w,-4,0,0
COMPONENT=03e85,0, 2,0
COMPONENT=03e8a,0,-2,0
TSPEECH spk_ship_cmds

[ITEMDEF 0400c]
DEFNAME=i_multi_ship_dragon_medium_n
NAME=Medium Dragon Ship
TYPE=t_ship
VALUE=16500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Dragon Ship
MULTIREGION=-2,-6,2,6
COMPONENT=03e4e,1, 5, 0
COMPONENT=i_ship_hatch_n,0,-4, 0
COMPONENT=03eb2,2, 0, 0
COMPONENT=03eb1,-2, 0, 0
TSPEECH spk_ship_cmds

[ITEMDEF 0400d]
DEFNAME=i_multi_ship_dragon_medium_e
NAME=Medium Dragon Ship
TYPE=t_ship
VALUE=16500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Dragon Ship
MULTIREGION=-6,-2,6,2
COMPONENT=i_ship_tillerman,-5,0, 0
COMPONENT=i_ship_hatch_e,4, 0, 0
COMPONENT=03e87,0, 2, 0
COMPONENT=03e8a,0,-2, 0
TSPEECH spk_ship_cmds

[ITEMDEF 0400e]
DEFNAME=i_multi_ship_dragon_medium_s
NAME=Medium Dragon Ship
TYPE=t_ship
VALUE=16500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Dragon Ship
MULTIREGION=-2,-6,2,5
COMPONENT=03e4b,0, -5,0
COMPONENT=i_ship_hatch_s,0,  4,0
COMPONENT=03ea9,2,  0,0
COMPONENT=03eb1,-2, 0,0
TSPEECH spk_ship_cmds

[ITEMDEF 0400f]
DEFNAME=i_multi_ship_dragon_medium_w
NAME=Medium Dragon Ship
TYPE=t_ship
VALUE=16500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Medium Dragon Ship
MULTIREGION=-6,-2,6,2
COMPONENT=03e50,5, 0
COMPONENT=i_ship_hatch_w,-4,0
COMPONENT=03e87,0, 2
COMPONENT=03e8a,0,-2
TSPEECH spk_ship_cmds

[ITEMDEF 04010]
DEFNAME=i_multi_ship_long_n
NAME=Long Ship
TYPE=t_ship
VALUE=18000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Ship
MULTIREGION=-2,-7,2,7
COMPONENT=03e4e,1, 5, 0
COMPONENT=i_ship_hatch_n,0,-5, 0
COMPONENT=03eb2,2, -1, 0
COMPONENT=03eb1,-2, -1, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04011]
DEFNAME=i_multi_ship_long_e
NAME=Long Ship
TYPE=t_ship
VALUE=18000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Ship
MULTIREGION=-7,-2,7,2
COMPONENT=03e55,-5,0, 0
COMPONENT=i_ship_hatch_e,5, 0, 0
COMPONENT=03e85,1, 2, 0
COMPONENT=03e8a,1,-2, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04012]
DEFNAME=i_multi_ship_long_s
NAME=Long Ship
TYPE=t_ship
VALUE=18000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Ship
MULTIREGION=-2,-7,2,5
COMPONENT=03e4b,0, -5,0
COMPONENT=i_ship_hatch_s,0, 5,0
COMPONENT=03eb2,2, 1,0
COMPONENT=03eb1,-2, 1,0
TSPEECH spk_ship_cmds

[ITEMDEF 04013]
DEFNAME=i_multi_ship_long_w
NAME=Long Ship
TYPE=t_ship
VALUE=18000
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Ship
MULTIREGION=-7,-2,7,2
COMPONENT=03e50,5, 0,0
COMPONENT=i_ship_hatch_w,-5,0,0
COMPONENT=03e85,-1, 2,0
COMPONENT=03e8a,-1,-2,0
TSPEECH spk_ship_cmds

[ITEMDEF 04014]
DEFNAME=i_multi_ship_dragon_long_n
NAME=Long Dragon Ship
TYPE=t_ship
VALUE=18500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Dragon Ship
MULTIREGION=-2,-7,2,7
COMPONENT=03e4e,1, 5, 0
COMPONENT=i_ship_hatch_n,0,-5, 0
COMPONENT=03eb2,2, -1, 0
COMPONENT=03eb1,-2, -1, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04015]
DEFNAME=i_multi_ship_dragon_long_e
NAME=Long Dragon Ship
TYPE=t_ship
VALUE=18500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Dragon Ship
MULTIREGION=-7,-2,7,2
COMPONENT=03e55,-5,0, 0
COMPONENT=i_ship_hatch_e,5, 0, 0
COMPONENT=03e85,1, 2, 0
COMPONENT=03e8a,1,-2, 0
TSPEECH spk_ship_cmds

[ITEMDEF 04016]
DEFNAME=i_multi_ship_dragon_long_s
NAME=Long Dragon Ship
TYPE=t_ship
VALUE=18500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Dragon Ship
MULTIREGION=-2,-7,2,5
COMPONENT=03e4b,0, -5,0
COMPONENT=i_ship_hatch_s,0, 5,0
COMPONENT=03eb2,2, 1,0
COMPONENT=03eb1,-2, 1,0
TSPEECH spk_ship_cmds

[ITEMDEF 04017]
DEFNAME=i_multi_ship_dragon_long_w
NAME=Long Dragon Ship
TYPE=t_ship
VALUE=18500
CATEGORY=Multis
SUBSECTION=Ships
DESCRIPTION=Long Dragon Ship
MULTIREGION=-7,-2,7,2
COMPONENT=03e50,5, 0,0
COMPONENT=i_ship_hatch_w,-5,0,0
COMPONENT=03e85,-1, 2,0
COMPONENT=03e8a,-1,-2,0
TSPEECH spk_ship_cmds

[ITEMDEF 4018]
DEFNAME=i_sandstone_arena
NAME=Sandstone Arena
TYPE=t_multi
VALUE=5000000

CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Sandstone Arena

MULTIREGION=-12,-12,12,12
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=4000
MOREZ=400

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04064]
DEFNAME=i_multi_house_stone_plaster_small
NAME=small stone and plaster house
TYPE=t_multi
VALUE=43800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Stone and Plaster House
MULTIREGION=-3,-3,3,4
COMPONENT=i_door_wood,0,3,7
COMPONENT=i_sign_brass_2,2,4,5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!

[ITEMDEF 04066]
DEFNAME=i_multi_house_stone_small
NAME=small stone house
TYPE=t_multi
VALUE=46000
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Stone House
MULTIREGION=-3,-3,3,4
COMPONENT=i_door_wood,0,3,7
COMPONENT=i_sign_brass_2,2,4,5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04068]
DEFNAME=i_multi_house_stone_brick_small
NAME=small brick house
TYPE=t_multi
VALUE=43800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Brick House
MULTIREGION=-3,-3,3,4
COMPONENT=i_door_wood,0,3,7
COMPONENT=i_sign_brass_2,2,4,5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0406a]
DEFNAME=i_multi_house_stone_wood_small
NAME=small wood house
TYPE=t_multi
VALUE=43800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Wood House
MULTIREGION=-3,-3,3,4
COMPONENT=i_door_wood,0,3,7
COMPONENT=i_sign_brass_2,2,4,5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0406c]
DEFNAME=i_multi_house_wood_plaster_small
NAME=small wood and plaster house
TYPE=t_multi
VALUE=43800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Wood and Plaster House
MULTIREGION=-3,-3,3,4
COMPONENT=i_door_wood,0,3,7
COMPONENT=i_sign_brass_2,2,4,5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0406d]
DUPEITEM=0406c

[ITEMDEF 0406e]
DEFNAME=i_multi_house_wood_thatched_small
NAME=small wood house thatched roof
TYPE=t_multi
VALUE=43800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Wood House Thatched Roof
MULTIREGION=-3,-3,3,4
COMPONENT=i_door_wood,0,3,7
COMPONENT=0bd0,2,4,5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0406f]
DUPEITEM=0406e

[ITEMDEF 04070]
DEFNAME=i_multi_tent_blue
NAME=blue tent
TYPE=t_multi
VALUE=22000
CATEGORY=Multis
SUBSECTION=Tents
DESCRIPTION=Blue Tent
MULTIREGION=-3,-3,4,4
COMPONENT=0e43,0,-1,7
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=950
MOREZ=6

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04071]
DUPEITEM=04070

[ITEMDEF 04072]
DEFNAME=i_multi_tent_green
NAME=green tent
TYPE=t_multi
VALUE=22000
CATEGORY=Multis
SUBSECTION=Tents
DESCRIPTION=Green Tent
MULTIREGION=-3,-3,4,4
COMPONENT=0e43,0,-1,7	// box
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=950
MOREZ=6

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04073]
DUPEITEM=04072

[ITEMDEF 04074]
DEFNAME=i_multi_house_3room
NAME=large brick house
TYPE=t_multi
VALUE=144500
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Three Room House
MULTIREGION=-7,-7,6,6
COMPONENT=i_door_wood,-1, 6, 7
COMPONENT=06A7,0, 6, 7
COMPONENT=i_door_wood,-3,-1, 7
COMPONENT=i_door_wood,3,-1, 7	// Front door.
COMPONENT=i_sign_brass_2,3, 7, 5	// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1100
MOREZ=8

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04075]
DUPEITEM=04074

[ITEMDEF 04076]
DEFNAME=i_multi_house_wood_plaster_2story
NAME=two story wood and plaster house
TYPE=t_multi
VALUE=192400
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Two Story Wood and Plaster House
MULTIREGION=-7,-7,6,7
COMPONENT=i_door_wood,-3, 6, 7
COMPONENT=06A7,-2, 6, 7
COMPONENT=i_door_wood,-2, 0, 27
COMPONENT=i_door_wood,-3, 0, 7	// Front door.
COMPONENT=i_sign_brass_2, 1, 7, 5	// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1370
MOREZ=10

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04077]
DUPEITEM=04076

[ITEMDEF 04078]
DEFNAME=i_multi_house_stone_plaster_2story
NAME=two story stone and plaster house
TYPE=t_multi
VALUE=192400
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Two Story Stone and Plaster House
MULTIREGION=-7,-7,6,7
COMPONENT=i_door_wood,-3, 6, 7
COMPONENT=06A7,-2, 6, 7
COMPONENT=i_door_wood,-3, 0, 27
COMPONENT=i_door_wood,-3, 0, 7 // Front door.
COMPONENT=i_sign_brass_2, 1, 7, 5 // Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1370
MOREZ=10

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04079]
DUPEITEM=04078

[ITEMDEF 0407a]
DEFNAME=i_multi_tower
NAME=tower
TYPE=t_multi
VALUE=433200
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Tower
MULTIREGION=-11,-7,12,8
COMPONENT=067D,1,4,46
COMPONENT=067D,1,4,26
COMPONENT=i_door_metal,3,-2,6
COMPONENT=0677,1,6,6// Front door 2.
COMPONENT=i_door_metal,0,6,6// Front door 1.
COMPONENT=0bd0,4,7,5	// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=2119
MOREZ=15

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0407b]
DUPEITEM=0407a

[ITEMDEF 0407c]
DEFNAME=i_multi_keep
NAME=stone keep
TYPE=t_multi
VALUE=665200
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Keep
MULTIREGION=-11,-11,12,12
COMPONENT=0677,1,10,6	// Front door 2.
COMPONENT=i_door_metal,0,10,6	// Front door 1.
COMPONENT=0bd0,4,11,5	// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=2625
MOREZ=18

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0407d]
DUPEITEM=0407c

[ITEMDEF 0407e]
DEFNAME=i_multi_castle
NAME=castle
TYPE=t_multi
VALUE=1022800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Castle
MULTIREGION=-15,-15,15,16
COMPONENT=0677,1,5,6
COMPONENT=i_door_metal,0,5,6
COMPONENT=0677,1,15,6	// Front door 2.
COMPONENT=i_door_metal,0,15,6	// Front door 1.
COMPONENT=0677,1,11,6
COMPONENT=i_door_metal,0,11,6
COMPONENT=0677,0,-11,6	// Back door 2.
COMPONENT=i_door_metal,-1,-11,6	// Back door 1.
COMPONENT=0bd0,4,16,5// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=4076
MOREZ=28

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0407f]
//NAME=Castle
DUPEITEM=0407e

[ITEMDEF 04087]
DEFNAME=i_multi_shop_blacksmithy_large_2
NAME=large blacksmithy shop
TYPE=t_multi
VALUE=152800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Large Blacksmithy Shop
MULTIREGION=-7,-7,7,7
COMPONENT=i_door_wood,4,-1,7
COMPONENT=06ad,1,4,7
COMPONENT=06ad,1,-4,7
COMPONENT=06A7,-3, 6,// Front door 2.
COMPONENT=i_door_wood,	-4, 6, 7// Front door 1.
COMPONENT=i_sign_brass_2,0,7,5// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1100
MOREZ=8

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0408c]
DEFNAME=i_multi_shop_blacksmithy_large
NAME=large blacksmithy shop
TYPE=t_multi
VALUE=153000
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Large Blacksmithy Shop
MULTIREGION=-7,-7,7,7
COMPONENT=i_door_wood,4,-1,7
COMPONENT=06ad,1,4,7
COMPONENT=06ad,1,-4,7
COMPONENT=06A7,-3,6,7	// Front door 2.
COMPONENT=i_door_wood,-4, 6, 7	// Front door 1.
COMPONENT=i_sign_brass_2, 0, 7, 5// Place the sign.
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1100
MOREZ=8

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0408d]
DUPEITEM=0408c

[ITEMDEF 04096]
DEFNAME=i_multi_house_patio_marble
NAME=large marble patio house
TYPE=t_multi
VALUE=192000
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Large Marble Patio House
MULTIREGION=-7,-7,7,7
COMPONENT=i_door_metal, -4, 3, 4
COMPONENT=0677, -3, 3, 4
COMPONENT=i_sign_brass_2, 0, 7, 0
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1370
MOREZ=10

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 04098]
// Small Tower
DEFNAME=i_multi_tower_wizard
NAME=small tower
TYPE=t_multi
VALUE=88500
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Wizards Tower
MULTIREGION=-3,-3,4,4
COMPONENT=i_door_metal, 3, 3, 5
COMPONENT=i_sign_brass_2, 1, 4, 5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=580
MOREZ=4

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0409a]
DEFNAME=i_multi_cabin_log_2story
NAME=two story log cabin
TYPE=t_multi
VALUE=97800
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Two Story Log Cabin
MULTIREGION=-3,-6,4,7
COMPONENT=06b5,1,4,8
COMPONENT=06b5,1,0,29
COMPONENT=i_sign_brass_2,4,7,9
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1100
MOREZ=8

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0409c]
DEFNAME=i_multi_house_patio_sand
NAME=sandstone patio house
TYPE=t_multi
VALUE=90900
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Sandstone Patio House
MULTIREGION=-5,-4,6,4
COMPONENT=i_door_wood, -1, 3, 6
COMPONENT=i_sign_brass_2, 2, 4, 1
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=850
MOREZ=6

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 0409e]
DEFNAME=i_multi_villa_2story
NAME=two story villa
TYPE=t_multi
VALUE=136500
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Two Story Villa
MULTIREGION=-5,-5,5,6
COMPONENT=i_door_wood, -3, -1, 25
COMPONENT=06ad, 1, 0, 25
COMPONENT=i_door_wood, 3, 1, 5
COMPONENT=06a7, 4, 1, 5
COMPONENT=i_sign_brass_2, 1, 6, 3
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=1100
MOREZ=8

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 040a0]
DEFNAME=i_multi_shop_stone_small
NAME=small stone shop
TYPE=t_multi
VALUE=60600
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Stone Shop
MULTIREGION=-3,-3,3,4
COMPONENT=067b,-2, 0, 27
COMPONENT=i_sign_brass_2, 3, 4, 7
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 040a2]
DEFNAME=i_multi_shop_marble_small
NAME=small marble shop
TYPE=t_multi
VALUE=63000
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Small Marble Shop
MULTIREGION=-3,-3,3,4
COMPONENT=067b, -2, 0, 24
COMPONENT=i_sign_brass_2, 3, 4, 5
TSPEECH spk_house_cmds

ON=@Create
TIMER=604800
MOREY=425
MOREZ=3

ON=@Targon_Item
IF (<MOREX>=4)
SRC.MESSAGE You can only ban people!
RETURN 1
ENDIF
IF (<MOREX>=5)
SRC.MESSAGE You can only eject people!
RETURN 1
ENDIF
IF (<MOREX>=7)
SRC.SYSMESSAGE You can only transfer house's to other players!
RETURN 1
ENDIF
IF (<MOREX>=1)
IF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_stone_guild)
SRC.TARG.MESSAGE You cannot lock down a guildstone!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>=i_strong_box)
SRC.TARG.MESSAGE You cannot lock down a strongbox!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.CONT>>=1)
SRC.MESSAGE You can not lock this down, place it on the ground first.
RETURN 1
ELSEIF (<SRC.TARG.LINK>=<UID>) || (<SRC.TARG.ATTR>=<SRC.TARG.ATTR>|attr_move_never)
SRC.MESSAGE That is already locked down.
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=<MOREY>)
SRC.TARG.MESSAGE You may not lock down this item!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.TYPE>==t_deed)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.TYPE t_deed_locked
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>) && (<SRC.TARG.AMOUNT>>=2)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.LINK <UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+1
SRC.TARG.ATTR <SRC.TARG.ATTR>|attr_move_never
SRC.TARG.MESSAGE Locked down!
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=2)
IF (<SRC.TARG.TYPE>==t_secure)
SRC.MESSAGE That is already secured.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE You can not lock down a door!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.TARG.MESSAGE You can not lock this down under the house sign!
SRC.TARG.MESSAGE I refuse to lock this down.
RETURN 1
ELSEIF !(<SRC.TARG.TYPE>==t_container)
SRC.MESSAGE This isnt a container!
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot secure a strongbox!
RETURN 1
ELSEIF (<EVAL <TAG.LOCKNUMBER>>>=(<MOREY>-124)) || (<EVAL <TAG.SECURENUMBER>>>=<MOREZ>)
SRC.TARG.MESSAGE You may not secure this container!
SRC.TARG.MESSAGE The maximum number of locked down items would be exceeded!
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>) && (<SRC.TARG.TYPE>==t_container) && (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.REGION.NAME>==<MORE>)
SRC.TARG.TYPE t_secure
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+125
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+1
TAG.SECUREMAX (<MOREZ>+(-<EVAL <TAG.SECURENUMBER>>)
SRC.TARG.LINK <UID>
SRC.TARG.MESSAGE Secure!
SRC.SYSMESSAGE House secure container count : <MOREZ>
SRC.SYSMESSAGE Number of secures left : <EVAL <TAG.SECUREMAX>>
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=3)
IF !(<SRC.TARG.REGION.NAME>==<MORE>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_door) || (<SRC.TARG.TYPE>==t_door_locked)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_sign_gump)
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can) || (<SRC.TARG.BASEID>==i_strong_box)
SRC.MESSAGE You cannot release that!
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_deed_locked)
SRC.TARG.TYPE t_deed
SRC.TARG.LINK <SRC.TARG.UID>
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_secure)
SRC.TARG.TYPE t_container
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-125)
TAG.SECURENUMBER <EVAL <TAG.SECURENUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.LINK>==<UID>)
SRC.TARG.LINK <SRC.TARG.UID>
SRC.TARG.ATTR <SRC.TARG.ATTR>&~attr_move_never
TAG.LOCKNUMBER <EVAL <TAG.LOCKNUMBER>>+(-1)
SRC.TARG.MESSAGE [no longer locked down]
SRC.TARG.MESSAGE
SRC.FIX
RETURN 1
ELSE
SRC.MESSAGE This is not locked down or secured!
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=6)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.SYSMESSAGE That is not in your house.
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==1)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX1 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==2)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX2 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.BASEID>==i_strong_box) && (<SRC.TARG.MOREM>==3)
SRC.TARG.REMOVE
TAG.STRONGBOX <EVAL <TAG.STRONGBOX>>+(-1)
TAG.STRONGBOX3 0
SRC.FIX
RETURN 1
ELSEIF (<SRC.TARG.TYPE>==t_trash_can)
SRC.TARG.REMOVE
TAG.TRASHCAN 0
SRC.FIX
RETURN 1
ELSE
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
ENDIF

ON=@Targon_Char
IF (<MOREX>=1)
SRC.MESSAGE You cannot lock people down!
RETURN 1
ELSEIF (<MOREX>=2)
SRC.MESSAGE You cannot secure people!
RETURN 1
ELSEIF (<MOREX>=3)
SRC.MESSAGE You cannot release a person!
RETURN 1
ELSEIF (<MOREX>=6)
SRC.SYSMESSAGE You can only remove trash barrels and strong boxes.
RETURN 1
ENDIF
IF (<MOREX>=4)
IF !(<SRC.TARG.REGION.NAME>==<REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to ban a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.MESSAGE You cannot ban friends from the house.
RETURN 1
ELSEIF (<TAG.BAN1>==0)
TAG.BAN1=<SRC.TARG.UID>
TAG.BAN1NAME=<SRC.TARG.NAME>
REGION.TAG.BAN1=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN2>==0)
TAG.BAN2=<SRC.TARG.UID>
TAG.BAN2NAME=<SRC.TARG.NAME>
REGION.TAG.BAN2=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN3>==0)
TAG.BAN3=<SRC.TARG.UID>
TAG.BAN3NAME=<SRC.TARG.NAME>
REGION.TAG.BAN3=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN4>==0)
TAG.BAN4=<SRC.TARG.UID>
TAG.BAN4NAME=<SRC.TARG.NAME>
REGION.TAG.BAN4=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN5>==0)
TAG.BAN5=<SRC.TARG.UID>
TAG.BAN5NAME=<SRC.TARG.NAME>
REGION.TAG.BAN5=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN6>==0)
TAG.BAN6=<SRC.TARG.UID>
TAG.BAN6NAME=<SRC.TARG.NAME>
REGION.TAG.BAN6=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN7>==0)
TAG.BAN7=<SRC.TARG.UID>
TAG.BAN7NAME=<SRC.TARG.NAME>
REGION.TAG.BAN7=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN8>==0)
TAG.BAN8=<SRC.TARG.UID>
TAG.BAN8NAME=<SRC.TARG.NAME>
REGION.TAG.BAN8=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN9>==0)
TAG.BAN9=<SRC.TARG.UID>
TAG.BAN9NAME=<SRC.TARG.NAME>
REGION.TAG.BAN9=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN10>==0)
TAG.BAN10=<SRC.TARG.UID>
TAG.BAN10NAME=<SRC.TARG.NAME>
REGION.TAG.BAN10=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN11>==0)
TAG.BAN11=<SRC.TARG.UID>
TAG.BAN11NAME=<SRC.TARG.NAME>
REGION.TAG.BAN11=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN12>==0)
TAG.BAN12=<SRC.TARG.UID>
TAG.BAN12NAME=<SRC.TARG.NAME>
REGION.TAG.BAN12=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN13>==0)
TAG.BAN13=<SRC.TARG.UID>
TAG.BAN13NAME=<SRC.TARG.NAME>
REGION.TAG.BAN13=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN14>==0)
TAG.BAN14=<SRC.TARG.UID>
TAG.BAN14NAME=<SRC.TARG.NAME>
REGION.TAG.BAN14=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN15>==0)
TAG.BAN15=<SRC.TARG.UID>
TAG.BAN15NAME=<SRC.TARG.NAME>
REGION.TAG.BAN15=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN16>==0)
TAG.BAN16=<SRC.TARG.UID>
TAG.BAN16NAME=<SRC.TARG.NAME>
REGION.TAG.BAN16=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN17>==0)
TAG.BAN17=<SRC.TARG.UID>
TAG.BAN17NAME=<SRC.TARG.NAME>
REGION.TAG.BAN17=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN18>==0)
TAG.BAN18=<SRC.TARG.UID>
TAG.BAN18NAME=<SRC.TARG.NAME>
REGION.TAG.BAN18=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN19>==0)
TAG.BAN19=<SRC.TARG.UID>
TAG.BAN19NAME=<SRC.TARG.NAME>
REGION.TAG.BAN19=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN20>==0)
TAG.BAN20=<SRC.TARG.UID>
TAG.BAN20NAME=<SRC.TARG.NAME>
REGION.TAG.BAN20=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN21>==0)
TAG.BAN21=<SRC.TARG.UID>
TAG.BAN21NAME=<SRC.TARG.NAME>
REGION.TAG.BAN21=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN22>==0)
TAG.BAN22=<SRC.TARG.UID>
TAG.BAN22NAME=<SRC.TARG.NAME>
REGION.TAG.BAN22=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN23>==0)
TAG.BAN23=<SRC.TARG.UID>
TAG.BAN23NAME=<SRC.TARG.NAME>
REGION.TAG.BAN23=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN24>==0)
TAG.BAN24=<SRC.TARG.UID>
TAG.BAN24NAME=<SRC.TARG.NAME>
REGION.TAG.BAN24=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN25>==0)
TAG.BAN25=<SRC.TARG.UID>
TAG.BAN25NAME=<SRC.TARG.NAME>
REGION.TAG.BAN25=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN26>==0)
TAG.BAN26=<SRC.TARG.UID>
TAG.BAN26NAME=<SRC.TARG.NAME>
REGION.TAG.BAN26=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN27>==0)
TAG.BAN27=<SRC.TARG.UID>
TAG.BAN27NAME=<SRC.TARG.NAME>
REGION.TAG.BAN27=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN28>==0)
TAG.BAN28=<SRC.TARG.UID>
TAG.BAN28NAME=<SRC.TARG.NAME>
REGION.TAG.BAN28=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN29>==0)
TAG.BAN29=<SRC.TARG.UID>
TAG.BAN29NAME=<SRC.TARG.NAME>
REGION.TAG.BAN29=<SRC.TARG.UID>
SRC.TARG.GO <.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN30>==0)
TAG.BAN30=<SRC.TARG.UID>
TAG.BAN30NAME=<SRC.TARG.NAME>
REGION.TAG.BAN30=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN31>==0)
TAG.BAN31=<SRC.TARG.UID>
TAG.BAN31NAME=<SRC.TARG.NAME>
REGION.TAG.BAN31=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN32>==0)
TAG.BAN32=<SRC.TARG.UID>
TAG.BAN32NAME=<SRC.TARG.NAME>
REGION.TAG.BAN32=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN33>==0)
TAG.BAN33=<SRC.TARG.UID>
TAG.BAN33NAME=<SRC.TARG.NAME>
REGION.TAG.BAN33=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN34>==0)
TAG.BAN34=<SRC.TARG.UID>
TAG.BAN34NAME=<SRC.TARG.NAME>
REGION.TAG.BAN34=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN35>==0)
TAG.BAN35=<SRC.TARG.UID>
TAG.BAN35NAME=<SRC.TARG.NAME>
REGION.TAG.BAN35=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN36>==0)
TAG.BAN36=<SRC.TARG.UID>
TAG.BAN36NAME=<SRC.TARG.NAME>
REGION.TAG.BAN36=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN37>==0)
TAG.BAN37=<SRC.TARG.UID>
TAG.BAN37NAME=<SRC.TARG.NAME>
REGION.TAG.BAN37=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN38>==0)
TAG.BAN38=<SRC.TARG.UID>
TAG.BAN38NAME=<SRC.TARG.NAME>
REGION.TAG.BAN38=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN39>==0)
TAG.BAN39=<SRC.TARG.UID>
TAG.BAN39NAME=<SRC.TARG.NAME>
REGION.TAG.BAN39=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
RETURN 1
ELSEIF (<TAG.BAN40>==0)
TAG.BAN40=<SRC.TARG.UID>
TAG.BAN40NAME=<SRC.TARG.NAME>
REGION.TAG.BAN40=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN41>==0)
TAG.BAN41=<SRC.TARG.UID>
TAG.BAN41NAME=<SRC.TARG.NAME>
REGION.TAG.BAN41=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN42>==0)
TAG.BAN42=<SRC.TARG.UID>
TAG.BAN42NAME=<SRC.TARG.NAME>
REGION.TAG.BAN42=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN43>==0)
TAG.BAN43=<SRC.TARG.UID>
TAG.BAN43NAME=<SRC.TARG.NAME>
REGION.TAG.BAN43=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN44>==0)
TAG.BAN44=<SRC.TARG.UID>
TAG.BAN44NAME=<SRC.TARG.NAME>
REGION.TAG.BAN44=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN45>==0)
TAG.BAN45=<SRC.TARG.UID>
TAG.BAN45NAME=<SRC.TARG.NAME>
REGION.TAG.BAN45=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN46>==0)
TAG.BAN46=<SRC.TARG.UID>
TAG.BAN46NAME=<SRC.TARG.NAME>
REGION.TAG.BAN46=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN47>==0)
TAG.BAN47=<SRC.TARG.UID>
TAG.BAN47NAME=<SRC.TARG.NAME>
REGION.TAG.BAN47=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN48>==0)
TAG.BAN48=<SRC.TARG.UID>
TAG.BAN48NAME=<SRC.TARG.NAME>
REGION.TAG.BAN48=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN49>==0)
TAG.BAN49=<SRC.TARG.UID>
TAG.BAN49NAME=<SRC.TARG.NAME>
REGION.TAG.BAN49=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSEIF (<TAG.BAN50>==0)
TAG.BAN50=<SRC.TARG.UID>
TAG.BAN50NAME=<SRC.TARG.NAME>
REGION.TAG.BAN50=<SRC.TARG.UID>
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been banned from this house!
RETURN 1
ELSE
SRC.MESSAGE Your banning list is full.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=5)
IF !(<MORE>==<SRC.TARG.REGION.NAME>)
SRC.MESSAGE You may not eject someone who is not in your house!
RETURN 1
ELSEIF (<SRC.TARG.ACCOUNT.PLEVEL>>=4)
SRC.SYSMESSAGE It would not be wise to eject a staff member.
RETURN 1
ELSEIF (<SRC.TARG.ID>=c_house_vendor) || (<SRC.TARG.ID>=c_house_vendor_f)
SRC.MESSAGE You cannot eject a vendor.
RETURN 1
ELSEIF (<SRC.TARG.UID>=<SRC.UID>) || (<SRC.TARG.UID>=<SRC.UID>)
SRC.MESSAGE You cannot eject yourself!
RETURN 1
ELSEIF (<SRC.TARG.UID>==<MORE>) || (<TAG.CO1UID>==<SRC.TARG.UID>) || (<TAG.CO2UID>==<SRC.TARG.UID>) || (<TAG.CO3UID>==<SRC.TARG.UID>) || (<TAG.CO4UID>==<SRC.TARG.UID>) || (<TAG.CO5UID>==<SRC.TARG.UID>) || (<TAG.CO6UID>==<SRC.TARG.UID>) || (<TAG.CO7UID>==<SRC.TARG.UID>) || (<TAG.CO8UID>==<SRC.TARG.UID>) || (<TAG.F1UID>==<SRC.TARG.UID>) || (<TAG.F2UID>==<SRC.TARG.UID>) || (<TAG.F3UID>==<SRC.TARG.UID>) || (<TAG.F4UID>==<SRC.TARG.UID>) || (<TAG.F5UID>==<SRC.TARG.UID>) || (<TAG.F6UID>==<SRC.TARG.UID>) || (<TAG.F7UID>==<SRC.TARG.UID>) || (<TAG.F8UID>==<SRC.TARG.UID>) || (<TAG.F9UID>==<SRC.TARG.UID>) || (<TAG.F10UID>==<SRC.TARG.UID>) || (<TAG.F11UID>==<SRC.TARG.UID>) || (<TAG.F12UID>==<SRC.TARG.UID>) || (<TAG.F13UID>==<SRC.TARG.UID>) || (<TAG.F14UID>==<SRC.TARG.UID>) || (<TAG.F15UID>==<SRC.TARG.UID>) || (<TAG.F16UID>==<SRC.TARG.UID>) || (<TAG.F17UID>==<SRC.TARG.UID>) || (<TAG.F18UID>==<SRC.TARG.UID>) || (<TAG.F19UID>==<SRC.TARG.UID>) || (<TAG.F20UID>==<SRC.TARG.UID>)
SRC.SYSMESSAGE You cannot eject friends from the house.
RETURN 1
ELSE
SRC.TARG.GO <LINK.P>
SRC.TARG.FIX
SRC.TARG.SYSMESSAGE You have been ejected from the house!
SRC.SYSMESSAGE <SRC.TARG.NAME> has been ejected from the house.
RETURN 1
ENDIF
ENDIF
IF (<MOREX>=7)
IF (<SRC.TARG.UID>==<SRC.UID>)
SRC.SYSMESSAGE You cannot transfer a house to yourself, silly.
RETURN 1
ELSEIF (<SRC.REGION.FLAGS>==01092) && (<SRC.TARG.REGION.FLAGS>==01092) || (<SRC.REGION.FLAGS>==01192) && (<SRC.TARG.REGION.FLAGS>==01192)
SRC.SYSMESSAGE You must be outside your house to transfer it.
RETURN 1
ELSE
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE <SRC.ACT.UID>
SRC.ACT.MORE2 <SRC.ACT.UID>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(21).UID>
VAR.KEYMORE=<SRC.ACT.UID>
SRC.NEWITEM=i_key_copper
SRC.ACT.MORE=<VAR.KEYMORE>
SRC.ACT.MORE2=<VAR.KEYMORE>
SRC.ACT.CONT=<SRC.TARG.FINDLAYER(29).UID>
LINK.MORE=<VAR.KEYMORE>
MOREX 0
MOREM 0
LINK.MOREX 0
LINK.MOREY 0
LINK.MOREZ 0
LINK.MOREM 0
MORE=<SRC.TARG.UID>
MORE2=<VAR.KEYMORE>
LINK.MORE2=0
TAG.F1UID 0
TAG.F2UID 0
TAG.F3UID 0
TAG.F4UID 0
TAG.F5UID 0
TAG.F6UID 0
TAG.F7UID 0
TAG.F8UID 0
TAG.F9UID 0
TAG.F10UID 0
TAG.F11UID 0
TAG.F12UID 0
TAG.F13UID 0
TAG.F14UID 0
TAG.F15UID 0
TAG.F16UID 0
TAG.F17UID 0
TAG.F18UID 0
TAG.F19UID 0
TAG.F20UID 0
TAG.CO1UID 0
TAG.CO2UID 0
TAG.CO3UID 0
TAG.CO4UID 0
TAG.CO5UID 0
TAG.CO6UID 0
TAG.CO7UID 0
TAG.CO8UID 0
TAG.BAN1=0
TAG.BAN2=0
TAG.BAN3=0
TAG.BAN4=0
TAG.BAN5=0
TAG.BAN6=0
TAG.BAN7=0
TAG.BAN8=0
TAG.BAN9=0
TAG.BAN10=0
TAG.BAN11=0
TAG.BAN12=0
TAG.BAN13=0
TAG.BAN14=0
TAG.BAN15=0
TAG.BAN16=0
TAG.BAN17=0
TAG.BAN18=0
TAG.BAN19=0
TAG.BAN20=0
TAG.BAN21=0
TAG.BAN22=0
TAG.BAN23=0
TAG.BAN24=0
TAG.BAN25=0
TAG.BAN26=0
TAG.BAN27=0
TAG.BAN28=0
TAG.BAN29=0
TAG.BAN30=0
TAG.BAN31=0
TAG.BAN32=0
TAG.BAN33=0
TAG.BAN34=0
TAG.BAN35=0
TAG.BAN36=0
TAG.BAN37=0
TAG.BAN38=0
TAG.BAN39=0
TAG.BAN40=0
TAG.BAN41=0
TAG.BAN42=0
TAG.BAN43=0
TAG.BAN44=0
TAG.BAN45=0
TAG.BAN46=0
TAG.BAN47=0
TAG.BAN48=0
TAG.BAN49=0
TAG.BAN50=0
REGION.TAG.F1UID 0
REGION.TAG.F2UID 0
REGION.TAG.F3UID 0
REGION.TAG.F4UID 0
REGION.TAG.F5UID 0
REGION.TAG.F6UID 0
REGION.TAG.F7UID 0
REGION.TAG.F8UID 0
REGION.TAG.F9UID 0
REGION.TAG.F10UID 0
REGION.TAG.F11UID 0
REGION.TAG.F12UID 0
REGION.TAG.F13UID 0
REGION.TAG.F14UID 0
REGION.TAG.F15UID 0
REGION.TAG.F16UID 0
REGION.TAG.F17UID 0
REGION.TAG.F18UID 0
REGION.TAG.F19UID 0
REGION.TAG.F20UID 0
REGION.TAG.CO1UID 0
REGION.TAG.CO2UID 0
REGION.TAG.CO3UID 0
REGION.TAG.CO4UID 0
REGION.TAG.CO5UID 0
REGION.TAG.CO6UID 0
REGION.TAG.CO7UID 0
REGION.TAG.CO8UID 0
REGION.TAG.BAN1=0
REGION.TAG.BAN2=0
REGION.TAG.BAN3=0
REGION.TAG.BAN4=0
REGION.TAG.BAN5=0
REGION.TAG.BAN6=0
REGION.TAG.BAN7=0
REGION.TAG.BAN8=0
REGION.TAG.BAN9=0
REGION.TAG.BAN10=0
REGION.TAG.BAN11=0
REGION.TAG.BAN12=0
REGION.TAG.BAN13=0
REGION.TAG.BAN14=0
REGION.TAG.BAN15=0
REGION.TAG.BAN16=0
REGION.TAG.BAN17=0
REGION.TAG.BAN18=0
REGION.TAG.BAN19=0
REGION.TAG.BAN20=0
REGION.TAG.BAN21=0
REGION.TAG.BAN22=0
REGION.TAG.BAN23=0
REGION.TAG.BAN24=0
REGION.TAG.BAN25=0
REGION.TAG.BAN26=0
REGION.TAG.BAN27=0
REGION.TAG.BAN28=0
REGION.TAG.BAN29=0
REGION.TAG.BAN30=0
REGION.TAG.BAN31=0
REGION.TAG.BAN32=0
REGION.TAG.BAN33=0
REGION.TAG.BAN34=0
REGION.TAG.BAN35=0
REGION.TAG.BAN36=0
REGION.TAG.BAN37=0
REGION.TAG.BAN38=0
REGION.TAG.BAN39=0
REGION.TAG.BAN40=0
REGION.TAG.BAN41=0
REGION.TAG.BAN42=0
REGION.TAG.BAN43=0
REGION.TAG.BAN44=0
REGION.TAG.BAN45=0
REGION.TAG.BAN46=0
REGION.TAG.BAN47=0
REGION.TAG.BAN48=0
REGION.TAG.BAN49=0
REGION.TAG.BAN50=0
SRC.TARG.UPDATE
SRC.RESEND
SRC.SYSMESSAGE You have transfered ownership of the house.
SRC.TARG.SYSMESSAGE You are now the owner of this house.  All bans and friends have been removed, and the locks have been changed.  New keys have been placed in your backpack and your bank.
RETURN 1
ENDIF
ENDIF

[ITEMDEF 043e8]
// Treasure multi's don't work
DEFNAME=i_multi_treasure
NAME=Treasure
TYPE=t_multi
VALUE=1000
CATEGORY=Multis
SUBSECTION=Useless
DESCRIPTION=Treasure 1
MULTIREGION=-4,-5,4,5

[ITEMDEF 043e9]
// Treasure multi's don't work
DEFNAME=i_multi_treasure2
NAME=Treasure
TYPE=t_multi
VALUE=2000
CATEGORY=Multis
SUBSECTION=Useless
DESCRIPTION=Treasure 2
MULTIREGION=-4,-5,4,5

[ITEMDEF 043ea]
// Treasure multi's don't work
DEFNAME=i_multi_treasure3
NAME=Treasure
TYPE=t_multi
VALUE=3000
CATEGORY=Multis
SUBSECTION=Useless
DESCRIPTION=Treasure 3
MULTIREGION=-4,-5,4,5

[ITEMDEF 043eb]
// Treasure multi's don't work
DEFNAME=i_multi_treasure4
NAME=Treasure
TYPE=t_multi
VALUE=4000
CATEGORY=Multis
SUBSECTION=Useless
DESCRIPTION=Treasure 4
MULTIREGION=-4,-5,4,5

[ITEMDEF 047d0]
DEFNAME=i_multi_lattice
NAME=Lattice
TYPE=t_multi
VALUE=1000
CATEGORY=Multis
SUBSECTION=Other
DESCRIPTION=Lattice 1
MULTIREGION=-4,-5,4,5

[ITEMDEF 047d7]
DEFNAME=i_multi_lattice7
NAME=Lattice
TYPE=t_multi
VALUE=1000
CATEGORY=Multis
SUBSECTION=Other
DESCRIPTION=Lattice 7
MULTIREGION=-4,-5,4,5

[ITEMDEF 04BB8]
DEFNAME=i_multi_house_wheat_cottage
NAME=Wheat House
TYPE=t_multi
VALUE=75000
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Wheat Cottage
MULTIREGION=-4,-5,4,5

[ITEMDEF 05388]
DEFNAME=i_multi_evil_compound
NAME=Evil Compound
TYPE=t_multi
VALUE=10000000
CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Evil Compound
MULTIREGION=-24,-12,24,13

//************************
// Pure custom multis,  MULTIREGION=0,0,0,0 is just fine. It will automatically union the items.

[ITEMDEF 04e00]
// N
DEFNAME=i_multi_carpet_magic_n
NAME=Carpet
ID=0ac1
TYPE=T_MUTLI
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Carpet
MULTIREGION=0,0,0,0
COMPONENT=0ac3,-1,-1
COMPONENT=0af7,0,-1
COMPONENT=0ac5,1,-1
COMPONENT=0af8,1,0
COMPONENT=0ac2,1,1
COMPONENT=0af9,0,1
COMPONENT=0ac4,-1,1
COMPONENT=0af6,-1,0

[ITEMDEF 04e01]
// E
DEFNAME=i_multi_carpet_magic_e
NAME=Carpet
ID=0ac1
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Carpet
MULTIREGION=0,0,0,0
COMPONENT=0ac3,-1,-1
COMPONENT=0af7,0,-1
COMPONENT=0ac5,1,-1
COMPONENT=0af8,1,0
COMPONENT=0ac2,1,1
COMPONENT=0af9,0,1
COMPONENT=0ac4,-1,1
COMPONENT=0af6,-1,0

[ITEMDEF 04e02]
// S
DEFNAME=i_multi_carpet_magic_s
NAME=Carpet
ID=0ac1
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Carpet
MULTIREGION=0,0,0,0
COMPONENT=0ac3,-1,-1
COMPONENT=0af7,0,-1
COMPONENT=0ac5,1,-1
COMPONENT=0af8,1,0
COMPONENT=0ac2,1,1
COMPONENT=0af9,0,1
COMPONENT=0ac4,-1,1
COMPONENT=0af6,-1,0

[ITEMDEF 04e03]
// W
DEFNAME=i_multi_carpet_magic_w
NAME=Carpet
ID=0ac1
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Carpet
MULTIREGION=0,0,0,0
COMPONENT=0ac3,-1,-1
COMPONENT=0af7,0,-1
COMPONENT=0ac5,1,-1
COMPONENT=0af8,1,0
COMPONENT=0ac2,1,1
COMPONENT=0af9,0,1
COMPONENT=0ac4,-1,1
COMPONENT=0af6,-1,0

[ITEMDEF i_multi_cage]
NAME=Cage
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Cage
MULTIREGION=0,0,0,0
COMPONENT=i_fence_iron,-1, 0, 0
COMPONENT=0822, 1,  1, 0
COMPONENT=i_fence_iron, -1, 1, 0
COMPONENT=i_fence_iron, 1,  0, 0
COMPONENT=0823, 0, -1, 0
COMPONENT=0823, 0,  1, 0
COMPONENT=0823, 1, -1, 0

[ITEMDEF i_multi_fount_brown]
NAME=Brown Fountain
ID=019d3
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Brown Fountain
MULTIREGION=0,0,0,0
COMPONENT=019cf,0, 1, 0
COMPONENT=019ce,0, 2, 0
COMPONENT=i_fountain_2,0, 3, 0
COMPONENT=019d1,1, 0, 0
COMPONENT=019d0,1, 1, 0
COMPONENT=019cd,1, 2, 0
COMPONENT=019c4,1, 3, 0
COMPONENT=019ca,2, 0, 0
COMPONENT=019cb,2, 1, 0
COMPONENT=019cc,2, 2, 0
COMPONENT=019c5,2, 3, 0
COMPONENT=019c9,3, 0, 0
COMPONENT=019c8,3, 1, 0
COMPONENT=019c7,3, 2, 0
COMPONENT=019c6,3, 3, 0

ON=@Create
//SECTOR.ALLCLIENTS SOUND 42

[ITEMDEF i_multi_fount_white]
NAME=White Fountain
ID=5950
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=White Fountain
MULTIREGION=0,0,0,0
COMPONENT=5953 -1 -1 0 0
COMPONENT=5949 -1 0 0 0
COMPONENT=5948 -1 1 0 0
COMPONENT=5937 -1 2 0 0
COMPONENT=5951 0 -1 0 0
COMPONENT=5947 0 1 0 0
COMPONENT=5938 0 2 0 0
COMPONENT=5944 1 -1 0 0
COMPONENT=5945 1 0 0 0
COMPONENT=5946 1 1 0 0
COMPONENT=5939 1 2 0 0
COMPONENT=5943 2 -1 0 0
COMPONENT=5942 2 0 0 0
COMPONENT=5941 2 1 0 0

ON=@Create
//SECTOR.ALLCLIENTS SOUND 42

[ITEMDEF i_multi_pentagram]
NAME=Pentagram
ID=0fea
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Pentagram
MULTIREGION=0,0,0,0
COMPONENT=0fe6,-1,  0, 0
COMPONENT=0fe7,-1, -1, 0
COMPONENT=0fe8, 0, -1, 0
COMPONENT=0fe9,-1,  1, 0
COMPONENT=0feb, 1, -1, 0
COMPONENT=0fec, 0,  1, 0
COMPONENT=0fed, 1,  1, 0
COMPONENT=0fee, 1,  0, 0

[ITEMDEF i_multi_blood_pent]
NAME=blood pentagram
ID=01d11
TYPE=t_multi
CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Blood Pentagram
MULTIREGION=0,0,0,0
COMPONENT=01d09,-1,0
COMPONENT=01cfa,-1,-1
COMPONENT=01d0a,0,-1
COMPONENT=01d08,-1,1
COMPONENT=01d0b,1,-1
COMPONENT=01d12,1,0
COMPONENT=01d0f,1,1
COMPONENT=01d07,-1,2
COMPONENT=01d10,0,1
COMPONENT=01cf9,-1,-2
COMPONENT=01cfc,0,-2
COMPONENT=01cfd,1,-2
COMPONENT=01cfe,2,-2
COMPONENT=01cff,3,-2
COMPONENT=01cf9,-2,-1
COMPONENT=01d0c,2,-1
COMPONENT=01d00,3,-1
COMPONENT=01cf8,-2,0
COMPONENT=01d0d,2,0
COMPONENT=01d01,3,0
COMPONENT=01cf7,-2,1
COMPONENT=01d0e,2,1
COMPONENT=01d02,3,1
COMPONENT=01cf6,-2,2
//COMPONENT=01d08,-1,1
COMPONENT=01d06,0,2
COMPONENT=01d05,1,2
COMPONENT=01d04,2,2
COMPONENT=01d03,3,2
COMPONENT=01cf5,-2,3
COMPONENT=01cf4,-1,3
COMPONENT=01cf3,0,3
COMPONENT=01cf2,1,3
COMPONENT=01cf1,2,3

[ITEMDEF i_multi_catapult_s]
// catapult facing south
ID=5705
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=5708 -1 -1 0 0
COMPONENT=5723 -1 0 0 0
COMPONENT=5707 -1 1 0 0
COMPONENT=5726 -1 2 0 0
COMPONENT=5709 0 -1 0 0
COMPONENT=5705 0 2 0 0
COMPONENT=5710 1 -1 0 0
COMPONENT=5717 1 0 0 0
COMPONENT=5710 1 1 0 0
COMPONENT=5731 1 2 0 0
COMPONENT=5711 1 2 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Catapult (south)


[ITEMDEF i_multi_serp_pillar]
ID=9032
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=9022 -2 0 0 0
COMPONENT=9021 -2 1 0 0
COMPONENT=9020 -2 2 0 0
COMPONENT=9024 -1 -1 0 0
COMPONENT=9029 -1 0 0 0
COMPONENT=9028 -1 1 0 0
COMPONENT=9027 -1 2 0 0
COMPONENT=9025 0 -1 0 0
COMPONENT=9031 0 1 0 0
COMPONENT=9030 0 2 0 0
COMPONENT=9026 1 -1 0 0
COMPONENT=9034 1 0 0 0
COMPONENT=9033 1 1 0 0
COMPONENT=0233f -1 0 11 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Serpent Pillar


[ITEMDEF i_multi_light_house]
ID=i_gold
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=6843 -4 -4 0 0
COMPONENT=6844 -4 -3 0 0
COMPONENT=6845 -4 -2 0 0
COMPONENT=6842 -3 -4 0 0
COMPONENT=6862 -3 -3 0 0
COMPONENT=6861 -3 -2 0 0
COMPONENT=6847 -3 -1 0 0
COMPONENT=6849 -3 0 0 0
COMPONENT=6841 -2 -4 0 0
COMPONENT=6863 -2 -3 0 0
COMPONENT=6859 -2 -2 0 0
COMPONENT=6858 -2 -1 0 0
COMPONENT=6855 -2 0 0 0
COMPONENT=6852 -2 1 0 0
COMPONENT=6820 -2 2 0 0
COMPONENT=6839 -1 -3 0 0
COMPONENT=6860 -1 -2 0 0
COMPONENT=6821 -1 2 0 0
COMPONENT=6835 0 -3 0 0
COMPONENT=6832 0 -2 0 0
COMPONENT=6822 0 2 0 0
COMPONENT=6829 1 -2 0 0
COMPONENT=6864 1 1 0 0
COMPONENT=6823 1 2 0 0
COMPONENT=6828 2 -2 0 0
COMPONENT=6827 2 -1 0 0
COMPONENT=6826 2 0 0 0
COMPONENT=6825 2 1 0 0
COMPONENT=6824 2 2 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Light House


[ITEMDEF i_multi_tree_pine]
NAME=Pine Tree
ID=3288
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=3289 0 0 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Pine Tree


[ITEMDEF i_multi_statue]
NAME=Statue
ID=5022
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=5023 -1 0 0 0
COMPONENT=5024 0 -1 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Statue


[ITEMDEF i_multi_tree_yew]
NAME=Yew Tree
ID=4803
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=4798 -5 5
COMPONENT=4799 -4 4
COMPONENT=4790 -4 4
COMPONENT=4800 -3 3
COMPONENT=4791 -3 3
COMPONENT=4801 -2 2
COMPONENT=4792 -2 2
COMPONENT=4802 -1 1
COMPONENT=4793 -1 1
COMPONENT=4794 0 0
COMPONENT=4804 1 -1
COMPONENT=4795 1 -1
COMPONENT=4805 2 -2
COMPONENT=4796 2 -2
COMPONENT=4806 3 -3
COMPONENT=4797 3 -3
COMPONENT=4807 4 -4

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Yew Tree


[ITEMDEF i_multi_altar]
ID=01216
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=4622 -1 -1 0 0
COMPONENT=4629 -1 0 0 0
COMPONENT=4628 -1 1 0 0
COMPONENT=4623 0 -1 0 0
COMPONENT=4627 0 1 0 0
COMPONENT=4624 1 -1 0 0
COMPONENT=4625 1 0 0 0
COMPONENT=4626 1 1 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Altar


[ITEMDEF i_multi_telescope]
// telescope
ID=i_gold
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=5268 -4 0 2 0
COMPONENT=5211 -4 1 2 0
COMPONENT=5210 -4 2 2 0
COMPONENT=5269 -3 -1 2 0
COMPONENT=5212 -3 2 2 0
COMPONENT=5213 -3 3 2 0
COMPONENT=5270 -2 -2 2 0
COMPONENT=5273 -2 -1 2 0
COMPONENT=5262 -2 1 2 0
COMPONENT=5267 -2 2 2 0
COMPONENT=5266 -2 3 2 0
COMPONENT=5214 -2 4 2 0
COMPONENT=5209 -2 5 2 0
COMPONENT=5271 -1 -3 2 0
COMPONENT=5215 -1 4 2 0
COMPONENT=5217 -1 5 2 0
COMPONENT=5274 0 -4 2 0
COMPONENT=5272 0 -3 2 0
COMPONENT=5263 0 -1 2 0
COMPONENT=5261 0 1 2 0
COMPONENT=5256 0 3 2 0
COMPONENT=5216 0 4 2 0
COMPONENT=5218 0 5 2 0
COMPONENT=5264 1 -1 2 0
COMPONENT=5259 1 0 2 0
COMPONENT=5258 1 1 2 0
COMPONENT=5254 1 2 2 0
COMPONENT=5253 1 3 2 0
COMPONENT=5244 2 -5 2 0
COMPONENT=5265 2 -1 2 0
COMPONENT=5260 2 0 2 0
COMPONENT=5257 2 1 2 0
COMPONENT=5255 2 2 2 0
COMPONENT=5252 2 3 2 0
COMPONENT=5219 2 5 2 0
COMPONENT=5243 3 -5 2 0
COMPONENT=5247 3 -2 2 0
COMPONENT=5248 3 -1 2 0
COMPONENT=5250 3 0 2 0
COMPONENT=5225 3 1 2 0
COMPONENT=5224 3 2 2 0
COMPONENT=5221 3 3 2 0
COMPONENT=5220 3 4 2 0
COMPONENT=5242 4 -5 2 0
COMPONENT=5241 4 -4 2 0
COMPONENT=5239 4 -3 2 0
COMPONENT=5246 4 -2 2 0
COMPONENT=5249 4 -1 2 0
COMPONENT=5251 4 0 2 0
COMPONENT=5226 4 1 2 0
COMPONENT=5223 4 2 2 0
COMPONENT=5222 4 3 2 0
COMPONENT=5240 5 -4 2 0
COMPONENT=5237 5 -3 2 0
COMPONENT=5236 5 -2 2 0
COMPONENT=5231 5 -1 2 0
COMPONENT=5230 5 0 2 0
COMPONENT=5229 5 1 2 0
COMPONENT=5228 5 2 2 0
COMPONENT=5238 6 -3 2 0
COMPONENT=5235 6 -2 2 0
COMPONENT=5232 6 -1 2 0
COMPONENT=5233 6 0 2 0
COMPONENT=5234 6 1 2 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Telescope


[ITEMDEF i_multi_skull_pile]
ID=6875
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=6874 -1 1 0 0
COMPONENT=6873 0 1 0 0
COMPONENT=6877 1 -1 0 0
COMPONENT=6876 1 0 0 0
COMPONENT=6872 1 1 0 0
COMPONENT=6878 2 -1 0 0
COMPONENT=6879 2 0 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Skull Pile


[ITEMDEF i_multi_coffin1]
// east west facing
ID=7288
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=7287 1 0 0 0
COMPONENT=7292 1 -1 0 0
COMPONENT=7291 0 -1 0 0
COMPONENT=7289 -1 0 0 0
COMPONENT=7290 -1 -1 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Coffin (e/w)


[ITEMDEF i_multi_coffin1_open]
ID=7304
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=7302 2 0 0 0
COMPONENT=7311 2 -1 0 0
COMPONENT=7303 1 0 0 0
COMPONENT=7310 1 -1 0 0
COMPONENT=7309 0 -1 0 0
COMPONENT=7305 -1 0 0 0
COMPONENT=7308 -1 -1 0 0
COMPONENT=7306 -2 0 0 0
COMPONENT=7307 -2 -1 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Open Coffin (e/w)


[ITEMDEF i_multi_coffin2]
ID=7268
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=7264 1 1 0 0
COMPONENT=7269 1 0 0 0
COMPONENT=7265 0 1 0 0
COMPONENT=7266 -1 1 0 0
COMPONENT=7267 -1 0 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Coffin (e/w)


[ITEMDEF i_multi_coffin2_open]
ID=7273
TYPE=t_multi

MULTIREGION=0,0,0,0
COMPONENT=7272 1 1 0 0
COMPONENT=7271 0 1 0 0
COMPONENT=7563 0 0 6 0
COMPONENT=7278 0 -1 0 0
COMPONENT=7270 -1 1 0 0
COMPONENT=7274 -1 0 0 0
COMPONENT=7562 -1 0 6 0
COMPONENT=7277 -1 -1 0 0
COMPONENT=7275 -2 0 0 0
COMPONENT=7276 -2 -1 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Open Coffin (e/w)


[ITEMDEF i_multi_coffin2n]
ID=7313
TYPE=t_multi
MULTIREGION=0,0,0,0
COMPONENT=7312 0 1 0 0
COMPONENT=7314 0 -1 0 0
COMPONENT=7317 -1 1 0 0
COMPONENT=7316 -1 0 0 0
COMPONENT=7315 -1 -1 0 0

CATEGORY=Multis
SUBSECTION=Misc
DESCRIPTION=Coffin (n/s)

[ITEMDEF 04018]
DEFNAME=i_large_three_story_brick_house
NAME=Large Three Story Brick House
TYPE=t_multi
VALUE=750000
MULTIREGION=-8,-9,7,10
COMPONENT=06EB,4,3,40,0
COMPONENT=06E9,-1,-3,40,0
COMPONENT=06EB,0,-3,40,0
COMPONENT=06E7,0,0,20,0
COMPONENT=06E5,-1,0,20,0
COMPONENT=06E9,-5,3,40,0
COMPONENT=06E5,-5,0,0,0
COMPONENT=06E7,4,0,0,0
COMPONENT=06E9,-1,0,0,0
COMPONENT=06EB,0,0,0,0
COMPONENT=06E5,-1,9,0,0
COMPONENT=0BD2,1,10,0,0
COMPONENT=06E7,0,9,0,0

CATEGORY=Multis
SUBSECTION=Houses
DESCRIPTION=Large Three Story Brick House

[ITEMDEF i_flying_carpet]
ID=0ac6
NAME=Flying Carpet
TYPE=t_ship

CATEGORY=Multis
SUBSECTION=Other
DESCRIPTION=Flying Carpet

MULTIREGION=-7,-2,7,2
COMPONENT=0ac6,0,1
COMPONENT=0ac6,1,0
COMPONENT=0ac6,1,1
COMPONENT=0ac6,2,0
COMPONENT=0ac6,2,1
COMPONENT=0ac9,3,2
COMPONENT=0aca,-1,-1
COMPONENT=0acb,-1,2
COMPONENT=0acc,3,-1
COMPONENT=0acd,-1,0
COMPONENT=0acd,-1,1
COMPONENT=0ace,0,-1
COMPONENT=0ace,1,-1
COMPONENT=0ace,2,-1
COMPONENT=0acf,3,0
COMPONENT=0acf,3,1
COMPONENT=0ad0,0,2
COMPONENT=0ad0,1,2
COMPONENT=0ad0,2,2
TSPEECH spk_ship_cmds

ON=@DClick
IF <SRC.UID>==<MORE>
SRC.NEWITEM i_rolled_up_flying_carpet
SRC.ACT.BOUNCE
REMOVE
RETURN 1
ELSE
SYSMESSAGE Only the owner can roll up the flying carpet.
RETURN 1
ENDIF

[EOF]
